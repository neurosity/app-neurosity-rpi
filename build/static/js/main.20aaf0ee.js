/*! For license information please see main.20aaf0ee.js.LICENSE.txt */
!function(){var e={5318:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},7757:function(e,t,n){e.exports=n(9727)},1308:function(e){function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=1308,e.exports=t},5524:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,i=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return r.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}))},676:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return re}});var r=n(4942),i=n(2791),o=n(5524);function s(e,t){return s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},s(e,t)}var a=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(s){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var u=function(e){function t(e,r,u,c,h){for(var p,d,v,y,_,E=0,S=0,O=0,x=0,k=0,N=0,j=v=p=0,M=0,L=0,F=0,U=0,V=u.length,W=V-1,B="",q="",z="",H="";M<V;){if(d=u.charCodeAt(M),M===W&&0!==S+x+O+E&&(0!==S&&(d=47===S?10:47),x=O=E=0,V++,W++),0===S+x+O+E){if(M===W&&(0<L&&(B=B.replace(f,"")),0<B.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}d=59}switch(d){case 123:for(p=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(d=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(M+1)){case 42:case 47:e:{for(j=M+1;j<W;++j)switch(u.charCodeAt(j)){case 47:if(42===d&&42===u.charCodeAt(j-1)&&M+2!==j){M=j+1;break e}break;case 10:if(47===d){M=j+1;break e}}M=j}}break;case 91:d++;case 40:d++;case 34:case 39:for(;M++<W&&u.charCodeAt(M)!==d;);}if(0===v)break;M++}if(v=u.substring(U,M),0===p&&(p=(B=B.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<L&&(B=B.replace(f,"")),d=B.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=A}if(U=(v=t(r,L,v,d,h+1)).length,0<D&&(_=a(3,v,L=n(A,B,F),r,T,C,U,d,h,c),B=L.join(""),void 0!==_&&0===(U=(v=_.trim()).length)&&(d=0,v="")),0<U)switch(d){case 115:B=B.replace(w,s);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(m,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,F),v,c,h+1);z+=v,v=F=L=j=p=0,B="",d=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<L?B.replace(f,""):B).trim()).length))switch(0===j&&(p=B.charCodeAt(0),45===p||96<p&&123>p)&&(U=(B=B.replace(" ",":")).length),0<D&&void 0!==(_=a(1,B,r,e,T,C,q.length,c,h,c))&&0===(U=(B=_.trim()).length)&&(B="\0\0"),p=B.charCodeAt(0),d=B.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){H+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,p,d,B.charCodeAt(2)))}F=L=j=p=0,B="",d=u.charCodeAt(++M)}}switch(d){case 13:case 10:47===S?S=0:0===1+p&&107!==c&&0<B.length&&(L=1,B+="\0"),0<D*R&&a(0,B,r,e,T,C,q.length,c,h,c),C=1,T++;break;case 59:case 125:if(0===S+x+O+E){C++;break}default:switch(C++,y=u.charAt(M),d){case 9:case 32:if(0===x+E+S)switch(k){case 44:case 58:case 9:case 32:y="";break;default:32!==d&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===x+S+E&&(L=F=1,y="\f"+y);break;case 108:if(0===x+S+E+I&&0<j)switch(M-j){case 2:112===k&&58===u.charCodeAt(M-3)&&(I=k);case 8:111===N&&(I=N)}break;case 58:0===x+S+E&&(j=M);break;case 44:0===S+O+x+E&&(L=1,y+="\r");break;case 34:case 39:0===S&&(x=x===d?0:0===x?d:x);break;case 91:0===x+S+O&&E++;break;case 93:0===x+S+O&&E--;break;case 41:0===x+S+E&&O--;break;case 40:if(0===x+S+E){if(0===p)if(2*k+3*N===533);else p=1;O++}break;case 64:0===S+O+x+E+j+v&&(v=1);break;case 42:case 47:if(!(0<x+E+O))switch(S){case 0:switch(2*d+3*u.charCodeAt(M+1)){case 235:S=47;break;case 220:U=M,S=42}break;case 42:47===d&&42===k&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),y="",S=0)}}0===S&&(B+=y)}N=k,k=d,M++}if(0<(U=q.length)){if(L=r,0<D&&(void 0!==(_=a(2,q,L,e,T,C,U,c,h,c))&&0===(q=_).length))return H+q+z;if(q=L.join(",")+"{"+q+"}",0!==P*I){switch(2!==P||o(q,2)||(I=0),I){case 111:q=q.replace(g,":-moz-$1")+q;break;case 112:q=q.replace(b,"::-webkit-input-$1")+q.replace(b,"::-moz-$1")+q.replace(b,":-ms-input-$1")+q}I=0}}return H+q+z}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,s=e.length;switch(s){case 0:case 1:var a=0;for(e=0===s?"":e[0]+" ";a<o;++a)t[a]=r(e,t[a],n).trim();break;default:var u=a=0;for(t=[];a<o;++a)for(var c=0;c<s;++c)t[u++]=r(e[c]+" ",i[a],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var s=e+";",a=2*t+3*n+4*r;if(944===a){e=s.indexOf(":",9)+1;var u=s.substring(e,s.length-1).trim();return u=s.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(k,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return p.test(s)?s.replace(h,":-webkit-")+s.replace(h,":-moz-")+s:s;case 1e3:switch(t=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=s.replace(_,"tb");break;case 232:u=s.replace(_,"tb-rl");break;case 220:u=s.replace(_,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,a=(u=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(S,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(S,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+r&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+s}return s}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?r:r.replace(O,"$1"),n,t)}function s(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,s,a,u,l){for(var f,h=0,p=t;h<D;++h)switch(f=N[h].call(c,e,p,n,r,i,o,s,a,u,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!==typeof e?P=1:(P=2,j=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=a(-1,n,r,r,T,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(A,r,n,0,0);return 0<D&&(void 0!==(i=a(-2,o,r,r,T,C,o.length,0,0,0))&&(o=i)),"",I=0,C=T=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,g=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,C=1,T=1,I=0,P=1,A=[],N=[],D=0,j=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:D=N.length=0;break;default:if("function"===typeof t)N[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},c="/*|*/";function l(e){e&&f.current.insert(e+"}")}var f={current:null},h=function(e,t,n,r,i,o,s,a,u,h){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return f.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===a)return t+c;break;case 3:switch(a){case 102:case 112:return f.current.insert(n[0]+t),"";default:return t+(0===h?c:"")}case-2:t.split("/*|*/}").forEach(l)}},p=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new u(t);var i,o={};i=e.container||document.head;var s,c=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(c,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){o[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),r.use(e.stylisPlugins)(h),s=function(e,t,n,i){var o=t.name;f.current=n,r(e,t.styles),i&&(l.inserted[o]=!0)};var l={key:n,sheet:new a({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:o,registered:{},insert:s};return l};var d=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},v={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var y=/[A-Z]|^ms/g,m=/_EMO_([^_]+?)_([^]*?)_EMO_/g,b=function(e){return 45===e.charCodeAt(1)},g=function(e){return null!=e&&"boolean"!==typeof e},_=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return b(e)?e:e.replace(y,"-$&").toLowerCase()})),w=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(m,(function(e,t,n){return S={name:t,styles:n,next:S},t}))}return 1===v[e]||b(e)||"number"!==typeof t||0===t?t:t+"px"};function E(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return S={name:n.name,styles:n.styles,next:S},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)S={name:i.name,styles:i.styles,next:S},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=E(e,t,n[i],!1);else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":g(s)&&(r+=_(o)+":"+w(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=E(e,t,s,!1);switch(o){case"animation":case"animationName":r+=_(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var u=0;u<s.length;u++)g(s[u])&&(r+=_(o)+":"+w(o,s[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=S,s=n(e);return S=o,E(e,t,s,r)}}if(null==t)return n;var a=t[n];return void 0===a||r?n:a}var S,O=/label:\s*([^\s;\n{]+)\s*;/g;var x=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";S=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=E(n,t,o,!1)):i+=o[0];for(var s=1;s<e.length;s++)i+=E(n,t,e[s],46===i.charCodeAt(i.length-1)),r&&(i+=o[s]);O.lastIndex=0;for(var a,u="";null!==(a=O.exec(i));)u+="-"+a[1];return{name:d(i)+u,styles:i,next:S}},k=(Object.prototype.hasOwnProperty,(0,i.createContext)("undefined"!==typeof HTMLElement?p():null)),C=(0,i.createContext)({}),T=(k.Provider,function(e){var t=function(t,n){return(0,i.createElement)(k.Consumer,null,(function(r){return e(t,r,n)}))};return(0,i.forwardRef)(t)});var I=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var P=/[A-Z]|^ms/g,A=function(e){return 45===e.charCodeAt(1)};!function(e){var t={}}((function(e){return A(e)?e:e.replace(P,"-$&").toLowerCase()}));i.Component;var N=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))s=e(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(i&&(i+=" "),i+=s)}}return i};function D(e,t,n){var r=[],i=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}(e,r,n);return r.length<2?n:i+t(r)}var j=function(){return null};T((function(e,t){return(0,i.createElement)(C.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=x(n,t.registered);return I(t,i,!1),t.key+"-"+i.name},o={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return D(t.registered,r,N(n))},theme:n},s=e.children(o);var a=(0,i.createElement)(j,null);return(0,i.createElement)(i.Fragment,null,a,s)}))}));function R(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var M=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var L=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},F={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var U=/[A-Z]|^ms/g,V=/_EMO_([^_]+?)_([^]*?)_EMO_/g,W=function(e){return 45===e.charCodeAt(1)},B=function(e){return null!=e&&"boolean"!==typeof e},q=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return W(e)?e:e.replace(U,"-$&").toLowerCase()})),z=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(V,(function(e,t,n){return Y={name:t,styles:n,next:Y},t}))}return 1===F[e]||W(e)||"number"!==typeof t||0===t?t:t+"px"};function H(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Y={name:n.name,styles:n.styles,next:Y},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)Y={name:i.name,styles:i.styles,next:Y},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=H(e,t,n[i],!1);else for(var o in n){var s=n[o];if("object"!==typeof s)null!=t&&void 0!==t[s]?r+=o+"{"+t[s]+"}":B(s)&&(r+=q(o)+":"+z(o,s)+";");else if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var a=H(e,t,s,!1);switch(o){case"animation":case"animationName":r+=q(o)+":"+a+";";break;default:r+=o+"{"+a+"}"}}else for(var u=0;u<s.length;u++)B(s[u])&&(r+=q(o)+":"+z(o,s[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=Y,s=n(e);return Y=o,H(e,t,s,r)}}if(null==t)return n;var a=t[n];return void 0===a||r?n:a}var Y,G=/label:\s*([^\s;\n{]+)\s*;/g;var K=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";Y=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=H(n,t,o,!1)):i+=o[0];for(var s=1;s<e.length;s++)i+=H(n,t,e[s],46===i.charCodeAt(i.length-1)),r&&(i+=o[s]);G.lastIndex=0;for(var a,u="";null!==(a=G.exec(i));)u+="-"+a[1];return{name:L(i)+u,styles:i,next:Y}},Q=o.Z,X=function(e){return"theme"!==e&&"innerRef"!==e},$=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?Q:X};function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ee=function(){return null},te=function e(t,n){var r,o,s;void 0!==n&&(r=n.label,s=n.target,o=t.__emotion_forwardProp&&n.shouldForwardProp?function(e){return t.__emotion_forwardProp(e)&&n.shouldForwardProp(e)}:n.shouldForwardProp);var a=t.__emotion_real===t,u=a&&t.__emotion_base||t;"function"!==typeof o&&a&&(o=t.__emotion_forwardProp);var c=o||$(u),l=!c("as");return function(){var f=arguments,h=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&h.push("label:"+r+";"),null==f[0]||void 0===f[0].raw)h.push.apply(h,f);else{0,h.push(f[0][0]);for(var p=f.length,d=1;d<p;d++)h.push(f[d],f[0][d])}var v=T((function(e,t,n){return(0,i.createElement)(C.Consumer,null,(function(r){var a=l&&e.as||u,f="",p=[],d=e;if(null==e.theme){for(var v in d={},e)d[v]=e[v];d.theme=r}"string"===typeof e.className?f=R(t.registered,p,e.className):null!=e.className&&(f=e.className+" ");var y=K(h.concat(p),t.registered,d);M(t,y,"string"===typeof a);f+=t.key+"-"+y.name,void 0!==s&&(f+=" "+s);var m=l&&void 0===o?$(a):c,b={};for(var g in e)l&&"as"===g||m(g)&&(b[g]=e[g]);b.className=f,b.ref=n||e.innerRef;var _=(0,i.createElement)(a,b),w=(0,i.createElement)(ee,null);return(0,i.createElement)(i.Fragment,null,w,_)}))}));return v.displayName=void 0!==r?r:"Styled("+("string"===typeof u?u:u.displayName||u.name||"Component")+")",v.defaultProps=t.defaultProps,v.__emotion_real=v,v.__emotion_base=u,v.__emotion_styles=h,v.__emotion_forwardProp=o,Object.defineProperty(v,"toString",{value:function(){return"."+s}}),v.withComponent=function(t,r){return e(t,void 0!==r?Z({},n||{},{},r):n).apply(void 0,h)},v}},ne=te.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){ne[e]=ne(e)}));var re=ne},2119:function(e,t,n){var r=n(7757);parcelRequire=function(t,r,i,o){var s,a="function"==typeof parcelRequire&&parcelRequire;function u(e,i){if(!r[e]){if(!t[e]){var o="function"==typeof parcelRequire&&parcelRequire;if(!i&&o)return o(e,!0);if(a)return a(e,!0);if("string"==typeof e)return n(1308)(e);var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}l.resolve=function(n){return t[e][1][n]||n},l.cache={};var c=r[e]=new u.Module(e);t[e][0].call(c.exports,l,c,c.exports,this)}return r[e].exports;function l(e){return u(l.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=r,u.parent=a,u.register=function(e,n){t[e]=[function(e,t){t.exports=n},{}]};for(var c=0;c<i.length;c++)try{u(i[c])}catch(t){s||(s=t)}if(i.length){var l=u(i[i.length-1]);e.exports=l}if(parcelRequire=u,s)throw s;return u}({vCxL:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.__extends=function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n.__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},n.__decorate=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},n.__param=function(e,t){return function(n,r){t(n,r,e)}},n.__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n.__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))},n.__generator=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},n.__exportStar=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},n.__values=o,n.__read=s,n.__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},n.__await=a,n.__asyncGenerator=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=i[e](t)).value instanceof a?Promise.resolve(n.value.v).then(c,l):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function c(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}},n.__asyncDelegator=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:a(e[r](t)),done:"return"===r}:i?i(t):t}:i}},n.__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=o(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},n.__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},n.__importDefault=function(e){return e&&e.__esModule?e:{default:e}},n.__assign=void 0;var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var i=function(){return n.__assign=i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};function o(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(e){return this instanceof a?(this.v=e,this):new a(e)}n.__assign=i},{}],Qnsq:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isFunction=function(e){return"function"==typeof e}},{}],Q3iD:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.config=void 0;var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack,r=e},get useDeprecatedSynchronousErrorHandling(){return r}};n.config=i},{}],JfKC:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.hostReportError=function(e){setTimeout((function(){throw e}),0)}},{}],wIlR:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.empty=void 0;var r=e("./config"),i=e("./util/hostReportError"),o={closed:!0,next:function(e){},error:function(e){if(r.config.useDeprecatedSynchronousErrorHandling)throw e;(0,i.hostReportError)(e)},complete:function(){}};n.empty=o},{"./config":"Q3iD","./util/hostReportError":"JfKC"}],KeTG:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isArray=void 0;var r=Array.isArray||function(e){return e&&"number"==typeof e.length};n.isArray=r},{}],nU7r:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isObject=function(e){return null!==e&&"object"==typeof e}},{}],pMaL:[function(e,t,n){"use strict";function r(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}Object.defineProperty(n,"__esModule",{value:!0}),n.UnsubscriptionError=void 0,r.prototype=Object.create(Error.prototype);var i=r;n.UnsubscriptionError=i},{}],I8KM:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Subscription=void 0;var r=e("./util/isArray"),i=e("./util/isObject"),o=e("./util/isFunction"),s=e("./util/UnsubscriptionError"),a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l)n[l].remove(this);if((0,o.isFunction)(a))try{a.call(this)}catch(p){t=p instanceof s.UnsubscriptionError?u(p.errors):[p]}if((0,r.isArray)(c)){l=-1;for(var f=c.length;++l<f;){var h=c[l];if((0,i.isObject)(h))try{h.unsubscribe()}catch(p){t=t||[],p instanceof s.UnsubscriptionError?t=t.concat(u(p.errors)):t.push(p)}}}if(t)throw new s.UnsubscriptionError(t)}},e.prototype.add=function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof s.UnsubscriptionError?t.errors:t)}),[])}n.Subscription=a},{"./util/isArray":"KeTG","./util/isObject":"nU7r","./util/isFunction":"Qnsq","./util/UnsubscriptionError":"pMaL"}],yAZp:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.$$rxSubscriber=n.rxSubscriber=void 0;var r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();n.rxSubscriber=r;var i=r;n.$$rxSubscriber=i},{}],RaFB:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SafeSubscriber=n.Subscriber=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("./util/isFunction"),o=e("./Observer"),s=e("./Subscription"),a=e("../internal/symbol/rxSubscriber"),u=e("./config"),c=e("./util/hostReportError");function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var f=function(e){function t(n,r,i){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.empty;break;case 1:if(!n){s.destination=o.empty;break}if("object"==typeof n){n instanceof t?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new h(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new h(s,n,r,i)}return s}return r.__extends(t,e),t.prototype[a.rxSubscriber]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.Subscription);n.Subscriber=f;var h=function(e){function t(t,n,r,s){var a,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return(0,i.isFunction)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.empty&&(c=Object.create(n),(0,i.isFunction)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=r,u._complete=s,u}return r.__extends(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.hostReportError)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.hostReportError)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};u.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(o){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw o;(0,c.hostReportError)(o)}},t.prototype.__tryOrSetError=function(t,n,r){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(e){return u.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):((0,c.hostReportError)(e),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(f);n.SafeSubscriber=h},{tslib:"vCxL","./util/isFunction":"Qnsq","./Observer":"wIlR","./Subscription":"I8KM","../internal/symbol/rxSubscriber":"yAZp","./config":"Q3iD","./util/hostReportError":"JfKC"}],wHmS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.canReportError=function(e){for(;e;){var t=e,n=t.closed,i=t.destination,o=t.isStopped;if(n||o)return!1;e=i&&i instanceof r.Subscriber?i:null}return!0};var r=e("../Subscriber")},{"../Subscriber":"RaFB"}],SEU0:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toSubscriber=function(e,t,n){if(e){if(e instanceof r.Subscriber)return e;if(e[i.rxSubscriber])return e[i.rxSubscriber]()}return e||t||n?new r.Subscriber(e,t,n):new r.Subscriber(o.empty)};var r=e("../Subscriber"),i=e("../symbol/rxSubscriber"),o=e("../Observer")},{"../Subscriber":"RaFB","../symbol/rxSubscriber":"yAZp","../Observer":"wIlR"}],tjV3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.observable=void 0;var r="function"==typeof Symbol&&Symbol.observable||"@@observable";n.observable=r},{}],rXfM:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.noop=function(){}},{}],HQCS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i(e)},n.pipeFromArray=i;var r=e("./noop");function i(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:r.noop}},{"./noop":"rXfM"}],wbSE:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Observable=void 0;var r=e("./util/canReportError"),i=e("./util/toSubscriber"),o=e("./symbol/observable"),s=e("./util/pipe"),a=e("./config"),u=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=(0,i.toSubscriber)(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),a.config.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(o){a.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=o),(0,r.canReportError)(e)?e.error(o):console.warn(o)}},e.prototype.forEach=function(e,t){var n=this;return new(t=c(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[o.observable]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:(0,s.pipeFromArray)(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=c(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function c(e){if(e||(e=a.config.Promise||Promise),!e)throw new Error("no Promise impl found");return e}n.Observable=u},{"./util/canReportError":"wHmS","./util/toSubscriber":"SEU0","./symbol/observable":"tjV3","./util/pipe":"HQCS","./config":"Q3iD"}],xQEi:[function(e,t,n){"use strict";function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}Object.defineProperty(n,"__esModule",{value:!0}),n.ObjectUnsubscribedError=void 0,r.prototype=Object.create(Error.prototype);var i=r;n.ObjectUnsubscribedError=i},{}],fyc3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SubjectSubscription=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return r.__extends(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(e("./Subscription").Subscription);n.SubjectSubscription=o},{tslib:"vCxL","./Subscription":"I8KM"}],r9t1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AnonymousSubject=n.Subject=n.SubjectSubscriber=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("./Observable"),o=e("./Subscriber"),s=e("./Subscription"),a=e("./util/ObjectUnsubscribedError"),u=e("./SubjectSubscription"),c=e("../internal/symbol/rxSubscriber");function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var f=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return r.__extends(t,e),t}(o.Subscriber);n.SubjectSubscriber=f;var h=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.__extends(t,e),t.prototype[c.rxSubscriber]=function(){return new f(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),s.Subscription.EMPTY):this.isStopped?(e.complete(),s.Subscription.EMPTY):(this.observers.push(e),new u.SubjectSubscription(this,e))},t.prototype.asObservable=function(){var e=new i.Observable;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(i.Observable);n.Subject=h;var p=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return r.__extends(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.Subscription.EMPTY},t}(h);n.AnonymousSubject=p},{tslib:"vCxL","./Observable":"wbSE","./Subscriber":"RaFB","./Subscription":"I8KM","./util/ObjectUnsubscribedError":"xQEi","./SubjectSubscription":"fyc3","../internal/symbol/rxSubscriber":"yAZp"}],vT9o:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.refCount=function(){return function(e){return e.lift(new s(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new a(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.__extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],kkfD:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.connectableObservableDescriptor=n.ConnectableObservable=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subject"),o=e("../Observable"),s=e("../Subscriber"),a=e("../Subscription"),u=e("../operators/refCount");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.__extends(t,e),t.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},t.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},t.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new a.Subscription).add(this.source.subscribe(new p(this.getSubject(),this))),e.closed&&(this._connection=null,e=a.Subscription.EMPTY)),e},t.prototype.refCount=function(){return(0,u.refCount)()(this)},t}(o.Observable);n.ConnectableObservable=l;var f=l.prototype,h={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:f._subscribe},_isComplete:{value:f._isComplete,writable:!0},getSubject:{value:f.getSubject},connect:{value:f.connect},refCount:{value:f.refCount}};n.connectableObservableDescriptor=h;var p=function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.__extends(t,e),t.prototype._error=function(t){this._unsubscribe(),e.prototype._error.call(this,t)},t.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},t}(i.SubjectSubscriber),d=(function(){function e(e){this.connectable=e}e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new d(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}(),function(e){function t(t,n){var r=e.call(this,t)||this;return r.connectable=n,r}return r.__extends(t,e),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},t}(s.Subscriber))},{tslib:"vCxL","../Subject":"r9t1","../Observable":"wbSE","../Subscriber":"RaFB","../Subscription":"I8KM","../operators/refCount":"vT9o"}],dNgG:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.groupBy=function(e,t,n,r){return function(i){return i.lift(new c(e,t,n,r))}},n.GroupedObservable=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../Subscription"),s=e("../Observable"),a=e("../Subject");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=function(){function e(e,t,n,r){this.keySelector=e,this.elementSelector=t,this.durationSelector=n,this.subjectSelector=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r.__extends(t,e),t.prototype._next=function(e){var n;try{n=this.keySelector(e)}catch(t){return void this.error(t)}this._group(e,n)},t.prototype._group=function(e,t){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(t);if(this.elementSelector)try{r=this.elementSelector(e)}catch(c){this.error(c)}else r=e;if(!i){i=this.subjectSelector?this.subjectSelector():new a.Subject,n.set(t,i);var o=new h(t,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new h(t,i))}catch(c){return void this.error(c)}this.add(s.subscribe(new f(t,i,this)))}}i.closed||i.next(r)},t.prototype._error=function(e){var t=this.groups;t&&(t.forEach((function(t,n){t.error(e)})),t.clear()),this.destination.error(e)},t.prototype._complete=function(){var e=this.groups;e&&(e.forEach((function(e,t){e.complete()})),e.clear()),this.destination.complete()},t.prototype.removeGroup=function(e){this.groups.delete(e)},t.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&e.prototype.unsubscribe.call(this))},t}(i.Subscriber),f=function(e){function t(t,n,r){var i=e.call(this,n)||this;return i.key=t,i.group=n,i.parent=r,i}return r.__extends(t,e),t.prototype._next=function(e){this.complete()},t.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},t}(i.Subscriber),h=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.groupSubject=n,i.refCountSubscription=r,i}return r.__extends(t,e),t.prototype._subscribe=function(e){var t=new o.Subscription,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&t.add(new p(n)),t.add(r.subscribe(e)),t},t}(s.Observable);n.GroupedObservable=h;var p=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,t.count++,n}return r.__extends(t,e),t.prototype.unsubscribe=function(){var t=this.parent;t.closed||this.closed||(e.prototype.unsubscribe.call(this),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())},t}(o.Subscription)},{tslib:"vCxL","../Subscriber":"RaFB","../Subscription":"I8KM","../Observable":"wbSE","../Subject":"r9t1"}],MPU6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BehaviorSubject=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("./Subject"),o=e("./util/ObjectUnsubscribedError");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return r.__extends(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.ObjectUnsubscribedError;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(i.Subject);n.BehaviorSubject=a},{tslib:"vCxL","./Subject":"r9t1","./util/ObjectUnsubscribedError":"xQEi"}],arqX:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Action=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(t,n){return e.call(this)||this}return r.__extends(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(e("../Subscription").Subscription);n.Action=o},{tslib:"vCxL","../Subscription":"I8KM"}],llYF:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsyncAction=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return r.__extends(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(o){n=!0,r=!!o&&o||new Error(o)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(e("./Action").Action);n.AsyncAction=o},{tslib:"vCxL","./Action":"arqX"}],pLkv:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QueueAction=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.__extends(t,e),t.prototype.schedule=function(t,n){return void 0===n&&(n=0),n>0?e.prototype.schedule.call(this,t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)},t.prototype.execute=function(t,n){return n>0||this.closed?e.prototype.execute.call(this,t,n):this._execute(t,n)},t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?e.prototype.requestAsyncId.call(this,t,n,r):t.flush(this)},t}(e("./AsyncAction").AsyncAction);n.QueueAction=o},{tslib:"vCxL","./AsyncAction":"llYF"}],QglZ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Scheduler=void 0;var r=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}();n.Scheduler=r},{}],hnPK:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsyncScheduler=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Scheduler");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(e){function t(n,r){void 0===r&&(r=i.Scheduler.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.__extends(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(i.Scheduler);n.AsyncScheduler=s},{tslib:"vCxL","../Scheduler":"QglZ"}],j0lZ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.QueueScheduler=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(e("./AsyncScheduler").AsyncScheduler);n.QueueScheduler=o},{tslib:"vCxL","./AsyncScheduler":"hnPK"}],HGOP:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.queue=void 0;var r=e("./QueueAction"),i=new(e("./QueueScheduler").QueueScheduler)(r.QueueAction);n.queue=i},{"./QueueAction":"pLkv","./QueueScheduler":"j0lZ"}],XsKQ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.empty=function(e){return e?o(e):i},n.EMPTY=void 0;var r=e("../Observable"),i=new r.Observable((function(e){return e.complete()}));function o(e){return new r.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}n.EMPTY=i},{"../Observable":"wbSE"}],VqoH:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isScheduler=function(e){return e&&"function"==typeof e.schedule}},{}],lrFe:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToArray=void 0;n.subscribeToArray=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}}},{}],ZGwk:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheduleArray=function(e,t){return new r.Observable((function(n){var r=new i.Subscription,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))};var r=e("../Observable"),i=e("../Subscription")},{"../Observable":"wbSE","../Subscription":"I8KM"}],PJGF:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fromArray=function(e,t){return t?(0,o.scheduleArray)(e,t):new r.Observable((0,i.subscribeToArray)(e))};var r=e("../Observable"),i=e("../util/subscribeToArray"),o=e("../scheduled/scheduleArray")},{"../Observable":"wbSE","../util/subscribeToArray":"lrFe","../scheduled/scheduleArray":"ZGwk"}],wZuk:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.of=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,r.isScheduler)(n)?(e.pop(),(0,o.scheduleArray)(e,n)):(0,i.fromArray)(e)};var r=e("../util/isScheduler"),i=e("./fromArray"),o=e("../scheduled/scheduleArray")},{"../util/isScheduler":"VqoH","./fromArray":"PJGF","../scheduled/scheduleArray":"ZGwk"}],FdIu:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.throwError=function(e,t){return t?new r.Observable((function(n){return t.schedule(i,0,{error:e,subscriber:n})})):new r.Observable((function(t){return t.error(e)}))};var r=e("../Observable");function i(e){var t=e.error;e.subscriber.error(t)}},{"../Observable":"wbSE"}],n7Mc:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Notification=n.NotificationKind=void 0;var r,i=e("./observable/empty"),o=e("./observable/of"),s=e("./observable/throwError");n.NotificationKind=r,function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(r||(n.NotificationKind=r={}));var a=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s.throwError)(this.error);case"C":return(0,i.empty)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();n.Notification=a},{"./observable/empty":"XsKQ","./observable/of":"wZuk","./observable/throwError":"FdIu"}],ezNs:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.observeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}},n.ObserveOnMessage=n.ObserveOnSubscriber=n.ObserveOnOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../Notification");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();n.ObserveOnOperator=a;var u=function(e){function t(t,n,r){void 0===r&&(r=0);var i=e.call(this,t)||this;return i.scheduler=n,i.delay=r,i}return r.__extends(t,e),t.dispatch=function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()},t.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(t.dispatch,this.delay,new c(e,this.destination)))},t.prototype._next=function(e){this.scheduleMessage(o.Notification.createNext(e))},t.prototype._error=function(e){this.scheduleMessage(o.Notification.createError(e)),this.unsubscribe()},t.prototype._complete=function(){this.scheduleMessage(o.Notification.createComplete()),this.unsubscribe()},t}(i.Subscriber);n.ObserveOnSubscriber=u;var c=function(e,t){this.notification=e,this.destination=t};n.ObserveOnMessage=c},{tslib:"vCxL","../Subscriber":"RaFB","../Notification":"n7Mc"}],Cp6P:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ReplaySubject=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("./Subject"),o=e("./scheduler/queue"),s=e("./Subscription"),a=e("./operators/observeOn"),u=e("./util/ObjectUnsubscribedError"),c=e("./SubjectSubscription");function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var f=function(e){function t(t,n,r){void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=t<1?1:t,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.__extends(t,e),t.prototype.nextInfiniteTimeWindow=function(t){var n=this._events;n.push(t),n.length>this._bufferSize&&n.shift(),e.prototype.next.call(this,t)},t.prototype.nextTimeWindow=function(t){this._events.push(new h(this._getNow(),t)),this._trimBufferThenGetEvents(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new u.ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=s.Subscription.EMPTY:(this.observers.push(e),t=new c.SubjectSubscription(this,e)),i&&e.add(e=new a.ObserveOnSubscriber(e,i)),n)for(var l=0;l<o&&!e.closed;l++)e.next(r[l]);else for(l=0;l<o&&!e.closed;l++)e.next(r[l].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},t.prototype._getNow=function(){return(this.scheduler||o.queue).now()},t.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r},t}(i.Subject);n.ReplaySubject=f;var h=function(e,t){this.time=e,this.value=t}},{tslib:"vCxL","./Subject":"r9t1","./scheduler/queue":"HGOP","./Subscription":"I8KM","./operators/observeOn":"ezNs","./util/ObjectUnsubscribedError":"xQEi","./SubjectSubscription":"fyc3"}],Scvc:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsyncSubject=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("./Subject"),o=e("./Subscription");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return r.__extends(t,e),t.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),o.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},t.prototype.next=function(e){this.hasCompleted||(this.value=e,this.hasNext=!0)},t.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},t.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},t}(i.Subject);n.AsyncSubject=a},{tslib:"vCxL","./Subject":"r9t1","./Subscription":"I8KM"}],Z56L:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Immediate=void 0;var r=1,i={};var o={setImmediate:function(e){var t=r++;return i[t]=e,Promise.resolve().then((function(){return function(e){var t=i[e];t&&t()}(t)})),t},clearImmediate:function(e){delete i[e]}};n.Immediate=o},{}],k3eS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsapAction=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../util/Immediate");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.__extends(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=i.Immediate.setImmediate(t.flush.bind(t,null))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(i.Immediate.clearImmediate(n),t.scheduled=void 0)},t}(e("./AsyncAction").AsyncAction);n.AsapAction=s},{tslib:"vCxL","../util/Immediate":"Z56L","./AsyncAction":"llYF"}],czze:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AsapScheduler=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(e("./AsyncScheduler").AsyncScheduler);n.AsapScheduler=o},{tslib:"vCxL","./AsyncScheduler":"hnPK"}],ZqYc:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.asap=void 0;var r=e("./AsapAction"),i=new(e("./AsapScheduler").AsapScheduler)(r.AsapAction);n.asap=i},{"./AsapAction":"k3eS","./AsapScheduler":"czze"}],jun6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.async=void 0;var r=e("./AsyncAction"),i=new(e("./AsyncScheduler").AsyncScheduler)(r.AsyncAction);n.async=i},{"./AsyncAction":"llYF","./AsyncScheduler":"hnPK"}],m8qQ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AnimationFrameAction=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return r.__extends(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(e("./AsyncAction").AsyncAction);n.AnimationFrameAction=o},{tslib:"vCxL","./AsyncAction":"llYF"}],gboY:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.AnimationFrameScheduler=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(e("./AsyncScheduler").AsyncScheduler);n.AnimationFrameScheduler=o},{tslib:"vCxL","./AsyncScheduler":"hnPK"}],zUKp:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.animationFrame=void 0;var r=e("./AnimationFrameAction"),i=new(e("./AnimationFrameScheduler").AnimationFrameScheduler)(r.AnimationFrameAction);n.animationFrame=i},{"./AnimationFrameAction":"m8qQ","./AnimationFrameScheduler":"gboY"}],RuMO:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.VirtualAction=n.VirtualTimeScheduler=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("./AsyncAction");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(e){function t(t,n){void 0===t&&(t=a),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=e.call(this,t,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return r.__extends(t,e),t.prototype.flush=function(){for(var e,t,n=this.actions,r=this.maxFrames;(t=n[0])&&t.delay<=r&&(n.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=n.shift();)t.unsubscribe();throw e}},t.frameTimeFactor=10,t}(e("./AsyncScheduler").AsyncScheduler);n.VirtualTimeScheduler=s;var a=function(e){function t(t,n,r){void 0===r&&(r=t.index+=1);var i=e.call(this,t,n)||this;return i.scheduler=t,i.work=n,i.index=r,i.active=!0,i.index=t.index=r,i}return r.__extends(t,e),t.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return e.prototype.schedule.call(this,n,r);this.active=!1;var i=new t(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},t.prototype.requestAsyncId=function(e,n,r){void 0===r&&(r=0),this.delay=e.frame+r;var i=e.actions;return i.push(this),i.sort(t.sortActions),!0},t.prototype.recycleAsyncId=function(e,t,n){void 0===n&&(n=0)},t.prototype._execute=function(t,n){if(!0===this.active)return e.prototype._execute.call(this,t,n)},t.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},t}(i.AsyncAction);n.VirtualAction=a},{tslib:"vCxL","./AsyncAction":"llYF","./AsyncScheduler":"hnPK"}],LXph:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.identity=function(e){return e}},{}],cUXi:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isObservable=function(e){return!!e&&(e instanceof r.Observable||"function"==typeof e.lift&&"function"==typeof e.subscribe)};var r=e("../Observable")},{"../Observable":"wbSE"}],Qh4I:[function(e,t,n){"use strict";function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Object.defineProperty(n,"__esModule",{value:!0}),n.ArgumentOutOfRangeError=void 0,r.prototype=Object.create(Error.prototype);var i=r;n.ArgumentOutOfRangeError=i},{}],vsl0:[function(e,t,n){"use strict";function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}Object.defineProperty(n,"__esModule",{value:!0}),n.EmptyError=void 0,r.prototype=Object.create(Error.prototype);var i=r;n.EmptyError=i},{}],SZK7:[function(e,t,n){"use strict";function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}Object.defineProperty(n,"__esModule",{value:!0}),n.TimeoutError=void 0,r.prototype=Object.create(Error.prototype);var i=r;n.TimeoutError=i},{}],dNh5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.map=function(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(e,t))}},n.MapOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.project,this.thisArg))},e}();n.MapOperator=s;var a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.__extends(t,e),t.prototype._next=function(e){var n;try{n=this.project.call(this.thisArg,e,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(n)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],lxDK:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bindCallback=function e(t,n,l){if(n){if(!(0,u.isScheduler)(n))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e(t,l).apply(void 0,r).pipe((0,o.map)((function(e){return(0,a.isArray)(e)?n.apply(void 0,e):n(e)})))};l=n}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o,a=this,u={context:a,subject:o,callbackFunc:t,scheduler:l};return new r.Observable((function(n){if(l){var r={args:e,subscriber:n,params:u};return l.schedule(c,0,r)}if(!o){o=new i.AsyncSubject;try{t.apply(a,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];o.next(e.length<=1?e[0]:e),o.complete()}]))}catch(f){(0,s.canReportError)(o)?o.error(f):console.warn(f)}}return o.subscribe(n)}))}};var r=e("../Observable"),i=e("../AsyncSubject"),o=e("../operators/map"),s=e("../util/canReportError"),a=e("../util/isArray"),u=e("../util/isScheduler");function c(e){var t=this,n=e.args,r=e.subscriber,o=e.params,s=o.callbackFunc,a=o.context,u=o.scheduler,c=o.subject;if(!c){c=o.subject=new i.AsyncSubject;try{s.apply(a,n.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length<=1?e[0]:e;t.add(u.schedule(l,0,{value:r,subject:c}))}]))}catch(f){c.error(f)}}this.add(c.subscribe(r))}function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}},{"../Observable":"wbSE","../AsyncSubject":"Scvc","../operators/map":"dNh5","../util/canReportError":"wHmS","../util/isArray":"KeTG","../util/isScheduler":"VqoH"}],uTDa:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bindNodeCallback=function e(t,n,l){if(n){if(!(0,a.isScheduler)(n))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return e(t,l).apply(void 0,r).pipe((0,o.map)((function(e){return(0,u.isArray)(e)?n.apply(void 0,e):n(e)})))};l=n}return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var a={subject:void 0,args:e,callbackFunc:t,scheduler:l,context:this};return new r.Observable((function(r){var o=a.context,u=a.subject;if(l)return l.schedule(c,0,{params:a,subscriber:r,context:o});if(!u){u=a.subject=new i.AsyncSubject;try{t.apply(o,e.concat([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.shift();n?u.error(n):(u.next(e.length<=1?e[0]:e),u.complete())}]))}catch(n){(0,s.canReportError)(u)?u.error(n):console.warn(n)}}return u.subscribe(r)}))}};var r=e("../Observable"),i=e("../AsyncSubject"),o=e("../operators/map"),s=e("../util/canReportError"),a=e("../util/isScheduler"),u=e("../util/isArray");function c(e){var t=this,n=e.params,r=e.subscriber,o=e.context,s=n.callbackFunc,a=n.args,u=n.scheduler,c=n.subject;if(!c){c=n.subject=new i.AsyncSubject;try{s.apply(o,a.concat([function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.shift();if(r)t.add(u.schedule(f,0,{err:r,subject:c}));else{var i=e.length<=1?e[0]:e;t.add(u.schedule(l,0,{value:i,subject:c}))}}]))}catch(h){this.add(u.schedule(f,0,{err:h,subject:c}))}}this.add(c.subscribe(r))}function l(e){var t=e.value,n=e.subject;n.next(t),n.complete()}function f(e){var t=e.err;e.subject.error(t)}},{"../Observable":"wbSE","../AsyncSubject":"Scvc","../operators/map":"dNh5","../util/canReportError":"wHmS","../util/isScheduler":"VqoH","../util/isArray":"KeTG"}],hZYI:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.OuterSubscriber=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(e("./Subscriber").Subscriber);n.OuterSubscriber=o},{tslib:"vCxL","./Subscriber":"RaFB"}],aQbR:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.InnerSubscriber=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=r?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}(e("tslib"));function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}var o=function(e){function t(t,n,r){var i=e.call(this)||this;return i.parent=t,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.__extends(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(e("./Subscriber").Subscriber);n.InnerSubscriber=o},{tslib:"vCxL","./Subscriber":"RaFB"}],eggw:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToPromise=void 0;var r=e("./hostReportError");n.subscribeToPromise=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,r.hostReportError),t}}},{"./hostReportError":"JfKC"}],AqTP:[function(e,t,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(n,"__esModule",{value:!0}),n.getSymbolIterator=r,n.$$iterator=n.iterator=void 0;var i=r();n.iterator=i;var o=i;n.$$iterator=o},{}],QEdH:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToIterable=void 0;var r=e("../symbol/iterator");n.subscribeToIterable=function(e){return function(t){for(var n=e[r.iterator]();;){var i=n.next();if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}}},{"../symbol/iterator":"AqTP"}],buzG:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToObservable=void 0;var r=e("../symbol/observable");n.subscribeToObservable=function(e){return function(t){var n=e[r.observable]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}}},{"../symbol/observable":"tjV3"}],LS84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isArrayLike=void 0;n.isArrayLike=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e}},{}],Ok8F:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isPromise=function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}},{}],vq9L:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeTo=void 0;var r=e("./subscribeToArray"),i=e("./subscribeToPromise"),o=e("./subscribeToIterable"),s=e("./subscribeToObservable"),a=e("./isArrayLike"),u=e("./isPromise"),c=e("./isObject"),l=e("../symbol/iterator"),f=e("../symbol/observable");n.subscribeTo=function(e){if(e&&"function"==typeof e[f.observable])return(0,s.subscribeToObservable)(e);if((0,a.isArrayLike)(e))return(0,r.subscribeToArray)(e);if((0,u.isPromise)(e))return(0,i.subscribeToPromise)(e);if(e&&"function"==typeof e[l.iterator])return(0,o.subscribeToIterable)(e);var t=(0,c.isObject)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+t+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},{"./subscribeToArray":"lrFe","./subscribeToPromise":"eggw","./subscribeToIterable":"QEdH","./subscribeToObservable":"buzG","./isArrayLike":"LS84","./isPromise":"Ok8F","./isObject":"nU7r","../symbol/iterator":"AqTP","../symbol/observable":"tjV3"}],JM7e:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeToResult=function(e,t,n,s,a){if(void 0===a&&(a=new r.InnerSubscriber(e,n,s)),!a.closed)return t instanceof o.Observable?t.subscribe(a):(0,i.subscribeTo)(t)(a)};var r=e("../InnerSubscriber"),i=e("./subscribeTo"),o=e("../Observable")},{"../InnerSubscriber":"aQbR","./subscribeTo":"vq9L","../Observable":"wbSE"}],omVc:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null,r=null;return(0,i.isScheduler)(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,o.isArray)(e[0])&&(e=e[0]),(0,u.fromArray)(e,r).lift(new f(n))},n.CombineLatestSubscriber=n.CombineLatestOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../util/isScheduler"),o=e("../util/isArray"),s=e("../OuterSubscriber"),a=e("../util/subscribeToResult"),u=e("./fromArray");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l={};var f=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}();n.CombineLatestOperator=f;var h=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.__extends(t,e),t.prototype._next=function(e){this.values.push(l),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add((0,a.subscribeToResult)(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===l?--this.toRespond:this.toRespond:0;o[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},t.prototype._tryResultSelector=function(e){var n;try{n=this.resultSelector.apply(this,e)}catch(t){return void this.destination.error(t)}this.destination.next(n)},t}(s.OuterSubscriber);n.CombineLatestSubscriber=h},{tslib:"vCxL","../util/isScheduler":"VqoH","../util/isArray":"KeTG","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e","./fromArray":"PJGF"}],lgBy:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheduleObservable=function(e,t){return new r.Observable((function(n){var r=new i.Subscription;return r.add(t.schedule((function(){var i=e[o.observable]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))};var r=e("../Observable"),i=e("../Subscription"),o=e("../symbol/observable")},{"../Observable":"wbSE","../Subscription":"I8KM","../symbol/observable":"tjV3"}],aPE6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.schedulePromise=function(e,t){return new r.Observable((function(n){var r=new i.Subscription;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))};var r=e("../Observable"),i=e("../Subscription")},{"../Observable":"wbSE","../Subscription":"I8KM"}],XzIO:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheduleIterable=function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.Observable((function(n){var r,s=new i.Subscription;return s.add((function(){r&&"function"==typeof r.return&&r.return()})),s.add(t.schedule((function(){r=e[o.iterator](),s.add(t.schedule((function(){if(!n.closed){var e,i;try{var o=r.next();e=o.value,i=o.done}catch(t){return void n.error(t)}i?n.complete():(n.next(e),this.schedule())}})))}))),s}))};var r=e("../Observable"),i=e("../Subscription"),o=e("../symbol/iterator")},{"../Observable":"wbSE","../Subscription":"I8KM","../symbol/iterator":"AqTP"}],CTP2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isInteropObservable=function(e){return e&&"function"==typeof e[r.observable]};var r=e("../symbol/observable")},{"../symbol/observable":"tjV3"}],NjuQ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isIterable=function(e){return e&&"function"==typeof e[r.iterator]};var r=e("../symbol/iterator")},{"../symbol/iterator":"AqTP"}],mNZE:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scheduled=function(e,t){if(null!=e){if((0,a.isInteropObservable)(e))return(0,r.scheduleObservable)(e,t);if((0,u.isPromise)(e))return(0,i.schedulePromise)(e,t);if((0,c.isArrayLike)(e))return(0,o.scheduleArray)(e,t);if((0,l.isIterable)(e)||"string"==typeof e)return(0,s.scheduleIterable)(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")};var r=e("./scheduleObservable"),i=e("./schedulePromise"),o=e("./scheduleArray"),s=e("./scheduleIterable"),a=e("../util/isInteropObservable"),u=e("../util/isPromise"),c=e("../util/isArrayLike"),l=e("../util/isIterable")},{"./scheduleObservable":"lgBy","./schedulePromise":"aPE6","./scheduleArray":"ZGwk","./scheduleIterable":"XzIO","../util/isInteropObservable":"CTP2","../util/isPromise":"Ok8F","../util/isArrayLike":"LS84","../util/isIterable":"NjuQ"}],WXUl:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.from=function(e,t){return t?(0,o.scheduled)(e,t):e instanceof r.Observable?e:new r.Observable((0,i.subscribeTo)(e))};var r=e("../Observable"),i=e("../util/subscribeTo"),o=e("../scheduled/scheduled")},{"../Observable":"wbSE","../util/subscribeTo":"vq9L","../scheduled/scheduled":"mNZE"}],nFsM:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mergeMap=function e(t,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(e((function(e,r){return(0,u.from)(t(e,r)).pipe((0,a.map)((function(t,i){return n(e,t,r,i)})))}),r))}:("number"==typeof n&&(r=n),function(e){return e.lift(new l(t,r))})},n.MergeMapSubscriber=n.MergeMapOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../util/subscribeToResult"),o=e("../OuterSubscriber"),s=e("../InnerSubscriber"),a=e("./map"),u=e("../observable/from");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project,this.concurrent))},e}();n.MergeMapOperator=l;var f=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.__extends(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new s.InnerSubscriber(this,void 0,void 0);this.destination.add(r),(0,i.subscribeToResult)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(o.OuterSubscriber);n.MergeMapSubscriber=f},{tslib:"vCxL","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","./map":"dNh5","../observable/from":"WXUl"}],Nkv4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mergeAll=function(e){return void 0===e&&(e=Number.POSITIVE_INFINITY),(0,r.mergeMap)(i.identity,e)};var r=e("./mergeMap"),i=e("../util/identity")},{"./mergeMap":"nFsM","../util/identity":"LXph"}],Yxey:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.concatAll=function(){return(0,r.mergeAll)(1)};var r=e("./mergeAll")},{"./mergeAll":"Nkv4"}],CsdO:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.concatAll)()(r.of.apply(void 0,e))};var r=e("./of"),i=e("../operators/concatAll")},{"./of":"wZuk","../operators/concatAll":"Yxey"}],w9G6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defer=function(e){return new r.Observable((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,i.from)(n):(0,o.empty)()).subscribe(t)}))};var r=e("../Observable"),i=e("./from"),o=e("./empty")},{"../Observable":"wbSE","./from":"WXUl","./empty":"XsKQ"}],R2GC:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forkJoin=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){var n=e[0];if((0,i.isArray)(n))return c(n,null);if((0,s.isObject)(n)&&!(0,a.isObservable)(n)){var r=Object.keys(n);return c(r.map((function(e){return n[e]})),r)}}if("function"==typeof e[e.length-1]){var u=e.pop();return c(e=1===e.length&&(0,i.isArray)(e[0])?e[0]:e,null).pipe((0,o.map)((function(e){return u.apply(void 0,e)})))}return c(e,null)};var r=e("../Observable"),i=e("../util/isArray"),o=e("../operators/map"),s=e("../util/isObject"),a=e("../util/isObservable"),u=e("./from");function c(e,t){return new r.Observable((function(n){var r=e.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var c=(0,u.from)(e[a]),l=!1;n.add(c.subscribe({next:function(e){l||(l=!0,s++),i[a]=e},error:function(e){return n.error(e)},complete:function(){++o!==r&&l||(s===r&&n.next(t?t.reduce((function(e,t,n){return e[t]=i[n],e}),{}):i),n.complete())}}))},c=0;c<r;c++)a(c);else n.complete()}))}},{"../Observable":"wbSE","../util/isArray":"KeTG","../operators/map":"dNh5","../util/isObject":"nU7r","../util/isObservable":"cUXi","./from":"WXUl"}],ZHZV:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fromEvent=function e(t,n,u,c){return(0,o.isFunction)(u)&&(c=u,u=void 0),c?e(t,n,u).pipe((0,s.map)((function(e){return(0,i.isArray)(e)?c.apply(void 0,e):c(e)}))):new r.Observable((function(e){a(t,n,(function(t){arguments.length>1?e.next(Array.prototype.slice.call(arguments)):e.next(t)}),e,u)}))};var r=e("../Observable"),i=e("../util/isArray"),o=e("../util/isFunction"),s=e("../operators/map");Object.prototype.toString;function a(e,t,n,r,i){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(e)){var s=e;e.addEventListener(t,n,i),o=function(){return s.removeEventListener(t,n,i)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(e)){var u=e;e.on(t,n),o=function(){return u.off(t,n)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(e)){var c=e;e.addListener(t,n),o=function(){return c.removeListener(t,n)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,f=e.length;l<f;l++)a(e[l],t,n,r,i)}r.add(o)}},{"../Observable":"wbSE","../util/isArray":"KeTG","../util/isFunction":"Qnsq","../operators/map":"dNh5"}],HFE7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.fromEventPattern=function e(t,n,a){return a?e(t,n).pipe((0,s.map)((function(e){return(0,i.isArray)(e)?a.apply(void 0,e):a(e)}))):new r.Observable((function(r){var i,s=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)};try{i=t(s)}catch(e){return void r.error(e)}if((0,o.isFunction)(n))return function(){return n(s,i)}}))};var r=e("../Observable"),i=e("../util/isArray"),o=e("../util/isFunction"),s=e("../operators/map")},{"../Observable":"wbSE","../util/isArray":"KeTG","../util/isFunction":"Qnsq","../operators/map":"dNh5"}],xNZb:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.generate=function(e,t,n,a,u){var c,l;if(1==arguments.length){var f=e;l=f.initialState,t=f.condition,n=f.iterate,c=f.resultSelector||i.identity,u=f.scheduler}else void 0===a||(0,o.isScheduler)(a)?(l=e,c=i.identity,u=a):(l=e,c=a);return new r.Observable((function(e){var r=l;if(u)return u.schedule(s,0,{subscriber:e,iterate:n,condition:t,resultSelector:c,state:r});for(;;){if(t){var i=void 0;try{i=t(r)}catch(a){return void e.error(a)}if(!i){e.complete();break}}var o=void 0;try{o=c(r)}catch(a){return void e.error(a)}if(e.next(o),e.closed)break;try{r=n(r)}catch(a){return void e.error(a)}}}))};var r=e("../Observable"),i=e("../util/identity"),o=e("../util/isScheduler");function s(e){var t=e.subscriber,n=e.condition;if(!t.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(o){return void t.error(o)}else e.needIterate=!0;if(n){var r=void 0;try{r=n(e.state)}catch(o){return void t.error(o)}if(!r)return void t.complete();if(t.closed)return}var i;try{i=e.resultSelector(e.state)}catch(o){return void t.error(o)}if(!t.closed&&(t.next(i),!t.closed))return this.schedule(e)}}},{"../Observable":"wbSE","../util/identity":"LXph","../util/isScheduler":"VqoH"}],SXp5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.iif=function(e,t,n){return void 0===t&&(t=i.EMPTY),void 0===n&&(n=i.EMPTY),(0,r.defer)((function(){return e()?t:n}))};var r=e("./defer"),i=e("./empty")},{"./defer":"w9G6","./empty":"XsKQ"}],wBpm:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isNumeric=function(e){return!(0,r.isArray)(e)&&e-parseFloat(e)+1>=0};var r=e("./isArray")},{"./isArray":"KeTG"}],QHLS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.interval=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=i.async),(!(0,o.isNumeric)(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=i.async),new r.Observable((function(n){return n.add(t.schedule(s,e,{subscriber:n,counter:0,period:e})),n}))};var r=e("../Observable"),i=e("../scheduler/async"),o=e("../util/isNumeric");function s(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}},{"../Observable":"wbSE","../scheduler/async":"jun6","../util/isNumeric":"wBpm"}],DQig:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Number.POSITIVE_INFINITY,a=null,u=e[e.length-1];return(0,i.isScheduler)(u)?(a=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(n=e.pop())):"number"==typeof u&&(n=e.pop()),null===a&&1===e.length&&e[0]instanceof r.Observable?e[0]:(0,o.mergeAll)(n)((0,s.fromArray)(e,a))};var r=e("../Observable"),i=e("../util/isScheduler"),o=e("../operators/mergeAll"),s=e("./fromArray")},{"../Observable":"wbSE","../util/isScheduler":"VqoH","../operators/mergeAll":"Nkv4","./fromArray":"PJGF"}],TBTl:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.never=function(){return o},n.NEVER=void 0;var r=e("../Observable"),i=e("../util/noop"),o=new r.Observable(i.noop);n.NEVER=o},{"../Observable":"wbSE","../util/noop":"rXfM"}],VCq5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.onErrorResumeNext=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(0===t.length)return s.EMPTY;var a=t[0],u=t.slice(1);return 1===t.length&&(0,o.isArray)(a)?e.apply(void 0,a):new r.Observable((function(t){var n=function(){return t.add(e.apply(void 0,u).subscribe(t))};return(0,i.from)(a).subscribe({next:function(e){t.next(e)},error:n,complete:n})}))};var r=e("../Observable"),i=e("./from"),o=e("../util/isArray"),s=e("./empty")},{"../Observable":"wbSE","./from":"WXUl","../util/isArray":"KeTG","./empty":"XsKQ"}],QHfc:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pairs=function(e,t){return t?new r.Observable((function(n){var r=Object.keys(e),s=new i.Subscription;return s.add(t.schedule(o,0,{keys:r,index:0,subscriber:n,subscription:s,obj:e})),s})):new r.Observable((function(t){for(var n=Object.keys(e),r=0;r<n.length&&!t.closed;r++){var i=n[r];e.hasOwnProperty(i)&&t.next([i,e[i]])}t.complete()}))},n.dispatch=o;var r=e("../Observable"),i=e("../Subscription");function o(e){var t=e.keys,n=e.index,r=e.subscriber,i=e.subscription,o=e.obj;if(!r.closed)if(n<t.length){var s=t[n];r.next([s,o[s]]),i.add(this.schedule({keys:t,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}},{"../Observable":"wbSE","../Subscription":"I8KM"}],nij6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.not=function(e,t){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=e,n.thisArg=t,n}},{}],HKzi:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.filter=function(e,t){return function(n){return n.lift(new s(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t){this.predicate=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.__extends(t,e),t.prototype._next=function(e){var n;try{n=this.predicate.call(this.thisArg,e,this.count++)}catch(t){return void this.destination.error(t)}n&&this.destination.next(e)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],wJ9V:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.partition=function(e,t,n){return[(0,o.filter)(t,n)(new s.Observable((0,i.subscribeTo)(e))),(0,o.filter)((0,r.not)(t,n))(new s.Observable((0,i.subscribeTo)(e)))]};var r=e("../util/not"),i=e("../util/subscribeTo"),o=e("../operators/filter"),s=e("../Observable")},{"../util/not":"nij6","../util/subscribeTo":"vq9L","../operators/filter":"HKzi","../Observable":"wbSE"}],bwYX:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(1===e.length){if(!(0,i.isArray)(e[0]))return e[0];e=e[0]}return(0,o.fromArray)(e,void 0).lift(new c)},n.RaceSubscriber=n.RaceOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../util/isArray"),o=e("./fromArray"),s=e("../OuterSubscriber"),a=e("../util/subscribeToResult");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new l(e))},e}();n.RaceOperator=c;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.__extends(t,e),t.prototype._next=function(e){this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{for(var n=0;n<t&&!this.hasFirst;n++){var r=e[n],i=(0,a.subscribeToResult)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},t.prototype.notifyNext=function(e,t,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(t)},t}(s.OuterSubscriber);n.RaceSubscriber=l},{tslib:"vCxL","../util/isArray":"KeTG","./fromArray":"PJGF","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],N84r:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.range=function(e,t,n){return void 0===e&&(e=0),new r.Observable((function(r){void 0===t&&(t=e,e=0);var o=0,s=e;if(n)return n.schedule(i,0,{index:o,count:t,start:e,subscriber:r});for(;;){if(o++>=t){r.complete();break}if(r.next(s++),r.closed)break}}))},n.dispatch=i;var r=e("../Observable");function i(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}},{"../Observable":"wbSE"}],RPvN:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.timer=function(e,t,n){void 0===e&&(e=0);var u=-1;return(0,o.isNumeric)(t)?u=Number(t)<1?1:Number(t):(0,s.isScheduler)(t)&&(n=t),(0,s.isScheduler)(n)||(n=i.async),new r.Observable((function(t){var r=(0,o.isNumeric)(e)?e:+e-n.now();return n.schedule(a,r,{index:0,period:u,subscriber:t})}))};var r=e("../Observable"),i=e("../scheduler/async"),o=e("../util/isNumeric"),s=e("../util/isScheduler");function a(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}},{"../Observable":"wbSE","../scheduler/async":"jun6","../util/isNumeric":"wBpm","../util/isScheduler":"VqoH"}],gc1W:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.using=function(e,t){return new r.Observable((function(n){var r,s;try{r=e()}catch(u){return void n.error(u)}try{s=t(r)}catch(u){return void n.error(u)}var a=(s?(0,i.from)(s):o.EMPTY).subscribe(n);return function(){a.unsubscribe(),r&&r.unsubscribe()}}))};var r=e("../Observable"),i=e("./from"),o=e("./empty")},{"../Observable":"wbSE","./from":"WXUl","./empty":"XsKQ"}],ff2A:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return"function"==typeof n&&e.pop(),(0,i.fromArray)(e,void 0).lift(new f(n))},n.ZipSubscriber=n.ZipOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("./fromArray"),o=e("../util/isArray"),s=e("../Subscriber"),a=e("../OuterSubscriber"),u=e("../util/subscribeToResult"),c=e("../../internal/symbol/iterator");function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}var f=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.resultSelector))},e}();n.ZipOperator=f;var h=function(e){function t(t,n,r){void 0===r&&(r=Object.create(null));var i=e.call(this,t)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return r.__extends(t,e),t.prototype._next=function(e){var t=this.iterators;(0,o.isArray)(e)?t.push(new d(e)):"function"==typeof e[c.iterator]?t.push(new p(e[c.iterator]())):t.push(new v(this.destination,this,e))},t.prototype._complete=function(){var e=this.iterators,t=e.length;if(this.unsubscribe(),0!==t){this.active=t;for(var n=0;n<t;n++){var r=e[n];r.stillUnsubscribed?this.destination.add(r.subscribe(r,n)):this.active--}}else this.destination.complete()},t.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},t.prototype.checkIterators=function(){for(var e=this.iterators,t=e.length,n=this.destination,r=0;r<t;r++)if("function"==typeof(s=e[r]).hasValue&&!s.hasValue())return;var i=!1,o=[];for(r=0;r<t;r++){var s,a=(s=e[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},t.prototype._tryresultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)},t}(s.Subscriber);n.ZipSubscriber=h;var p=function(){function e(e){this.iterator=e,this.nextResult=e.next()}return e.prototype.hasValue=function(){return!0},e.prototype.next=function(){var e=this.nextResult;return this.nextResult=this.iterator.next(),e},e.prototype.hasCompleted=function(){var e=this.nextResult;return e&&e.done},e}(),d=function(){function e(e){this.array=e,this.index=0,this.length=0,this.length=e.length}return e.prototype[c.iterator]=function(){return this},e.prototype.next=function(e){var t=this.index++,n=this.array;return t<this.length?{value:n[t],done:!1}:{value:null,done:!0}},e.prototype.hasValue=function(){return this.array.length>this.index},e.prototype.hasCompleted=function(){return this.array.length===this.index},e}(),v=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.__extends(t,e),t.prototype[c.iterator]=function(){return this},t.prototype.next=function(){var e=this.buffer;return 0===e.length&&this.isComplete?{value:null,done:!0}:{value:e.shift(),done:!1}},t.prototype.hasValue=function(){return this.buffer.length>0},t.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},t.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,i){this.buffer.push(t),this.parent.checkIterators()},t.prototype.subscribe=function(e,t){return(0,u.subscribeToResult)(this,this.observable,this,t)},t}(a.OuterSubscriber)},{tslib:"vCxL","./fromArray":"PJGF","../util/isArray":"KeTG","../Subscriber":"RaFB","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e","../../internal/symbol/iterator":"AqTP"}],iRqj:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Observable",{enumerable:!0,get:function(){return r.Observable}}),Object.defineProperty(n,"ConnectableObservable",{enumerable:!0,get:function(){return i.ConnectableObservable}}),Object.defineProperty(n,"GroupedObservable",{enumerable:!0,get:function(){return o.GroupedObservable}}),Object.defineProperty(n,"observable",{enumerable:!0,get:function(){return s.observable}}),Object.defineProperty(n,"Subject",{enumerable:!0,get:function(){return a.Subject}}),Object.defineProperty(n,"BehaviorSubject",{enumerable:!0,get:function(){return u.BehaviorSubject}}),Object.defineProperty(n,"ReplaySubject",{enumerable:!0,get:function(){return c.ReplaySubject}}),Object.defineProperty(n,"AsyncSubject",{enumerable:!0,get:function(){return l.AsyncSubject}}),Object.defineProperty(n,"asapScheduler",{enumerable:!0,get:function(){return f.asap}}),Object.defineProperty(n,"asyncScheduler",{enumerable:!0,get:function(){return h.async}}),Object.defineProperty(n,"queueScheduler",{enumerable:!0,get:function(){return p.queue}}),Object.defineProperty(n,"animationFrameScheduler",{enumerable:!0,get:function(){return d.animationFrame}}),Object.defineProperty(n,"VirtualTimeScheduler",{enumerable:!0,get:function(){return v.VirtualTimeScheduler}}),Object.defineProperty(n,"VirtualAction",{enumerable:!0,get:function(){return v.VirtualAction}}),Object.defineProperty(n,"Scheduler",{enumerable:!0,get:function(){return y.Scheduler}}),Object.defineProperty(n,"Subscription",{enumerable:!0,get:function(){return m.Subscription}}),Object.defineProperty(n,"Subscriber",{enumerable:!0,get:function(){return b.Subscriber}}),Object.defineProperty(n,"Notification",{enumerable:!0,get:function(){return g.Notification}}),Object.defineProperty(n,"NotificationKind",{enumerable:!0,get:function(){return g.NotificationKind}}),Object.defineProperty(n,"pipe",{enumerable:!0,get:function(){return _.pipe}}),Object.defineProperty(n,"noop",{enumerable:!0,get:function(){return w.noop}}),Object.defineProperty(n,"identity",{enumerable:!0,get:function(){return E.identity}}),Object.defineProperty(n,"isObservable",{enumerable:!0,get:function(){return S.isObservable}}),Object.defineProperty(n,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return O.ArgumentOutOfRangeError}}),Object.defineProperty(n,"EmptyError",{enumerable:!0,get:function(){return x.EmptyError}}),Object.defineProperty(n,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return k.ObjectUnsubscribedError}}),Object.defineProperty(n,"UnsubscriptionError",{enumerable:!0,get:function(){return C.UnsubscriptionError}}),Object.defineProperty(n,"TimeoutError",{enumerable:!0,get:function(){return T.TimeoutError}}),Object.defineProperty(n,"bindCallback",{enumerable:!0,get:function(){return I.bindCallback}}),Object.defineProperty(n,"bindNodeCallback",{enumerable:!0,get:function(){return P.bindNodeCallback}}),Object.defineProperty(n,"combineLatest",{enumerable:!0,get:function(){return A.combineLatest}}),Object.defineProperty(n,"concat",{enumerable:!0,get:function(){return N.concat}}),Object.defineProperty(n,"defer",{enumerable:!0,get:function(){return D.defer}}),Object.defineProperty(n,"empty",{enumerable:!0,get:function(){return j.empty}}),Object.defineProperty(n,"EMPTY",{enumerable:!0,get:function(){return j.EMPTY}}),Object.defineProperty(n,"forkJoin",{enumerable:!0,get:function(){return R.forkJoin}}),Object.defineProperty(n,"from",{enumerable:!0,get:function(){return M.from}}),Object.defineProperty(n,"fromEvent",{enumerable:!0,get:function(){return L.fromEvent}}),Object.defineProperty(n,"fromEventPattern",{enumerable:!0,get:function(){return F.fromEventPattern}}),Object.defineProperty(n,"generate",{enumerable:!0,get:function(){return U.generate}}),Object.defineProperty(n,"iif",{enumerable:!0,get:function(){return V.iif}}),Object.defineProperty(n,"interval",{enumerable:!0,get:function(){return W.interval}}),Object.defineProperty(n,"merge",{enumerable:!0,get:function(){return B.merge}}),Object.defineProperty(n,"never",{enumerable:!0,get:function(){return q.never}}),Object.defineProperty(n,"NEVER",{enumerable:!0,get:function(){return q.NEVER}}),Object.defineProperty(n,"of",{enumerable:!0,get:function(){return z.of}}),Object.defineProperty(n,"onErrorResumeNext",{enumerable:!0,get:function(){return H.onErrorResumeNext}}),Object.defineProperty(n,"pairs",{enumerable:!0,get:function(){return Y.pairs}}),Object.defineProperty(n,"partition",{enumerable:!0,get:function(){return G.partition}}),Object.defineProperty(n,"race",{enumerable:!0,get:function(){return K.race}}),Object.defineProperty(n,"range",{enumerable:!0,get:function(){return Q.range}}),Object.defineProperty(n,"throwError",{enumerable:!0,get:function(){return X.throwError}}),Object.defineProperty(n,"timer",{enumerable:!0,get:function(){return $.timer}}),Object.defineProperty(n,"using",{enumerable:!0,get:function(){return J.using}}),Object.defineProperty(n,"zip",{enumerable:!0,get:function(){return Z.zip}}),Object.defineProperty(n,"scheduled",{enumerable:!0,get:function(){return ee.scheduled}}),Object.defineProperty(n,"config",{enumerable:!0,get:function(){return te.config}});var r=e("./internal/Observable"),i=e("./internal/observable/ConnectableObservable"),o=e("./internal/operators/groupBy"),s=e("./internal/symbol/observable"),a=e("./internal/Subject"),u=e("./internal/BehaviorSubject"),c=e("./internal/ReplaySubject"),l=e("./internal/AsyncSubject"),f=e("./internal/scheduler/asap"),h=e("./internal/scheduler/async"),p=e("./internal/scheduler/queue"),d=e("./internal/scheduler/animationFrame"),v=e("./internal/scheduler/VirtualTimeScheduler"),y=e("./internal/Scheduler"),m=e("./internal/Subscription"),b=e("./internal/Subscriber"),g=e("./internal/Notification"),_=e("./internal/util/pipe"),w=e("./internal/util/noop"),E=e("./internal/util/identity"),S=e("./internal/util/isObservable"),O=e("./internal/util/ArgumentOutOfRangeError"),x=e("./internal/util/EmptyError"),k=e("./internal/util/ObjectUnsubscribedError"),C=e("./internal/util/UnsubscriptionError"),T=e("./internal/util/TimeoutError"),I=e("./internal/observable/bindCallback"),P=e("./internal/observable/bindNodeCallback"),A=e("./internal/observable/combineLatest"),N=e("./internal/observable/concat"),D=e("./internal/observable/defer"),j=e("./internal/observable/empty"),R=e("./internal/observable/forkJoin"),M=e("./internal/observable/from"),L=e("./internal/observable/fromEvent"),F=e("./internal/observable/fromEventPattern"),U=e("./internal/observable/generate"),V=e("./internal/observable/iif"),W=e("./internal/observable/interval"),B=e("./internal/observable/merge"),q=e("./internal/observable/never"),z=e("./internal/observable/of"),H=e("./internal/observable/onErrorResumeNext"),Y=e("./internal/observable/pairs"),G=e("./internal/observable/partition"),K=e("./internal/observable/race"),Q=e("./internal/observable/range"),X=e("./internal/observable/throwError"),$=e("./internal/observable/timer"),J=e("./internal/observable/using"),Z=e("./internal/observable/zip"),ee=e("./internal/scheduled/scheduled"),te=e("./internal/config")},{"./internal/Observable":"wbSE","./internal/observable/ConnectableObservable":"kkfD","./internal/operators/groupBy":"dNgG","./internal/symbol/observable":"tjV3","./internal/Subject":"r9t1","./internal/BehaviorSubject":"MPU6","./internal/ReplaySubject":"Cp6P","./internal/AsyncSubject":"Scvc","./internal/scheduler/asap":"ZqYc","./internal/scheduler/async":"jun6","./internal/scheduler/queue":"HGOP","./internal/scheduler/animationFrame":"zUKp","./internal/scheduler/VirtualTimeScheduler":"RuMO","./internal/Scheduler":"QglZ","./internal/Subscription":"I8KM","./internal/Subscriber":"RaFB","./internal/Notification":"n7Mc","./internal/util/pipe":"HQCS","./internal/util/noop":"rXfM","./internal/util/identity":"LXph","./internal/util/isObservable":"cUXi","./internal/util/ArgumentOutOfRangeError":"Qh4I","./internal/util/EmptyError":"vsl0","./internal/util/ObjectUnsubscribedError":"xQEi","./internal/util/UnsubscriptionError":"pMaL","./internal/util/TimeoutError":"SZK7","./internal/observable/bindCallback":"lxDK","./internal/observable/bindNodeCallback":"uTDa","./internal/observable/combineLatest":"omVc","./internal/observable/concat":"CsdO","./internal/observable/defer":"w9G6","./internal/observable/empty":"XsKQ","./internal/observable/forkJoin":"R2GC","./internal/observable/from":"WXUl","./internal/observable/fromEvent":"ZHZV","./internal/observable/fromEventPattern":"HFE7","./internal/observable/generate":"xNZb","./internal/observable/iif":"SXp5","./internal/observable/interval":"QHLS","./internal/observable/merge":"DQig","./internal/observable/never":"TBTl","./internal/observable/of":"wZuk","./internal/observable/onErrorResumeNext":"VCq5","./internal/observable/pairs":"QHfc","./internal/observable/partition":"wJ9V","./internal/observable/race":"bwYX","./internal/observable/range":"N84r","./internal/observable/throwError":"FdIu","./internal/observable/timer":"RPvN","./internal/observable/using":"gc1W","./internal/observable/zip":"ff2A","./internal/scheduled/scheduled":"mNZE","./internal/config":"Q3iD"}],Pdg2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.audit=function(e){return function(t){return t.lift(new a(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.__extends(t,e),t.prototype._next=function(e){if(this.value=e,this.hasValue=!0,!this.throttled){var t=void 0;try{t=(0,this.durationSelector)(e)}catch(r){return this.destination.error(r)}var n=(0,o.subscribeToResult)(this,t);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},t.prototype.clearThrottle=function(){var e=this.value,t=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))},t.prototype.notifyNext=function(e,t,n,r){this.clearThrottle()},t.prototype.notifyComplete=function(){this.clearThrottle()},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],jcYn:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.auditTime=function(e,t){return void 0===t&&(t=r.async),(0,i.audit)((function(){return(0,o.timer)(e,t)}))};var r=e("../scheduler/async"),i=e("./audit"),o=e("../observable/timer")},{"../scheduler/async":"jun6","./audit":"Pdg2","../observable/timer":"RPvN"}],mG6b:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.buffer=function(e){return function(t){return t.lift(new a(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e){this.closingNotifier=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.closingNotifier))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.buffer=[],r.add((0,o.subscribeToResult)(r,n)),r}return r.__extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],f9IP:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bufferCount=function(e,t){return void 0===t&&(t=null),function(n){return n.lift(new s(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?u:a}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(i.Subscriber),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.__extends(t,e),t.prototype._next=function(e){var t=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var s=r[o];s.push(e),s.length===t&&(r.splice(o,1),this.destination.next(s))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],Axj2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bufferTime=function(e){var t=arguments.length,n=i.async;(0,s.isScheduler)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],t--);var r=null;t>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return t>=3&&(o=arguments[2]),function(t){return t.lift(new u(e,r,o,n))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../scheduler/async"),o=e("../Subscriber"),s=e("../util/isScheduler");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e,t,n,r){this.bufferTimeSpan=e,this.bufferCreationInterval=t,this.maxBufferSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},e}(),c=function(){this.buffer=[]},l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var u={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(f,n,u))}else{var c={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(p,n,c)),s.add(o.schedule(h,r,l))}return s}return r.__extends(t,e),t.prototype._next=function(e){for(var t,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(e),s.length==this.maxBufferSize&&(t=o)}t&&this.onBufferFull(t)},t.prototype._error=function(t){this.contexts.length=0,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts,n=this.destination;t.length>0;){var r=t.shift();n.next(r.buffer)}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.contexts=null},t.prototype.onBufferFull=function(e){this.closeContext(e);var t=e.closeAction;if(t.unsubscribe(),this.remove(t),!this.closed&&this.timespanOnly){e=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:e,bufferTimeSpan:n};this.add(e.closeAction=this.scheduler.schedule(f,n,r))}},t.prototype.openContext=function(){var e=new c;return this.contexts.push(e),e},t.prototype.closeContext=function(e){this.destination.next(e.buffer);var t=this.contexts;(t?t.indexOf(e):-1)>=0&&t.splice(t.indexOf(e),1)},t}(o.Subscriber);function f(e){var t=e.subscriber,n=e.context;n&&t.closeContext(n),t.closed||(e.context=t.openContext(),e.context.closeAction=this.schedule(e,e.bufferTimeSpan))}function h(e){var t=e.bufferCreationInterval,n=e.bufferTimeSpan,r=e.subscriber,i=e.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(p,n,{subscriber:r,context:o})),this.schedule(e,t))}function p(e){var t=e.subscriber,n=e.context;t.closeContext(n)}},{tslib:"vCxL","../scheduler/async":"jun6","../Subscriber":"RaFB","../util/isScheduler":"VqoH"}],ZTTP:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bufferToggle=function(e,t){return function(n){return n.lift(new u(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscription"),o=e("../util/subscribeToResult"),s=e("../OuterSubscriber");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.openings,this.closingSelector))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add((0,o.subscribeToResult)(i,n)),i}return r.__extends(t,e),t.prototype._next=function(e){for(var t=this.contexts,n=t.length,r=0;r<n;r++)t[r].buffer.push(e)},t.prototype._error=function(t){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,e.prototype._error.call(this,t)},t.prototype._complete=function(){for(var t=this.contexts;t.length>0;){var n=t.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){e?this.closeBuffer(e):this.openBuffer(t)},t.prototype.notifyComplete=function(e){this.closeBuffer(e.context)},t.prototype.openBuffer=function(e){try{var t=this.closingSelector.call(this,e);t&&this.trySubscribe(t)}catch(o){this._error(o)}},t.prototype.closeBuffer=function(e){var t=this.contexts;if(t&&e){var n=e.buffer,r=e.subscription;this.destination.next(n),t.splice(t.indexOf(e),1),this.remove(r),r.unsubscribe()}},t.prototype.trySubscribe=function(e){var t=this.contexts,n=new i.Subscription,r={buffer:[],subscription:n};t.push(r);var s=(0,o.subscribeToResult)(this,e,r);!s||s.closed?this.closeBuffer(r):(s.context=r,this.add(s),n.add(s))},t}(s.OuterSubscriber)},{tslib:"vCxL","../Subscription":"I8KM","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI"}],Ul3A:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.bufferWhen=function(e){return function(t){return t.lift(new u(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscription"),o=e("../OuterSubscriber"),s=e("../util/subscribeToResult");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.__extends(t,e),t.prototype._next=function(e){this.buffer.push(e)},t.prototype._complete=function(){var t=this.buffer;t&&this.destination.next(t),e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},t.prototype.notifyNext=function(e,t,n,r,i){this.openBuffer()},t.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},t.prototype.openBuffer=function(){var e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var t,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(r){return this.error(r)}e=new i.Subscription,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add((0,s.subscribeToResult)(this,t)),this.subscribing=!1},t}(o.OuterSubscriber)},{tslib:"vCxL","../Subscription":"I8KM","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],THoY:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.catchError=function(e){return function(t){var n=new u(e),r=t.lift(n);return n.caught=r}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../InnerSubscriber"),s=e("../util/subscribeToResult");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e){this.selector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.selector,this.caught))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.selector=n,i.caught=r,i}return r.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(i){return void e.prototype.error.call(this,i)}this._unsubscribeAndRecycle();var r=new o.InnerSubscriber(this,void 0,void 0);this.add(r),(0,s.subscribeToResult)(this,n,void 0,void 0,r)}},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],TMFF:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.combineAll=function(e){return function(t){return t.lift(new r.CombineLatestOperator(e))}};var r=e("../observable/combineLatest")},{"../observable/combineLatest":"omVc"}],DJQm:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.combineLatest=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=null;return"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&(0,r.isArray)(e[0])&&(e=e[0].slice()),function(t){return t.lift.call((0,o.from)([t].concat(e)),new i.CombineLatestOperator(n))}};var r=e("../util/isArray"),i=e("../observable/combineLatest"),o=e("../observable/from")},{"../util/isArray":"KeTG","../observable/combineLatest":"omVc","../observable/from":"WXUl"}],ZHmI:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.concat=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.concat.apply(void 0,[t].concat(e)))}};var r=e("../observable/concat")},{"../observable/concat":"CsdO"}],DoUK:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.concatMap=function(e,t){return(0,r.mergeMap)(e,t,1)};var r=e("./mergeMap")},{"./mergeMap":"nFsM"}],APQq:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.concatMapTo=function(e,t){return(0,r.concatMap)((function(){return e}),t)};var r=e("./concatMap")},{"./concatMap":"DoUK"}],U1Ln:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.count=function(e){return function(t){return t.lift(new s(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.__extends(t,e),t.prototype._next=function(e){this.predicate?this._tryPredicate(e):this.count++},t.prototype._tryPredicate=function(e){var n;try{n=this.predicate(e,this.index++,this.source)}catch(t){return void this.destination.error(t)}n&&this.count++},t.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],y9EZ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.debounce=function(e){return function(t){return t.lift(new a(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e){this.durationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.durationSelector))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r.__extends(t,e),t.prototype._next=function(e){try{var t=this.durationSelector.call(this,e);t&&this._tryNext(e,t)}catch(o){this.destination.error(o)}},t.prototype._complete=function(){this.emitValue(),this.destination.complete()},t.prototype._tryNext=function(e,t){var n=this.durationSubscription;this.value=e,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=(0,o.subscribeToResult)(this,t))&&!n.closed&&this.add(this.durationSubscription=n)},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){if(this.hasValue){var t=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,e.prototype._next.call(this,t)}},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],KBFO:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.debounceTime=function(e,t){return void 0===t&&(t=o.async),function(n){return n.lift(new a(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../scheduler/async");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t){this.dueTime=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.dueTime,this.scheduler))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.__extends(t,e),t.prototype._next=function(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(c,this.dueTime,this))},t.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},t.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var e=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}},t.prototype.clearDebounce=function(){var e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)},t}(i.Subscriber);function c(e){e.debouncedNext()}},{tslib:"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6"}],YBdz:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.defaultIfEmpty=function(e){return void 0===e&&(e=null),function(t){return t.lift(new s(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e){this.defaultValue=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.defaultValue))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.__extends(t,e),t.prototype._next=function(e){this.isEmpty=!1,this.destination.next(e)},t.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],rxSS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isDate=function(e){return e instanceof Date&&!isNaN(+e)}},{}],zkgx:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.delay=function(e,t){void 0===t&&(t=i.async);var n=(0,o.isDate)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new c(n,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../scheduler/async"),o=e("../util/isDate"),s=e("../Subscriber"),a=e("../Notification");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delay,this.scheduler))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.__extends(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(e,o)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new f(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(a.Notification.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(a.Notification.createComplete()),this.unsubscribe()},t}(s.Subscriber),f=function(e,t){this.time=e,this.notification=t}},{tslib:"vCxL","../scheduler/async":"jun6","../util/isDate":"rxSS","../Subscriber":"RaFB","../Notification":"n7Mc"}],iVuv:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.delayWhen=function(e,t){return t?function(n){return new f(n,t).lift(new c(e))}:function(t){return t.lift(new c(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../Observable"),s=e("../OuterSubscriber"),a=e("../util/subscribeToResult");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=function(){function e(e){this.delayDurationSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.delayDurationSelector))},e}(),l=function(e){function t(t,n){var r=e.call(this,t)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(e),this.removeSubscription(i),this.tryComplete()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){var t=this.removeSubscription(e);t&&this.destination.next(t),this.tryComplete()},t.prototype._next=function(e){var t=this.index++;try{var n=this.delayDurationSelector(e,t);n&&this.tryDelay(n,e)}catch(s){this.destination.error(s)}},t.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},t.prototype.removeSubscription=function(e){e.unsubscribe();var t=this.delayNotifierSubscriptions.indexOf(e);return-1!==t&&this.delayNotifierSubscriptions.splice(t,1),e.outerValue},t.prototype.tryDelay=function(e,t){var n=(0,a.subscribeToResult)(this,e,t);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},t.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},t}(s.OuterSubscriber),f=function(e){function t(t,n){var r=e.call(this)||this;return r.source=t,r.subscriptionDelay=n,r}return r.__extends(t,e),t.prototype._subscribe=function(e){this.subscriptionDelay.subscribe(new h(e,this.source))},t}(o.Observable),h=function(e){function t(t,n){var r=e.call(this)||this;return r.parent=t,r.source=n,r.sourceSubscribed=!1,r}return r.__extends(t,e),t.prototype._next=function(e){this.subscribeToSource()},t.prototype._error=function(e){this.unsubscribe(),this.parent.error(e)},t.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},t.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../Observable":"wbSE","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],v6b5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.dematerialize=function(){return function(e){return e.lift(new s)}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._next=function(e){e.observe(this.destination)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],H608:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.distinct=function(e,t){return function(n){return n.lift(new a(e,t))}},n.DistinctSubscriber=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t){this.keySelector=e,this.flushes=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.keySelector,this.flushes))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=n,i.values=new Set,r&&i.add((0,o.subscribeToResult)(i,r)),i}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values.clear()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype._next=function(e){this.keySelector?this._useKeySelector(e):this._finalizeNext(e,e)},t.prototype._useKeySelector=function(e){var n,r=this.destination;try{n=this.keySelector(e)}catch(t){return void r.error(t)}this._finalizeNext(n,e)},t.prototype._finalizeNext=function(e,t){var n=this.values;n.has(e)||(n.add(e),this.destination.next(t))},t}(i.OuterSubscriber);n.DistinctSubscriber=u},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],hFX7:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.distinctUntilChanged=function(e,t){return function(n){return n.lift(new s(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compare,this.keySelector))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.__extends(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],Egbr:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.distinctUntilKeyChanged=function(e,t){return(0,r.distinctUntilChanged)((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))};var r=e("./distinctUntilChanged")},{"./distinctUntilChanged":"hFX7"}],D7Ma:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.throwIfEmpty=function(e){return void 0===e&&(e=c),function(t){return t.lift(new a(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../util/EmptyError"),o=e("../Subscriber");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e){this.errorFactory=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.errorFactory))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.__extends(t,e),t.prototype._next=function(e){this.hasValue=!0,this.destination.next(e)},t.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},t}(o.Subscriber);function c(){return new i.EmptyError}},{tslib:"vCxL","../util/EmptyError":"vsl0","../Subscriber":"RaFB"}],JVEz:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.take=function(e){return function(t){return 0===e?(0,s.empty)():t.lift(new u(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../util/ArgumentOutOfRangeError"),s=e("../observable/empty");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I","../observable/empty":"XsKQ"}],TbZV:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.elementAt=function(e,t){if(e<0)throw new r.ArgumentOutOfRangeError;var n=arguments.length>=2;return function(u){return u.pipe((0,i.filter)((function(t,n){return n===e})),(0,a.take)(1),n?(0,s.defaultIfEmpty)(t):(0,o.throwIfEmpty)((function(){return new r.ArgumentOutOfRangeError})))}};var r=e("../util/ArgumentOutOfRangeError"),i=e("./filter"),o=e("./throwIfEmpty"),s=e("./defaultIfEmpty"),a=e("./take")},{"../util/ArgumentOutOfRangeError":"Qh4I","./filter":"HKzi","./throwIfEmpty":"D7Ma","./defaultIfEmpty":"YBdz","./take":"JVEz"}],loee:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.endWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return r.concat.apply(void 0,[t].concat(e))}};var r=e("../observable/concat")},{"../observable/concat":"CsdO"}],eEZZ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.every=function(e,t){return function(n){return n.lift(new s(e,t,n))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.thisArg,this.source))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.__extends(t,e),t.prototype.notifyComplete=function(e){this.destination.next(e),this.destination.complete()},t.prototype._next=function(e){var n=!1;try{n=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(t){return void this.destination.error(t)}n||this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],ifNj:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.exhaust=function(){return function(e){return e.lift(new a)}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.__extends(t,e),t.prototype._next=function(e){this.hasSubscription||(this.hasSubscription=!0,this.add((0,o.subscribeToResult)(this,e)))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},t.prototype.notifyComplete=function(e){this.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],DGWU:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.exhaustMap=function e(t,n){return n?function(r){return r.pipe(e((function(e,r){return(0,u.from)(t(e,r)).pipe((0,a.map)((function(t,i){return n(e,t,r,i)})))})))}:function(e){return e.lift(new l(t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../InnerSubscriber"),s=e("../util/subscribeToResult"),a=e("./map"),u=e("../observable/from");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.__extends(t,e),t.prototype._next=function(e){this.hasSubscription||this.tryNext(e)},t.prototype.tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this.hasSubscription=!0,this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=new o.InnerSubscriber(this,void 0,void 0);this.destination.add(r),(0,s.subscribeToResult)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.remove(e),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e","./map":"dNh5","../observable/from":"WXUl"}],iYcS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.expand=function(e,t,n){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),t=(t||0)<1?Number.POSITIVE_INFINITY:t,function(r){return r.lift(new a(e,t,n))}},n.ExpandSubscriber=n.ExpandOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t,n){this.project=e,this.concurrent=t,this.scheduler=n}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.project,this.concurrent,this.scheduler))},e}();n.ExpandOperator=a;var u=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.__extends(t,e),t.dispatch=function(e){var t=e.subscriber,n=e.result,r=e.value,i=e.index;t.subscribeToProjection(n,r,i)},t.prototype._next=function(e){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(e);try{var i=(0,this.project)(e,r);if(this.scheduler){var o={subscriber:this,result:i,value:e,index:r};this.destination.add(this.scheduler.schedule(t.dispatch,0,o))}else this.subscribeToProjection(i,e,r)}catch(a){n.error(a)}}else this.buffer.push(e)}},t.prototype.subscribeToProjection=function(e,t,n){this.active++,this.destination.add((0,o.subscribeToResult)(this,e,t,n))},t.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){this._next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},t}(i.OuterSubscriber);n.ExpandSubscriber=u},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],x5qu:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.finalize=function(e){return function(t){return t.lift(new a(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../Subscription");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e){this.callback=e}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.callback))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.add(new o.Subscription(n)),r}return r.__extends(t,e),t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../Subscription":"I8KM"}],t6rP:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.find=function(e,t){if("function"!=typeof e)throw new TypeError("predicate is not a function");return function(n){return n.lift(new s(e,n,!1,t))}},n.FindValueSubscriber=n.FindValueOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t,n,r){this.predicate=e,this.source=t,this.yieldIndex=n,this.thisArg=r}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.source,this.yieldIndex,this.thisArg))},e}();n.FindValueOperator=s;var a=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.__extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete(),this.unsubscribe()},t.prototype._next=function(e){var t=this.predicate,n=this.thisArg,r=this.index++;try{t.call(n||this,e,r,this.source)&&this.notifyComplete(this.yieldIndex?r:e)}catch(i){this.destination.error(i)}},t.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},t}(i.Subscriber);n.FindValueSubscriber=a},{tslib:"vCxL","../Subscriber":"RaFB"}],GIlo:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.findIndex=function(e,t){return function(n){return n.lift(new r.FindValueOperator(e,n,!0,t))}};var r=e("../operators/find")},{"../operators/find":"t6rP"}],f9sd:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.first=function(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?(0,i.filter)((function(t,n){return e(t,n,c)})):u.identity,(0,o.take)(1),n?(0,s.defaultIfEmpty)(t):(0,a.throwIfEmpty)((function(){return new r.EmptyError})))}};var r=e("../util/EmptyError"),i=e("./filter"),o=e("./take"),s=e("./defaultIfEmpty"),a=e("./throwIfEmpty"),u=e("../util/identity")},{"../util/EmptyError":"vsl0","./filter":"HKzi","./take":"JVEz","./defaultIfEmpty":"YBdz","./throwIfEmpty":"D7Ma","../util/identity":"LXph"}],P82l:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.ignoreElements=function(){return function(e){return e.lift(new s)}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype._next=function(e){},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],LqVv:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.isEmpty=function(){return function(e){return e.lift(new s)}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype.notifyComplete=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype._next=function(e){this.notifyComplete(!1)},t.prototype._complete=function(){this.notifyComplete(!0)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],FbHg:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.takeLast=function(e){return function(t){return 0===e?(0,s.empty)():t.lift(new u(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../util/ArgumentOutOfRangeError"),s=e("../observable/empty");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e){if(this.total=e,this.total<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.total))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e},t.prototype._complete=function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=t++%n;e.next(r[o])}e.complete()},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I","../observable/empty":"XsKQ"}],xu0X:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.last=function(e,t){var n=arguments.length>=2;return function(c){return c.pipe(e?(0,i.filter)((function(t,n){return e(t,n,c)})):u.identity,(0,o.takeLast)(1),n?(0,a.defaultIfEmpty)(t):(0,s.throwIfEmpty)((function(){return new r.EmptyError})))}};var r=e("../util/EmptyError"),i=e("./filter"),o=e("./takeLast"),s=e("./throwIfEmpty"),a=e("./defaultIfEmpty"),u=e("../util/identity")},{"../util/EmptyError":"vsl0","./filter":"HKzi","./takeLast":"FbHg","./throwIfEmpty":"D7Ma","./defaultIfEmpty":"YBdz","../util/identity":"LXph"}],yJbZ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mapTo=function(e){return function(t){return t.lift(new s(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e){this.value=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.value))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.value=n,r}return r.__extends(t,e),t.prototype._next=function(e){this.destination.next(this.value)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],ZwCH:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.materialize=function(){return function(e){return e.lift(new a)}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../Notification");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new u(e))},e}(),u=function(e){function t(t){return e.call(this,t)||this}return r.__extends(t,e),t.prototype._next=function(e){this.destination.next(o.Notification.createNext(e))},t.prototype._error=function(e){var t=this.destination;t.next(o.Notification.createError(e)),t.complete()},t.prototype._complete=function(){var e=this.destination;e.next(o.Notification.createComplete()),e.complete()},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../Notification":"n7Mc"}],U785:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.scan=function(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new s(e,t,n))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t,n){void 0===n&&(n=!1),this.accumulator=e,this.seed=t,this.hasSeed=n}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.accumulator,this.seed,this.hasSeed))},e}(),a=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.__extends(t,e),Object.defineProperty(t.prototype,"seed",{get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e},enumerable:!0,configurable:!0}),t.prototype._next=function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],BORG:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.reduce=function(e,t){return arguments.length>=2?function(n){return(0,s.pipe)((0,r.scan)(e,t),(0,i.takeLast)(1),(0,o.defaultIfEmpty)(t))(n)}:function(t){return(0,s.pipe)((0,r.scan)((function(t,n,r){return e(t,n,r+1)})),(0,i.takeLast)(1))(t)}};var r=e("./scan"),i=e("./takeLast"),o=e("./defaultIfEmpty"),s=e("../util/pipe")},{"./scan":"U785","./takeLast":"FbHg","./defaultIfEmpty":"YBdz","../util/pipe":"HQCS"}],BgD2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.max=function(e){var t="function"==typeof e?function(t,n){return e(t,n)>0?t:n}:function(e,t){return e>t?e:t};return(0,r.reduce)(t)};var r=e("./reduce")},{"./reduce":"BORG"}],sbfV:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.merge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.merge.apply(void 0,[t].concat(e)))}};var r=e("../observable/merge")},{"../observable/merge":"DQig"}],S3q6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mergeMapTo=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof t?(0,r.mergeMap)((function(){return e}),t,n):("number"==typeof t&&(n=t),(0,r.mergeMap)((function(){return e}),n))};var r=e("./mergeMap")},{"./mergeMap":"nFsM"}],wQne:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.mergeScan=function(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new u(e,t,n))}},n.MergeScanSubscriber=n.MergeScanOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../util/subscribeToResult"),o=e("../OuterSubscriber"),s=e("../InnerSubscriber");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e,t,n){this.accumulator=e,this.seed=t,this.concurrent=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.accumulator,this.seed,this.concurrent))},e}();n.MergeScanOperator=u;var c=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.__extends(t,e),t.prototype._next=function(e){if(this.active<this.concurrent){var n=this.index++,r=this.destination,i=void 0;try{i=(0,this.accumulator)(this.acc,e,n)}catch(t){return r.error(t)}this.active++,this._innerSub(i,e,n)}else this.buffer.push(e)},t.prototype._innerSub=function(e,t,n){var r=new s.InnerSubscriber(this,void 0,void 0);this.destination.add(r),(0,i.subscribeToResult)(this,e,t,n,r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},t.prototype.notifyNext=function(e,t,n,r,i){var o=this.destination;this.acc=t,this.hasValue=!0,o.next(t)},t.prototype.notifyComplete=function(e){var t=this.buffer;this.destination.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},t}(o.OuterSubscriber);n.MergeScanSubscriber=c},{tslib:"vCxL","../util/subscribeToResult":"JM7e","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR"}],bAWd:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.min=function(e){var t="function"==typeof e?function(t,n){return e(t,n)<0?t:n}:function(e,t){return e<t?e:t};return(0,r.reduce)(t)};var r=e("./reduce")},{"./reduce":"BORG"}],M6Em:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.multicast=function(e,t){return function(n){var o;if(o="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new i(o,t));var s=Object.create(n,r.connectableObservableDescriptor);return s.source=n,s.subjectFactory=o,s}},n.MulticastOperator=void 0;var r=e("../observable/ConnectableObservable");var i=function(){function e(e,t){this.subjectFactory=e,this.selector=t}return e.prototype.call=function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i},e}();n.MulticastOperator=i},{"../observable/ConnectableObservable":"kkfD"}],S4UH:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.onErrorResumeNext=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 1===e.length&&(0,o.isArray)(e[0])&&(e=e[0]),function(t){return t.lift(new l(e))}},n.onErrorResumeNextStatic=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n;return 1===e.length&&(0,o.isArray)(e[0])&&(e=e[0]),n=e.shift(),(0,i.from)(n,null).lift(new l(e))};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../observable/from"),o=e("../util/isArray"),s=e("../OuterSubscriber"),a=e("../InnerSubscriber"),u=e("../util/subscribeToResult");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l=function(){function e(e){this.nextSources=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.nextSources))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.nextSources=n,r}return r.__extends(t,e),t.prototype.notifyError=function(e,t){this.subscribeToNextSource()},t.prototype.notifyComplete=function(e){this.subscribeToNextSource()},t.prototype._error=function(e){this.subscribeToNextSource(),this.unsubscribe()},t.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},t.prototype.subscribeToNextSource=function(){var e=this.nextSources.shift();if(e){var t=new a.InnerSubscriber(this,void 0,void 0);this.destination.add(t),(0,u.subscribeToResult)(this,e,void 0,void 0,t)}else this.destination.complete()},t}(s.OuterSubscriber)},{tslib:"vCxL","../observable/from":"WXUl","../util/isArray":"KeTG","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],u6OS:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pairwise=function(){return function(e){return e.lift(new s)}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(){}return e.prototype.call=function(e,t){return t.subscribe(new a(e))},e}(),a=function(e){function t(t){var n=e.call(this,t)||this;return n.hasPrev=!1,n}return r.__extends(t,e),t.prototype._next=function(e){this.hasPrev?this.destination.next([this.prev,e]):this.hasPrev=!0,this.prev=e},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],jvG2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.partition=function(e,t){return function(n){return[(0,i.filter)(e,t)(n),(0,i.filter)((0,r.not)(e,t))(n)]}};var r=e("../util/not"),i=e("./filter")},{"../util/not":"nij6","./filter":"HKzi"}],TdE4:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.pluck=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(t){return(0,r.map)(i(e,n))(t)}};var r=e("./map");function i(e,t){return function(n){for(var r=n,i=0;i<t;i++){var o=r[e[i]];if(void 0===o)return;r=o}return r}}},{"./map":"dNh5"}],TQAB:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.publish=function(e){return e?(0,i.multicast)((function(){return new r.Subject}),e):(0,i.multicast)(new r.Subject)};var r=e("../Subject"),i=e("./multicast")},{"../Subject":"r9t1","./multicast":"M6Em"}],fUyM:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.publishBehavior=function(e){return function(t){return(0,i.multicast)(new r.BehaviorSubject(e))(t)}};var r=e("../BehaviorSubject"),i=e("./multicast")},{"../BehaviorSubject":"MPU6","./multicast":"M6Em"}],fQ7S:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.publishLast=function(){return function(e){return(0,i.multicast)(new r.AsyncSubject)(e)}};var r=e("../AsyncSubject"),i=e("./multicast")},{"../AsyncSubject":"Scvc","./multicast":"M6Em"}],aqWk:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.publishReplay=function(e,t,n,o){n&&"function"!=typeof n&&(o=n);var s="function"==typeof n?n:void 0,a=new r.ReplaySubject(e,t,o);return function(e){return(0,i.multicast)((function(){return a}),s)(e)}};var r=e("../ReplaySubject"),i=e("./multicast")},{"../ReplaySubject":"Cp6P","./multicast":"M6Em"}],EAaA:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.race=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return 1===e.length&&(0,r.isArray)(e[0])&&(e=e[0]),t.lift.call(i.race.apply(void 0,[t].concat(e)))}};var r=e("../util/isArray"),i=e("../observable/race")},{"../util/isArray":"KeTG","../observable/race":"bwYX"}],Fbxf:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.repeat=function(e){return void 0===e&&(e=-1),function(t){return 0===e?(0,o.empty)():e<0?t.lift(new a(-1,t)):t.lift(new a(e-1,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../observable/empty");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.count,this.source))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.__extends(t,e),t.prototype.complete=function(){if(!this.isStopped){var t=this.source,n=this.count;if(0===n)return e.prototype.complete.call(this);n>-1&&(this.count=n-1),t.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../observable/empty":"XsKQ"}],CT9q:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.repeatWhen=function(e){return function(t){return t.lift(new u(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subject"),o=e("../OuterSubscriber"),s=e("../util/subscribeToResult");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,t))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},t.prototype.notifyComplete=function(t){if(!1===this.sourceIsBeingSubscribedTo)return e.prototype.complete.call(this)},t.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return e.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},t.prototype._unsubscribe=function(){var e=this.notifications,t=this.retriesSubscription;e&&(e.unsubscribe(),this.notifications=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype._unsubscribeAndRecycle=function(){var t=this._unsubscribe;return this._unsubscribe=null,e.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=t,this},t.prototype.subscribeToRetries=function(){var n;this.notifications=new i.Subject;try{n=(0,this.notifier)(this.notifications)}catch(t){return e.prototype.complete.call(this)}this.retries=n,this.retriesSubscription=(0,s.subscribeToResult)(this,n)},t}(o.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],ZHEI:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.retry=function(e){return void 0===e&&(e=-1),function(t){return t.lift(new s(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t){this.count=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.count,this.source))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.count=n,i.source=r,i}return r.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return e.prototype.error.call(this,t);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],GHe2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.retryWhen=function(e){return function(t){return t.lift(new u(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subject"),o=e("../OuterSubscriber"),s=e("../util/subscribeToResult");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e,t){this.notifier=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier,this.source))},e}(),c=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.notifier=n,i.source=r,i}return r.__extends(t,e),t.prototype.error=function(t){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new i.Subject;try{r=(0,this.notifier)(n)}catch(u){return e.prototype.error.call(this,u)}o=(0,s.subscribeToResult)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(t)}},t.prototype._unsubscribe=function(){var e=this.errors,t=this.retriesSubscription;e&&(e.unsubscribe(),this.errors=null),t&&(t.unsubscribe(),this.retriesSubscription=null),this.retries=null},t.prototype.notifyNext=function(e,t,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},t}(o.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],Rd9o:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sample=function(e){return function(t){return t.lift(new a(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new u(e),r=t.subscribe(n);return r.add((0,o.subscribeToResult)(n,this.notifier)),r},e}(),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.hasValue=!1,t}return r.__extends(t,e),t.prototype._next=function(e){this.value=e,this.hasValue=!0},t.prototype.notifyNext=function(e,t,n,r,i){this.emitValue()},t.prototype.notifyComplete=function(){this.emitValue()},t.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],nb45:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sampleTime=function(e,t){return void 0===t&&(t=o.async),function(n){return n.lift(new a(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../scheduler/async");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t){this.period=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.period,this.scheduler))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(c,n,{subscriber:i,period:n})),i}return r.__extends(t,e),t.prototype._next=function(e){this.lastValue=e,this.hasValue=!0},t.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},t}(i.Subscriber);function c(e){var t=e.subscriber,n=e.period;t.notifyNext(),this.schedule(e,n)}},{tslib:"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6"}],PMGC:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sequenceEqual=function(e,t){return function(n){return n.lift(new s(e,t))}},n.SequenceEqualSubscriber=n.SequenceEqualOperator=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t){this.compareTo=e,this.comparator=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.compareTo,this.comparator))},e}();n.SequenceEqualOperator=s;var a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new u(t,i))),i}return r.__extends(t,e),t.prototype._next=function(e){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(e),this.checkValues())},t.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},t.prototype.checkValues=function(){for(var e=this._a,t=this._b,n=this.comparator;e.length>0&&t.length>0;){var r=e.shift(),i=t.shift(),o=!1;try{o=n?n(r,i):r===i}catch(a){this.destination.error(a)}o||this.emit(!1)}},t.prototype.emit=function(e){var t=this.destination;t.next(e),t.complete()},t.prototype.nextB=function(e){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(e),this.checkValues())},t.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},t}(i.Subscriber);n.SequenceEqualSubscriber=a;var u=function(e){function t(t,n){var r=e.call(this,t)||this;return r.parent=n,r}return r.__extends(t,e),t.prototype._next=function(e){this.parent.nextB(e)},t.prototype._error=function(e){this.parent.error(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],KBGh:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.share=function(){return function(e){return(0,i.refCount)()((0,r.multicast)(s)(e))}};var r=e("./multicast"),i=e("./refCount"),o=e("../Subject");function s(){return new o.Subject}},{"./multicast":"M6Em","./refCount":"vT9o","../Subject":"r9t1"}],xsrM:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.shareReplay=function(e,t,n){var r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},function(e){return e.lift(i(r))}};var r=e("../ReplaySubject");function i(e){var t,n,i=e.bufferSize,o=void 0===i?Number.POSITIVE_INFINITY:i,s=e.windowTime,a=void 0===s?Number.POSITIVE_INFINITY:s,u=e.refCount,c=e.scheduler,l=0,f=!1,h=!1;return function(e){l++,t&&!f||(f=!1,t=new r.ReplaySubject(o,a,c),n=e.subscribe({next:function(e){t.next(e)},error:function(e){f=!0,t.error(e)},complete:function(){h=!0,t.complete()}}));var i=t.subscribe(this);this.add((function(){l--,i.unsubscribe(),n&&!h&&u&&0===l&&(n.unsubscribe(),n=void 0,t=void 0)}))}}},{"../ReplaySubject":"Cp6P"}],angX:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.single=function(e){return function(t){return t.lift(new a(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../util/EmptyError");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t){this.predicate=e,this.source=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.predicate,this.source))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.__extends(t,e),t.prototype.applySingleValue=function(e){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=e)},t.prototype._next=function(e){var t=this.index++;this.predicate?this.tryNext(e,t):this.applySingleValue(e)},t.prototype.tryNext=function(e,t){try{this.predicate(e,t,this.source)&&this.applySingleValue(e)}catch(o){this.destination.error(o)}},t.prototype._complete=function(){var e=this.destination;this.index>0?(e.next(this.seenValue?this.singleValue:void 0),e.complete()):e.error(new o.EmptyError)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/EmptyError":"vsl0"}],vMIz:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.skip=function(e){return function(t){return t.lift(new s(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e){this.total=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.total))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.total=n,r.count=0,r}return r.__extends(t,e),t.prototype._next=function(e){++this.count>this.total&&this.destination.next(e)},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],iB53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.skipLast=function(e){return function(t){return t.lift(new a(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../util/ArgumentOutOfRangeError");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e){if(this._skipCount=e,this._skipCount<0)throw new o.ArgumentOutOfRangeError}return e.prototype.call=function(e,t){return 0===this._skipCount?t.subscribe(new i.Subscriber(e)):t.subscribe(new u(e,this._skipCount))},e}(),u=function(e){function t(t,n){var r=e.call(this,t)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.__extends(t,e),t.prototype._next=function(e){var t=this._skipCount,n=this._count++;if(n<t)this._ring[n]=e;else{var r=n%t,i=this._ring,o=i[r];i[r]=e,this.destination.next(o)}},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/ArgumentOutOfRangeError":"Qh4I"}],xmsT:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.skipUntil=function(e){return function(t){return t.lift(new u(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../InnerSubscriber"),s=e("../util/subscribeToResult");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.notifier))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;r.hasValue=!1;var i=new o.InnerSubscriber(r,void 0,void 0);return r.add(i),r.innerSubscription=i,(0,s.subscribeToResult)(r,n,void 0,void 0,i),r}return r.__extends(t,e),t.prototype._next=function(t){this.hasValue&&e.prototype._next.call(this,t)},t.prototype.notifyNext=function(e,t,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},t.prototype.notifyComplete=function(){},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e"}],qjDA:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.skipWhile=function(e){return function(t){return t.lift(new s(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e){this.predicate=e}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate))},e}(),a=function(e){function t(t,n){var r=e.call(this,t)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)},t.prototype.tryCallPredicate=function(e){try{var n=this.predicate(e,this.index++);this.skipping=Boolean(n)}catch(t){this.destination.error(t)}},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],doo6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.startWith=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return(0,i.isScheduler)(n)?(e.pop(),function(t){return(0,r.concat)(e,t,n)}):function(t){return(0,r.concat)(e,t)}};var r=e("../observable/concat"),i=e("../util/isScheduler")},{"../observable/concat":"CsdO","../util/isScheduler":"VqoH"}],r9wA:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.SubscribeOnObservable=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Observable"),o=e("../scheduler/asap"),s=e("../util/isNumeric");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r=o.asap);var i=e.call(this)||this;return i.source=t,i.delayTime=n,i.scheduler=r,(!(0,s.isNumeric)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=o.asap),i}return r.__extends(t,e),t.create=function(e,n,r){return void 0===n&&(n=0),void 0===r&&(r=o.asap),new t(e,n,r)},t.dispatch=function(e){var t=e.source,n=e.subscriber;return this.add(t.subscribe(n))},t.prototype._subscribe=function(e){var n=this.delayTime,r=this.source;return this.scheduler.schedule(t.dispatch,n,{source:r,subscriber:e})},t}(i.Observable);n.SubscribeOnObservable=u},{tslib:"vCxL","../Observable":"wbSE","../scheduler/asap":"ZqYc","../util/isNumeric":"wBpm"}],Et1l:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.subscribeOn=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new i(e,t))}};var r=e("../observable/SubscribeOnObservable");var i=function(){function e(e,t){this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return new r.SubscribeOnObservable(t,this.delay,this.scheduler).subscribe(e)},e}()},{"../observable/SubscribeOnObservable":"r9wA"}],g5Rk:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.switchMap=function e(t,n){return"function"==typeof n?function(r){return r.pipe(e((function(e,r){return(0,u.from)(t(e,r)).pipe((0,a.map)((function(t,i){return n(e,t,r,i)})))})))}:function(e){return e.lift(new l(t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../InnerSubscriber"),s=e("../util/subscribeToResult"),a=e("./map"),u=e("../observable/from");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l=function(){function e(e){this.project=e}return e.prototype.call=function(e,t){return t.subscribe(new f(e,this.project))},e}(),f=function(e){function t(t,n){var r=e.call(this,t)||this;return r.project=n,r.index=0,r}return r.__extends(t,e),t.prototype._next=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this._innerSub(t,e,n)},t.prototype._innerSub=function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new o.InnerSubscriber(this,void 0,void 0);this.destination.add(i),this.innerSubscription=(0,s.subscribeToResult)(this,e,t,n,i)},t.prototype._complete=function(){var t=this.innerSubscription;t&&!t.closed||e.prototype._complete.call(this),this.unsubscribe()},t.prototype._unsubscribe=function(){this.innerSubscription=null},t.prototype.notifyComplete=function(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&e.prototype._complete.call(this)},t.prototype.notifyNext=function(e,t,n,r,i){this.destination.next(t)},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../InnerSubscriber":"aQbR","../util/subscribeToResult":"JM7e","./map":"dNh5","../observable/from":"WXUl"}],CBg8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.switchAll=function(){return(0,r.switchMap)(i.identity)};var r=e("./switchMap"),i=e("../util/identity")},{"./switchMap":"g5Rk","../util/identity":"LXph"}],Hs9S:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.switchMapTo=function(e,t){return t?(0,r.switchMap)((function(){return e}),t):(0,r.switchMap)((function(){return e}))};var r=e("./switchMap")},{"./switchMap":"g5Rk"}],qGSv:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.takeUntil=function(e){return function(t){return t.lift(new a(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new u(e),r=(0,o.subscribeToResult)(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),u=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],EYJX:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.takeWhile=function(e,t){return void 0===t&&(t=!1),function(n){return n.lift(new s(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=r?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber");function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}var s=function(){function e(e,t){this.predicate=e,this.inclusive=t}return e.prototype.call=function(e,t){return t.subscribe(new a(e,this.predicate,this.inclusive))},e}(),a=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.__extends(t,e),t.prototype._next=function(e){var t,n=this.destination;try{t=this.predicate(e,this.index++)}catch(r){return void n.error(r)}this.nextOrComplete(e,t)},t.prototype.nextOrComplete=function(e,t){var n=this.destination;Boolean(t)?n.next(e):(this.inclusive&&n.next(e),n.complete())},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB"}],okAI:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.tap=function(e,t,n){return function(r){return r.lift(new u(e,t,n))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../util/noop"),s=e("../util/isFunction");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))},e}(),c=function(e){function t(t,n,r,i){var a=e.call(this,t)||this;return a._tapNext=o.noop,a._tapError=o.noop,a._tapComplete=o.noop,a._tapError=r||o.noop,a._tapComplete=i||o.noop,(0,s.isFunction)(n)?(a._context=a,a._tapNext=n):n&&(a._context=n,a._tapNext=n.next||o.noop,a._tapError=n.error||o.noop,a._tapComplete=n.complete||o.noop),a}return r.__extends(t,e),t.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(r){return void this.destination.error(r)}return this.destination.complete()},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../util/noop":"rXfM","../util/isFunction":"Qnsq"}],Yoo8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.throttle=function(e,t){return void 0===t&&(t=a),function(n){return n.lift(new u(e,t.leading,t.trailing))}},n.defaultThrottleConfig=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a={leading:!0,trailing:!1};n.defaultThrottleConfig=a;var u=function(){function e(e,t,n){this.durationSelector=e,this.leading=t,this.trailing=n}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.durationSelector,this.leading,this.trailing))},e}(),c=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o.destination=t,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.__extends(t,e),t.prototype._next=function(e){this._hasValue=!0,this._sendValue=e,this._throttled||(this._leading?this.send():this.throttle(e))},t.prototype.send=function(){var e=this._hasValue,t=this._sendValue;e&&(this.destination.next(t),this.throttle(t)),this._hasValue=!1,this._sendValue=null},t.prototype.throttle=function(e){var t=this.tryDurationSelector(e);t&&this.add(this._throttled=(0,o.subscribeToResult)(this,t))},t.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(e){return this.destination.error(e),null}},t.prototype.throttlingDone=function(){var e=this._throttled,t=this._trailing;e&&e.unsubscribe(),this._throttled=null,t&&this.send()},t.prototype.notifyNext=function(e,t,n,r,i){this.throttlingDone()},t.prototype.notifyComplete=function(){this.throttlingDone()},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],v3FQ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.throttleTime=function(e,t,n){return void 0===t&&(t=o.async),void 0===n&&(n=s.defaultThrottleConfig),function(r){return r.lift(new u(e,t,n.leading,n.trailing))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../scheduler/async"),s=e("./throttle");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e,t,n,r){this.duration=e,this.scheduler=t,this.leading=n,this.trailing=r}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.duration,this.scheduler,this.leading,this.trailing))},e}(),c=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.__extends(t,e),t.prototype._next=function(e){this.throttled?this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(l,this.duration,{subscriber:this})),this.leading?this.destination.next(e):this.trailing&&(this._trailingValue=e,this._hasTrailingValue=!0))},t.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},t.prototype.clearThrottle=function(){var e=this.throttled;e&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this.throttled=null)},t}(i.Subscriber);function l(e){e.subscriber.clearThrottle()}},{tslib:"vCxL","../Subscriber":"RaFB","../scheduler/async":"jun6","./throttle":"Yoo8"}],n6SK:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.timeInterval=function(e){return void 0===e&&(e=r.async),function(t){return(0,o.defer)((function(){return t.pipe((0,i.scan)((function(t,n){var r=t.current;return{value:n,current:e.now(),last:r}}),{current:e.now(),value:void 0,last:void 0}),(0,s.map)((function(e){var t=e.current,n=e.last,r=e.value;return new a(r,t-n)})))}))}},n.TimeInterval=void 0;var r=e("../scheduler/async"),i=e("./scan"),o=e("../observable/defer"),s=e("./map");var a=function(e,t){this.value=e,this.interval=t};n.TimeInterval=a},{"../scheduler/async":"jun6","./scan":"U785","../observable/defer":"w9G6","./map":"dNh5"}],L72b:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.timeoutWith=function(e,t,n){return void 0===n&&(n=i.async),function(r){var i=(0,o.isDate)(e),s=i?+e-n.now():Math.abs(e);return r.lift(new c(s,i,t,n))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../scheduler/async"),o=e("../util/isDate"),s=e("../OuterSubscriber"),a=e("../util/subscribeToResult");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=function(){function e(e,t,n,r){this.waitFor=e,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),l=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r.__extends(t,e),t.dispatchTimeout=function(e){var t=e.withObservable;e._unsubscribeAndRecycle(),e.add((0,a.subscribeToResult)(e,t))},t.prototype.scheduleTimeout=function(){var e=this.action;e?this.action=e.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(t.dispatchTimeout,this.waitFor,this))},t.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},t.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},t}(s.OuterSubscriber)},{tslib:"vCxL","../scheduler/async":"jun6","../util/isDate":"rxSS","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],Cp8V:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.timeout=function(e,t){return void 0===t&&(t=r.async),(0,o.timeoutWith)(e,(0,s.throwError)(new i.TimeoutError),t)};var r=e("../scheduler/async"),i=e("../util/TimeoutError"),o=e("./timeoutWith"),s=e("../observable/throwError")},{"../scheduler/async":"jun6","../util/TimeoutError":"SZK7","./timeoutWith":"L72b","../observable/throwError":"FdIu"}],pXuq:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.timestamp=function(e){return void 0===e&&(e=r.async),(0,i.map)((function(t){return new o(t,e.now())}))},n.Timestamp=void 0;var r=e("../scheduler/async"),i=e("./map");var o=function(e,t){this.value=e,this.timestamp=t};n.Timestamp=o},{"../scheduler/async":"jun6","./map":"dNh5"}],LA40:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.toArray=function(){return(0,r.reduce)(i,[])};var r=e("./reduce");function i(e,t,n){return 0===n?[t]:(e.push(t),e)}},{"./reduce":"BORG"}],Iygx:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.window=function(e){return function(t){return t.lift(new u(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subject"),o=e("../OuterSubscriber"),s=e("../util/subscribeToResult");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e){this.windowBoundaries=e}return e.prototype.call=function(e,t){var n=new c(e),r=t.subscribe(n);return r.closed||n.add((0,s.subscribeToResult)(n,this.windowBoundaries)),r},e}(),c=function(e){function t(t){var n=e.call(this,t)||this;return n.window=new i.Subject,t.next(n.window),n}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow()},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this._complete()},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e)},t.prototype._complete=function(){this.window.complete(),this.destination.complete()},t.prototype._unsubscribe=function(){this.window=null},t.prototype.openWindow=function(){var e=this.window;e&&e.complete();var t=this.destination,n=this.window=new i.Subject;t.next(n)},t}(o.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],GYT2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.windowCount=function(e,t){return void 0===t&&(t=0),function(n){return n.lift(new a(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subscriber"),o=e("../Subject");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t){this.windowSize=e,this.startWindowEvery=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.windowSize,this.startWindowEvery))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.destination=t,i.windowSize=n,i.startWindowEvery=r,i.windows=[new o.Subject],i.count=0,t.next(i.windows[0]),i}return r.__extends(t,e),t.prototype._next=function(e){for(var t=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,s=i.length,a=0;a<s&&!this.closed;a++)i[a].next(e);var u=this.count-r+1;if(u>=0&&u%t==0&&!this.closed&&i.shift().complete(),++this.count%t==0&&!this.closed){var c=new o.Subject;i.push(c),n.next(c)}},t.prototype._error=function(e){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().complete();this.destination.complete()},t.prototype._unsubscribe=function(){this.count=0,this.windows=null},t}(i.Subscriber)},{tslib:"vCxL","../Subscriber":"RaFB","../Subject":"r9t1"}],Okss:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.windowTime=function(e){var t=o.async,n=null,r=Number.POSITIVE_INFINITY;return(0,u.isScheduler)(arguments[3])&&(t=arguments[3]),(0,u.isScheduler)(arguments[2])?t=arguments[2]:(0,a.isNumeric)(arguments[2])&&(r=arguments[2]),(0,u.isScheduler)(arguments[1])?t=arguments[1]:(0,a.isNumeric)(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new l(e,n,r,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subject"),o=e("../scheduler/async"),s=e("../Subscriber"),a=e("../util/isNumeric"),u=e("../util/isScheduler");function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}var l=function(){function e(e,t,n,r){this.windowTimeSpan=e,this.windowCreationInterval=t,this.maxWindowSize=n,this.scheduler=r}return e.prototype.call=function(e,t){return t.subscribe(new h(e,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},e}(),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._numberOfNextedValues=0,t}return r.__extends(t,e),t.prototype.next=function(t){this._numberOfNextedValues++,e.prototype.next.call(this,t)},Object.defineProperty(t.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),t}(i.Subject),h=function(e){function t(t,n,r,i,o){var s=e.call(this,t)||this;s.destination=t,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==r&&r>=0){var u={subscriber:s,window:a,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(v,n,u)),s.add(o.schedule(d,r,c))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(p,n,l))}return s}return r.__extends(t,e),t.prototype._next=function(e){for(var t=this.windows,n=t.length,r=0;r<n;r++){var i=t[r];i.closed||(i.next(e),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},t.prototype._error=function(e){for(var t=this.windows;t.length>0;)t.shift().error(e);this.destination.error(e)},t.prototype._complete=function(){for(var e=this.windows;e.length>0;){var t=e.shift();t.closed||t.complete()}this.destination.complete()},t.prototype.openWindow=function(){var e=new f;return this.windows.push(e),this.destination.next(e),e},t.prototype.closeWindow=function(e){e.complete();var t=this.windows;t.splice(t.indexOf(e),1)},t}(s.Subscriber);function p(e){var t=e.subscriber,n=e.windowTimeSpan,r=e.window;r&&t.closeWindow(r),e.window=t.openWindow(),this.schedule(e,n)}function d(e){var t=e.windowTimeSpan,n=e.subscriber,r=e.scheduler,i=e.windowCreationInterval,o=n.openWindow(),s={action:this,subscription:null},a={subscriber:n,window:o,context:s};s.subscription=r.schedule(v,t,a),this.add(s.subscription),this.schedule(e,i)}function v(e){var t=e.subscriber,n=e.window,r=e.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),t.closeWindow(n)}},{tslib:"vCxL","../Subject":"r9t1","../scheduler/async":"jun6","../Subscriber":"RaFB","../util/isNumeric":"wBpm","../util/isScheduler":"VqoH"}],JiQj:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.windowToggle=function(e,t){return function(n){return n.lift(new c(e,t))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subject"),o=e("../Subscription"),s=e("../OuterSubscriber"),a=e("../util/subscribeToResult");function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}var c=function(){function e(e,t){this.openings=e,this.closingSelector=t}return e.prototype.call=function(e,t){return t.subscribe(new l(e,this.openings,this.closingSelector))},e}(),l=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=(0,a.subscribeToResult)(i,n,n)),i}return r.__extends(t,e),t.prototype._next=function(e){var t=this.contexts;if(t)for(var n=t.length,r=0;r<n;r++)t[r].window.next(e)},t.prototype._error=function(t){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(t),o.subscription.unsubscribe()}e.prototype._error.call(this,t)},t.prototype._complete=function(){var t=this.contexts;if(this.contexts=null,t)for(var n=t.length,r=-1;++r<n;){var i=t[r];i.window.complete(),i.subscription.unsubscribe()}e.prototype._complete.call(this)},t.prototype._unsubscribe=function(){var e=this.contexts;if(this.contexts=null,e)for(var t=e.length,n=-1;++n<t;){var r=e[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},t.prototype.notifyNext=function(e,t,n,r,s){if(e===this.openings){var u=void 0;try{u=(0,this.closingSelector)(t)}catch(p){return this.error(p)}var c=new i.Subject,l=new o.Subscription,f={window:c,subscription:l};this.contexts.push(f);var h=(0,a.subscribeToResult)(this,u,f);h.closed?this.closeWindow(this.contexts.length-1):(h.context=f,l.add(h)),this.destination.next(c)}else this.closeWindow(this.contexts.indexOf(e))},t.prototype.notifyError=function(e){this.error(e)},t.prototype.notifyComplete=function(e){e!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(e.context))},t.prototype.closeWindow=function(e){if(-1!==e){var t=this.contexts,n=t[e],r=n.window,i=n.subscription;t.splice(e,1),r.complete(),i.unsubscribe()}},t}(s.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../Subscription":"I8KM","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],YaG1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.windowWhen=function(e){return function(t){return t.lift(new u(e))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../Subject"),o=e("../OuterSubscriber"),s=e("../util/subscribeToResult");function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}var u=function(){function e(e){this.closingSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new c(e,this.closingSelector))},e}(),c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.destination=t,r.closingSelector=n,r.openWindow(),r}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.openWindow(i)},t.prototype.notifyError=function(e,t){this._error(e)},t.prototype.notifyComplete=function(e){this.openWindow(e)},t.prototype._next=function(e){this.window.next(e)},t.prototype._error=function(e){this.window.error(e),this.destination.error(e),this.unsubscribeClosingNotification()},t.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},t.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},t.prototype.openWindow=function(e){void 0===e&&(e=null),e&&(this.remove(e),e.unsubscribe());var t=this.window;t&&t.complete();var n,r=this.window=new i.Subject;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(o){return this.destination.error(o),void this.window.error(o)}this.add(this.closingNotification=(0,s.subscribeToResult)(this,n))},t}(o.OuterSubscriber)},{tslib:"vCxL","../Subject":"r9t1","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],JDwQ:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.withLatestFrom=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){var n;"function"==typeof e[e.length-1]&&(n=e.pop());var r=e;return t.lift(new a(r,n))}};var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}(e("tslib")),i=e("../OuterSubscriber"),o=e("../util/subscribeToResult");function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}var a=function(){function e(e,t){this.observables=e,this.project=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.observables,this.project))},e}(),u=function(e){function t(t,n,r){var i=e.call(this,t)||this;i.observables=n,i.project=r,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var a=0;a<s;a++)i.toRespond.push(a);for(a=0;a<s;a++){var u=n[a];i.add((0,o.subscribeToResult)(i,u,u,a))}return i}return r.__extends(t,e),t.prototype.notifyNext=function(e,t,n,r,i){this.values[n]=t;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},t.prototype.notifyComplete=function(){},t.prototype._next=function(e){if(0===this.toRespond.length){var t=[e].concat(this.values);this.project?this._tryProject(t):this.destination.next(t)}},t.prototype._tryProject=function(e){var t;try{t=this.project.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)},t}(i.OuterSubscriber)},{tslib:"vCxL","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],UwLD:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call(r.zip.apply(void 0,[t].concat(e)))}};var r=e("../observable/zip")},{"../observable/zip":"ff2A"}],DmwP:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.zipAll=function(e){return function(t){return t.lift(new r.ZipOperator(e))}};var r=e("../observable/zip")},{"../observable/zip":"ff2A"}],cVrl:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"audit",{enumerable:!0,get:function(){return r.audit}}),Object.defineProperty(n,"auditTime",{enumerable:!0,get:function(){return i.auditTime}}),Object.defineProperty(n,"buffer",{enumerable:!0,get:function(){return o.buffer}}),Object.defineProperty(n,"bufferCount",{enumerable:!0,get:function(){return s.bufferCount}}),Object.defineProperty(n,"bufferTime",{enumerable:!0,get:function(){return a.bufferTime}}),Object.defineProperty(n,"bufferToggle",{enumerable:!0,get:function(){return u.bufferToggle}}),Object.defineProperty(n,"bufferWhen",{enumerable:!0,get:function(){return c.bufferWhen}}),Object.defineProperty(n,"catchError",{enumerable:!0,get:function(){return l.catchError}}),Object.defineProperty(n,"combineAll",{enumerable:!0,get:function(){return f.combineAll}}),Object.defineProperty(n,"combineLatest",{enumerable:!0,get:function(){return h.combineLatest}}),Object.defineProperty(n,"concat",{enumerable:!0,get:function(){return p.concat}}),Object.defineProperty(n,"concatAll",{enumerable:!0,get:function(){return d.concatAll}}),Object.defineProperty(n,"concatMap",{enumerable:!0,get:function(){return v.concatMap}}),Object.defineProperty(n,"concatMapTo",{enumerable:!0,get:function(){return y.concatMapTo}}),Object.defineProperty(n,"count",{enumerable:!0,get:function(){return m.count}}),Object.defineProperty(n,"debounce",{enumerable:!0,get:function(){return b.debounce}}),Object.defineProperty(n,"debounceTime",{enumerable:!0,get:function(){return g.debounceTime}}),Object.defineProperty(n,"defaultIfEmpty",{enumerable:!0,get:function(){return _.defaultIfEmpty}}),Object.defineProperty(n,"delay",{enumerable:!0,get:function(){return w.delay}}),Object.defineProperty(n,"delayWhen",{enumerable:!0,get:function(){return E.delayWhen}}),Object.defineProperty(n,"dematerialize",{enumerable:!0,get:function(){return S.dematerialize}}),Object.defineProperty(n,"distinct",{enumerable:!0,get:function(){return O.distinct}}),Object.defineProperty(n,"distinctUntilChanged",{enumerable:!0,get:function(){return x.distinctUntilChanged}}),Object.defineProperty(n,"distinctUntilKeyChanged",{enumerable:!0,get:function(){return k.distinctUntilKeyChanged}}),Object.defineProperty(n,"elementAt",{enumerable:!0,get:function(){return C.elementAt}}),Object.defineProperty(n,"endWith",{enumerable:!0,get:function(){return T.endWith}}),Object.defineProperty(n,"every",{enumerable:!0,get:function(){return I.every}}),Object.defineProperty(n,"exhaust",{enumerable:!0,get:function(){return P.exhaust}}),Object.defineProperty(n,"exhaustMap",{enumerable:!0,get:function(){return A.exhaustMap}}),Object.defineProperty(n,"expand",{enumerable:!0,get:function(){return N.expand}}),Object.defineProperty(n,"filter",{enumerable:!0,get:function(){return D.filter}}),Object.defineProperty(n,"finalize",{enumerable:!0,get:function(){return j.finalize}}),Object.defineProperty(n,"find",{enumerable:!0,get:function(){return R.find}}),Object.defineProperty(n,"findIndex",{enumerable:!0,get:function(){return M.findIndex}}),Object.defineProperty(n,"first",{enumerable:!0,get:function(){return L.first}}),Object.defineProperty(n,"groupBy",{enumerable:!0,get:function(){return F.groupBy}}),Object.defineProperty(n,"ignoreElements",{enumerable:!0,get:function(){return U.ignoreElements}}),Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return V.isEmpty}}),Object.defineProperty(n,"last",{enumerable:!0,get:function(){return W.last}}),Object.defineProperty(n,"map",{enumerable:!0,get:function(){return B.map}}),Object.defineProperty(n,"mapTo",{enumerable:!0,get:function(){return q.mapTo}}),Object.defineProperty(n,"materialize",{enumerable:!0,get:function(){return z.materialize}}),Object.defineProperty(n,"max",{enumerable:!0,get:function(){return H.max}}),Object.defineProperty(n,"merge",{enumerable:!0,get:function(){return Y.merge}}),Object.defineProperty(n,"mergeAll",{enumerable:!0,get:function(){return G.mergeAll}}),Object.defineProperty(n,"mergeMap",{enumerable:!0,get:function(){return K.mergeMap}}),Object.defineProperty(n,"flatMap",{enumerable:!0,get:function(){return K.mergeMap}}),Object.defineProperty(n,"mergeMapTo",{enumerable:!0,get:function(){return Q.mergeMapTo}}),Object.defineProperty(n,"mergeScan",{enumerable:!0,get:function(){return X.mergeScan}}),Object.defineProperty(n,"min",{enumerable:!0,get:function(){return $.min}}),Object.defineProperty(n,"multicast",{enumerable:!0,get:function(){return J.multicast}}),Object.defineProperty(n,"observeOn",{enumerable:!0,get:function(){return Z.observeOn}}),Object.defineProperty(n,"onErrorResumeNext",{enumerable:!0,get:function(){return ee.onErrorResumeNext}}),Object.defineProperty(n,"pairwise",{enumerable:!0,get:function(){return te.pairwise}}),Object.defineProperty(n,"partition",{enumerable:!0,get:function(){return ne.partition}}),Object.defineProperty(n,"pluck",{enumerable:!0,get:function(){return re.pluck}}),Object.defineProperty(n,"publish",{enumerable:!0,get:function(){return ie.publish}}),Object.defineProperty(n,"publishBehavior",{enumerable:!0,get:function(){return oe.publishBehavior}}),Object.defineProperty(n,"publishLast",{enumerable:!0,get:function(){return se.publishLast}}),Object.defineProperty(n,"publishReplay",{enumerable:!0,get:function(){return ae.publishReplay}}),Object.defineProperty(n,"race",{enumerable:!0,get:function(){return ue.race}}),Object.defineProperty(n,"reduce",{enumerable:!0,get:function(){return ce.reduce}}),Object.defineProperty(n,"repeat",{enumerable:!0,get:function(){return le.repeat}}),Object.defineProperty(n,"repeatWhen",{enumerable:!0,get:function(){return fe.repeatWhen}}),Object.defineProperty(n,"retry",{enumerable:!0,get:function(){return he.retry}}),Object.defineProperty(n,"retryWhen",{enumerable:!0,get:function(){return pe.retryWhen}}),Object.defineProperty(n,"refCount",{enumerable:!0,get:function(){return de.refCount}}),Object.defineProperty(n,"sample",{enumerable:!0,get:function(){return ve.sample}}),Object.defineProperty(n,"sampleTime",{enumerable:!0,get:function(){return ye.sampleTime}}),Object.defineProperty(n,"scan",{enumerable:!0,get:function(){return me.scan}}),Object.defineProperty(n,"sequenceEqual",{enumerable:!0,get:function(){return be.sequenceEqual}}),Object.defineProperty(n,"share",{enumerable:!0,get:function(){return ge.share}}),Object.defineProperty(n,"shareReplay",{enumerable:!0,get:function(){return _e.shareReplay}}),Object.defineProperty(n,"single",{enumerable:!0,get:function(){return we.single}}),Object.defineProperty(n,"skip",{enumerable:!0,get:function(){return Ee.skip}}),Object.defineProperty(n,"skipLast",{enumerable:!0,get:function(){return Se.skipLast}}),Object.defineProperty(n,"skipUntil",{enumerable:!0,get:function(){return Oe.skipUntil}}),Object.defineProperty(n,"skipWhile",{enumerable:!0,get:function(){return xe.skipWhile}}),Object.defineProperty(n,"startWith",{enumerable:!0,get:function(){return ke.startWith}}),Object.defineProperty(n,"subscribeOn",{enumerable:!0,get:function(){return Ce.subscribeOn}}),Object.defineProperty(n,"switchAll",{enumerable:!0,get:function(){return Te.switchAll}}),Object.defineProperty(n,"switchMap",{enumerable:!0,get:function(){return Ie.switchMap}}),Object.defineProperty(n,"switchMapTo",{enumerable:!0,get:function(){return Pe.switchMapTo}}),Object.defineProperty(n,"take",{enumerable:!0,get:function(){return Ae.take}}),Object.defineProperty(n,"takeLast",{enumerable:!0,get:function(){return Ne.takeLast}}),Object.defineProperty(n,"takeUntil",{enumerable:!0,get:function(){return De.takeUntil}}),Object.defineProperty(n,"takeWhile",{enumerable:!0,get:function(){return je.takeWhile}}),Object.defineProperty(n,"tap",{enumerable:!0,get:function(){return Re.tap}}),Object.defineProperty(n,"throttle",{enumerable:!0,get:function(){return Me.throttle}}),Object.defineProperty(n,"throttleTime",{enumerable:!0,get:function(){return Le.throttleTime}}),Object.defineProperty(n,"throwIfEmpty",{enumerable:!0,get:function(){return Fe.throwIfEmpty}}),Object.defineProperty(n,"timeInterval",{enumerable:!0,get:function(){return Ue.timeInterval}}),Object.defineProperty(n,"timeout",{enumerable:!0,get:function(){return Ve.timeout}}),Object.defineProperty(n,"timeoutWith",{enumerable:!0,get:function(){return We.timeoutWith}}),Object.defineProperty(n,"timestamp",{enumerable:!0,get:function(){return Be.timestamp}}),Object.defineProperty(n,"toArray",{enumerable:!0,get:function(){return qe.toArray}}),Object.defineProperty(n,"window",{enumerable:!0,get:function(){return ze.window}}),Object.defineProperty(n,"windowCount",{enumerable:!0,get:function(){return He.windowCount}}),Object.defineProperty(n,"windowTime",{enumerable:!0,get:function(){return Ye.windowTime}}),Object.defineProperty(n,"windowToggle",{enumerable:!0,get:function(){return Ge.windowToggle}}),Object.defineProperty(n,"windowWhen",{enumerable:!0,get:function(){return Ke.windowWhen}}),Object.defineProperty(n,"withLatestFrom",{enumerable:!0,get:function(){return Qe.withLatestFrom}}),Object.defineProperty(n,"zip",{enumerable:!0,get:function(){return Xe.zip}}),Object.defineProperty(n,"zipAll",{enumerable:!0,get:function(){return $e.zipAll}});var r=e("../internal/operators/audit"),i=e("../internal/operators/auditTime"),o=e("../internal/operators/buffer"),s=e("../internal/operators/bufferCount"),a=e("../internal/operators/bufferTime"),u=e("../internal/operators/bufferToggle"),c=e("../internal/operators/bufferWhen"),l=e("../internal/operators/catchError"),f=e("../internal/operators/combineAll"),h=e("../internal/operators/combineLatest"),p=e("../internal/operators/concat"),d=e("../internal/operators/concatAll"),v=e("../internal/operators/concatMap"),y=e("../internal/operators/concatMapTo"),m=e("../internal/operators/count"),b=e("../internal/operators/debounce"),g=e("../internal/operators/debounceTime"),_=e("../internal/operators/defaultIfEmpty"),w=e("../internal/operators/delay"),E=e("../internal/operators/delayWhen"),S=e("../internal/operators/dematerialize"),O=e("../internal/operators/distinct"),x=e("../internal/operators/distinctUntilChanged"),k=e("../internal/operators/distinctUntilKeyChanged"),C=e("../internal/operators/elementAt"),T=e("../internal/operators/endWith"),I=e("../internal/operators/every"),P=e("../internal/operators/exhaust"),A=e("../internal/operators/exhaustMap"),N=e("../internal/operators/expand"),D=e("../internal/operators/filter"),j=e("../internal/operators/finalize"),R=e("../internal/operators/find"),M=e("../internal/operators/findIndex"),L=e("../internal/operators/first"),F=e("../internal/operators/groupBy"),U=e("../internal/operators/ignoreElements"),V=e("../internal/operators/isEmpty"),W=e("../internal/operators/last"),B=e("../internal/operators/map"),q=e("../internal/operators/mapTo"),z=e("../internal/operators/materialize"),H=e("../internal/operators/max"),Y=e("../internal/operators/merge"),G=e("../internal/operators/mergeAll"),K=e("../internal/operators/mergeMap"),Q=e("../internal/operators/mergeMapTo"),X=e("../internal/operators/mergeScan"),$=e("../internal/operators/min"),J=e("../internal/operators/multicast"),Z=e("../internal/operators/observeOn"),ee=e("../internal/operators/onErrorResumeNext"),te=e("../internal/operators/pairwise"),ne=e("../internal/operators/partition"),re=e("../internal/operators/pluck"),ie=e("../internal/operators/publish"),oe=e("../internal/operators/publishBehavior"),se=e("../internal/operators/publishLast"),ae=e("../internal/operators/publishReplay"),ue=e("../internal/operators/race"),ce=e("../internal/operators/reduce"),le=e("../internal/operators/repeat"),fe=e("../internal/operators/repeatWhen"),he=e("../internal/operators/retry"),pe=e("../internal/operators/retryWhen"),de=e("../internal/operators/refCount"),ve=e("../internal/operators/sample"),ye=e("../internal/operators/sampleTime"),me=e("../internal/operators/scan"),be=e("../internal/operators/sequenceEqual"),ge=e("../internal/operators/share"),_e=e("../internal/operators/shareReplay"),we=e("../internal/operators/single"),Ee=e("../internal/operators/skip"),Se=e("../internal/operators/skipLast"),Oe=e("../internal/operators/skipUntil"),xe=e("../internal/operators/skipWhile"),ke=e("../internal/operators/startWith"),Ce=e("../internal/operators/subscribeOn"),Te=e("../internal/operators/switchAll"),Ie=e("../internal/operators/switchMap"),Pe=e("../internal/operators/switchMapTo"),Ae=e("../internal/operators/take"),Ne=e("../internal/operators/takeLast"),De=e("../internal/operators/takeUntil"),je=e("../internal/operators/takeWhile"),Re=e("../internal/operators/tap"),Me=e("../internal/operators/throttle"),Le=e("../internal/operators/throttleTime"),Fe=e("../internal/operators/throwIfEmpty"),Ue=e("../internal/operators/timeInterval"),Ve=e("../internal/operators/timeout"),We=e("../internal/operators/timeoutWith"),Be=e("../internal/operators/timestamp"),qe=e("../internal/operators/toArray"),ze=e("../internal/operators/window"),He=e("../internal/operators/windowCount"),Ye=e("../internal/operators/windowTime"),Ge=e("../internal/operators/windowToggle"),Ke=e("../internal/operators/windowWhen"),Qe=e("../internal/operators/withLatestFrom"),Xe=e("../internal/operators/zip"),$e=e("../internal/operators/zipAll")},{"../internal/operators/audit":"Pdg2","../internal/operators/auditTime":"jcYn","../internal/operators/buffer":"mG6b","../internal/operators/bufferCount":"f9IP","../internal/operators/bufferTime":"Axj2","../internal/operators/bufferToggle":"ZTTP","../internal/operators/bufferWhen":"Ul3A","../internal/operators/catchError":"THoY","../internal/operators/combineAll":"TMFF","../internal/operators/combineLatest":"DJQm","../internal/operators/concat":"ZHmI","../internal/operators/concatAll":"Yxey","../internal/operators/concatMap":"DoUK","../internal/operators/concatMapTo":"APQq","../internal/operators/count":"U1Ln","../internal/operators/debounce":"y9EZ","../internal/operators/debounceTime":"KBFO","../internal/operators/defaultIfEmpty":"YBdz","../internal/operators/delay":"zkgx","../internal/operators/delayWhen":"iVuv","../internal/operators/dematerialize":"v6b5","../internal/operators/distinct":"H608","../internal/operators/distinctUntilChanged":"hFX7","../internal/operators/distinctUntilKeyChanged":"Egbr","../internal/operators/elementAt":"TbZV","../internal/operators/endWith":"loee","../internal/operators/every":"eEZZ","../internal/operators/exhaust":"ifNj","../internal/operators/exhaustMap":"DGWU","../internal/operators/expand":"iYcS","../internal/operators/filter":"HKzi","../internal/operators/finalize":"x5qu","../internal/operators/find":"t6rP","../internal/operators/findIndex":"GIlo","../internal/operators/first":"f9sd","../internal/operators/groupBy":"dNgG","../internal/operators/ignoreElements":"P82l","../internal/operators/isEmpty":"LqVv","../internal/operators/last":"xu0X","../internal/operators/map":"dNh5","../internal/operators/mapTo":"yJbZ","../internal/operators/materialize":"ZwCH","../internal/operators/max":"BgD2","../internal/operators/merge":"sbfV","../internal/operators/mergeAll":"Nkv4","../internal/operators/mergeMap":"nFsM","../internal/operators/mergeMapTo":"S3q6","../internal/operators/mergeScan":"wQne","../internal/operators/min":"bAWd","../internal/operators/multicast":"M6Em","../internal/operators/observeOn":"ezNs","../internal/operators/onErrorResumeNext":"S4UH","../internal/operators/pairwise":"u6OS","../internal/operators/partition":"jvG2","../internal/operators/pluck":"TdE4","../internal/operators/publish":"TQAB","../internal/operators/publishBehavior":"fUyM","../internal/operators/publishLast":"fQ7S","../internal/operators/publishReplay":"aqWk","../internal/operators/race":"EAaA","../internal/operators/reduce":"BORG","../internal/operators/repeat":"Fbxf","../internal/operators/repeatWhen":"CT9q","../internal/operators/retry":"ZHEI","../internal/operators/retryWhen":"GHe2","../internal/operators/refCount":"vT9o","../internal/operators/sample":"Rd9o","../internal/operators/sampleTime":"nb45","../internal/operators/scan":"U785","../internal/operators/sequenceEqual":"PMGC","../internal/operators/share":"KBGh","../internal/operators/shareReplay":"xsrM","../internal/operators/single":"angX","../internal/operators/skip":"vMIz","../internal/operators/skipLast":"iB53","../internal/operators/skipUntil":"xmsT","../internal/operators/skipWhile":"qjDA","../internal/operators/startWith":"doo6","../internal/operators/subscribeOn":"Et1l","../internal/operators/switchAll":"CBg8","../internal/operators/switchMap":"g5Rk","../internal/operators/switchMapTo":"Hs9S","../internal/operators/take":"JVEz","../internal/operators/takeLast":"FbHg","../internal/operators/takeUntil":"qGSv","../internal/operators/takeWhile":"EYJX","../internal/operators/tap":"okAI","../internal/operators/throttle":"Yoo8","../internal/operators/throttleTime":"v3FQ","../internal/operators/throwIfEmpty":"D7Ma","../internal/operators/timeInterval":"n6SK","../internal/operators/timeout":"Cp8V","../internal/operators/timeoutWith":"L72b","../internal/operators/timestamp":"pXuq","../internal/operators/toArray":"LA40","../internal/operators/window":"Iygx","../internal/operators/windowCount":"GYT2","../internal/operators/windowTime":"Okss","../internal/operators/windowToggle":"JiQj","../internal/operators/windowWhen":"YaG1","../internal/operators/withLatestFrom":"JDwQ","../internal/operators/zip":"UwLD","../internal/operators/zipAll":"DmwP"}],f2sD:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.__extends=function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},n.__rest=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},n.__decorate=function(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s},n.__param=function(e,t){return function(n,r){t(n,r,e)}},n.__metadata=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},n.__awaiter=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},n.__generator=function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},n.__createBinding=function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},n.__exportStar=function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},n.__values=o,n.__read=s,n.__spread=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},n.__spreadArrays=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},n.__await=a,n.__asyncGenerator=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||u(e,t)}))})}function u(e,t){try{(n=i[e](t)).value instanceof a?Promise.resolve(n.value.v).then(c,l):f(o[0][2],n)}catch(r){f(o[0][3],r)}var n}function c(e){u("next",e)}function l(e){u("throw",e)}function f(e,t){e(t),o.shift(),o.length&&u(o[0][0],o[0][1])}},n.__asyncDelegator=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:a(e[r](t)),done:"return"===r}:i?i(t):t}:i}},n.__asyncValues=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=o(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}},n.__makeTemplateObject=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},n.__importStar=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},n.__importDefault=function(e){return e&&e.__esModule?e:{default:e}},n.__classPrivateFieldGet=function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},n.__classPrivateFieldSet=function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n},n.__assign=void 0;var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var i=function(){return n.__assign=i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};function o(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function a(e){return this instanceof a?(this.v=e,this):new a(e)}n.__assign=i},{}],xA6u:[function(e,t,n){var r=arguments[3];Object.defineProperty(n,"__esModule",{value:!0});var i=e("tslib"),o={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},s=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+o.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},u=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},c=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(a=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{o=e[n++];var a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return t.join("")},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],s=i+1<e.length,a=s?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|a>>4,h=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(h=64)),r.push(n[l],n[f],n[h],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):c(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0,a=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var f=a<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},f=function(e){var t=u(e);return l.encodeByteArray(t,!0)},h=function(e){try{return l.decodeString(e,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};function p(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=d(e[n],t[n]));return e}var v=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function b(){try{return"[object process]"===Object.prototype.toString.call(r.process)}catch(i){return!1}}function g(){return"object"==typeof self&&self.self===self}function _(){var e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function w(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function E(){return y().indexOf("Electron/")>=0}function S(){var e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function O(){return y().indexOf("MSAppHost/")>=0}function x(){return!0===o.NODE_CLIENT||!0===o.NODE_ADMIN}function k(){return!b()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function T(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(u){t(u)}}))}function I(){return!(!navigator||!navigator.cookieEnabled)}var P="FirebaseError",A=function(e){function t(n,r){var i=e.call(this,r)||this;return i.code=n,i.name=P,Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,N.prototype.create),i}return i.__extends(t,e),t}(Error),N=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],s=o?D(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new A(i,a),c=0,l=Object.keys(r);c<l.length;c++){var f=l[c];"_"!==f.slice(-1)&&(f in u&&console.warn('Overwriting FirebaseError base field "'+f+'" can cause unexpected behavior.'),u[f]=r[f])}return u},e}();function D(e,t){return e.replace(j,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var j=/\{\$([^}]+)}/g;function R(e){return JSON.parse(e)}function M(e){return JSON.stringify(e)}var L=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=R(h(o[0])||""),n=R(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(c){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=L(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(e){var t=L(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},V=function(e){var t=L(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},W=function(e){var t=L(e).claims;return"object"==typeof t&&!0===t.admin};function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function H(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Y(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function G(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}})),t}var K=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++)r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782),i=(a<<5|a>>>27)+o+f+s+n[r]&4294967295,f=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i;this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Q(e,t){var n=new X(e,t);return n.subscribe.bind(n)}var X=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=J(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Z),void 0===r.error&&(r.error=Z),void 0===r.complete&&(r.complete=Z);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(s){"undefined"!=typeof console&&console.error&&console.error(s)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function $(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function J(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}function Z(){}var ee=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function te(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}return e+" failed: "+(r+" argument ")}function ne(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(te(e,t,r)+"must be a valid firebase namespace.")}function re(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(te(e,t,r)+"must be a valid function.")}function ie(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(te(e,t,r)+"must be a valid context object.")}var oe=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;s(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},se=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ae=1e3,ue=2,ce=144e5,le=.5;function fe(e,t,n){void 0===t&&(t=ae),void 0===n&&(n=ue);var r=t*Math.pow(n,e),i=Math.round(le*r*(Math.random()-.5)*2);return Math.min(ce,r+i)}n.CONSTANTS=o,n.Deferred=v,n.ErrorFactory=N,n.FirebaseError=A,n.MAX_VALUE_MILLIS=ce,n.RANDOM_FACTOR=le,n.Sha1=K,n.areCookiesEnabled=I,n.assert=s,n.assertionError=a,n.async=$,n.base64=l,n.base64Decode=h,n.base64Encode=f,n.calculateBackoffMillis=fe,n.contains=B,n.createSubscribe=Q,n.decode=L,n.deepCopy=p,n.deepExtend=d,n.errorPrefix=te,n.getUA=y,n.isAdmin=W,n.isBrowser=g,n.isBrowserExtension=_,n.isElectron=E,n.isEmpty=z,n.isIE=S,n.isIndexedDBAvailable=C,n.isMobileCordova=m,n.isNode=b,n.isNodeSdk=x,n.isReactNative=w,n.isSafari=k,n.isUWP=O,n.isValidFormat=V,n.isValidTimestamp=F,n.issuedAtTime=U,n.jsonEval=R,n.map=H,n.querystring=Y,n.querystringDecode=G,n.safeGet=q,n.stringLength=se,n.stringToByteArray=oe,n.stringify=M,n.validateArgCount=ee,n.validateCallback=re,n.validateContextObject=ie,n.validateIndexedDBOpenable=T,n.validateNamespace=ne},{tslib:"f2sD"}],nzQs:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("tslib"),i=e("@firebase/util"),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e}(),s="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return e.prototype.get=function(e){void 0===e&&(e=s);var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;this.instancesDeferred.set(t,n);try{var r=this.getOrInitializeService(t);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t=r.__assign({identifier:s,optional:!1},e),n=t.identifier,i=t.optional,o=this.normalizeInstanceIdentifier(n);try{var a=this.getOrInitializeService(o);if(!a){if(i)return null;throw Error("Service "+this.name+" is not available")}return a}catch(u){if(i)return null;throw u}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=r.__values(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=r.__read(o.value,2),u=a[0],c=a[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService(l);c.resolve(f)}catch(h){}}}catch(p){t={error:p}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.clearInstance=function(e){void 0===e&&(e=s),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spread(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})),e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.getOrInitializeService=function(e){var t=this.instances.get(e);return!t&&this.component&&(t=this.component.instanceFactory(this.container,function(e){return e===s?void 0:e}(e)),this.instances.set(e,t)),t||null},e.prototype.normalizeInstanceIdentifier=function(e){return this.component?this.component.multipleInstances?e:s:e},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();n.Component=o,n.ComponentContainer=u,n.Provider=a},{tslib:"f2sD","@firebase/util":"xA6u"}],TUpU:[function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;Object.defineProperty(n,"__esModule",{value:!0}),n.setLogLevel=function(e){s.forEach((function(t){t.setLogLevel(e)}))},n.setUserLogHandler=function(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=a[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:a,args:i,type:t.name})}},r=0,i=s;r<i.length;r++)n(i[r])},n.Logger=n.LogLevel=void 0;var o,s=[];n.LogLevel=o,function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(n.LogLevel=o={}));var a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),s=c[t];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[s].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();n.Logger=f},{}],dP58:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i,o=e("tslib"),s=e("@firebase/util"),a=e("@firebase/component"),u=e("@firebase/logger"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",p=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),d=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=s.deepCopy(e),this.container=new a.ComponentContainer(t.name),this._addComponent(new a.Component("app",(function(){return u}),"PUBLIC"));try{for(var c=o.__values(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next()){var f=l.value;this._addComponent(f)}}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){return void 0===t&&(t=h),this.checkDestroyed_(),this.container.getProvider(e).getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(i){d.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,i)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),("object"!=typeof i||null===i)&&(i={name:i});var o=i;void 0===o.name&&(o.name=h);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(s.contains(t,a))throw l.create("duplicate-app",{appName:a});var u=new e(n,o,r);return t[a]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=p[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),s=t.match(/\s|\//);if(o||s){var u=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&u.push("and"),s&&u.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void d.warn(u.join(" "))}c(new a.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!=typeof e)throw l.create("invalid-log-argument",{appName:name});u.setUserLogHandler(e,t)},apps:null,SDK_VERSION:"7.20.0",INTERNAL:{registerComponent:c,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!s.contains(t,e))throw l.create("no-app",{appName:e});return t[e]}function c(a){var u,c,f=a.name;if(n.has(f))return d.debug("There were multiple attempts to register component "+f+"."),"PUBLIC"===a.type?r[f]:null;if(n.set(f,a),"PUBLIC"===a.type){var h=function(e){if(void 0===e&&(e=i()),"function"!=typeof e[f])throw l.create("invalid-app-argument",{appName:f});return e[f]()};void 0!==a.serviceProps&&s.deepExtend(h,a.serviceProps),r[f]=h,e.prototype[f]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,f).apply(this,a.multipleInstances?e:[])}}try{for(var p=o.__values(Object.keys(t)),v=p.next();!v.done;v=p.next()){var y=v.value;t[y]._addComponent(a)}}catch(m){u={error:m}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[f]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=o.__assign(o.__assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){s.deepExtend(t,e)},createSubscribe:s.createSubscribe,ErrorFactory:s.ErrorFactory,deepExtend:s.deepExtend}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if(s.isBrowser()&&void 0!==self.firebase){d.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&d.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var g=y.initializeApp;y.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.isNode()&&d.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),g.apply(void 0,e)};var _=y;(function(e,t){e.INTERNAL.registerComponent(new a.Component("platform-logger",(function(e){return new m(e)}),"PRIVATE")),e.registerVersion(f,"0.6.11",t),e.registerVersion("fire-js","")})(_),n.default=_,n.firebase=_},{tslib:"f2sD","@firebase/util":"xA6u","@firebase/component":"nzQs","@firebase/logger":"TUpU"}],ZUoI:[function(e,t,n){"use strict";var r=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(e("@firebase/app"));r.default.registerVersion("firebase","7.24.0","app"),t.exports=r.default},{"@firebase/app":"dP58"}],pBGv:[function(e,t,n){var r,i,o=t.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(o){try{return r.call(null,e,0)}catch(o){return r.call(this,e,0)}}}function c(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{return i(e)}catch(o){try{return i.call(null,e)}catch(o){return i.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(o){r=s}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(o){i=a}}();var l,f=[],h=!1,p=-1;function d(){h&&l&&(h=!1,l.length?f=l.concat(f):p=-1,f.length&&v())}function v(){if(!h){var e=u(d);h=!0;for(var t=f.length;t;){for(l=f,f=[];++p<t;)l&&l[p].run();p=-1,t=f.length}l=null,h=!1,c(e)}}function y(e,t){this.fun=e,this.array=t}function m(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new y(e,t)),1!==f.length||h||u(v)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},{}],vmMz:[function(e,t,n){e("process");var r=e("process");Object.defineProperty(n,"__esModule",{value:!0});var i=e("@firebase/app"),o=e("tslib"),s=e("@firebase/util"),a=e("@firebase/logger"),u=e("@firebase/component");var c=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(i),l=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),s.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:s.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),f=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return s.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new l(t)}}catch(o){}return new f},p=h("localStorage"),d=h("sessionStorage"),v=new a.Logger("@firebase/database"),y=function(){var e=1;return function(){return e++}}(),m=function(e){var t=s.stringToByteArray(e),n=new s.Sha1;n.update(t);var r=n.digest();return s.base64.encodeByteArray(r)},b=function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",i=0;i<t.length;i++){var o=t[i];Array.isArray(o)||o&&"object"==typeof o&&"number"==typeof o.length?r+=e.apply(null,o):r+="object"==typeof o?s.stringify(o):o,r+=" "}return r},g=null,_=!0,w=function(e,t){s.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(v.logLevel=a.LogLevel.VERBOSE,g=v.log.bind(v),t&&d.set("logging_enabled",!0)):"function"==typeof e?g=e:(g=null,d.remove("logging_enabled"))},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===g&&!0===d.get("logging_enabled")&&w(!0)),g){var n=b.apply(null,e);g(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];E.apply(void 0,o.__spread([e],t))}},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,o.__spread(e));v.error(n)},x=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,o.__spread(e));throw v.error(n),new Error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+b.apply(void 0,o.__spread(e));v.warn(n)},C=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},T=function(e){if(s.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},I="[MIN_NAME]",P="[MAX_NAME]",A=function(e,t){if(e===t)return 0;if(e===I||t===P)return-1;if(t===I||e===P)return 1;var n=U(e),r=U(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},N=function(e,t){return e===t?0:e<t?-1:1},D=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+s.stringify(t))},j=function e(t){if("object"!=typeof t||null===t)return s.stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=s.stringify(n[o]),i+=":",i+=e(t[n[o]]);return i+"}"},R=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){var t,n,r,i,o;s.assert(!C(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var a=[];for(o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();var u=a.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},F=new RegExp("^-?(0*)\\d{1,10}$"),U=function(e){if(F.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},V=function(e){try{e()}catch(i){setTimeout((function(){var t=i.stack||"";throw k("Exception was thrown by user callback.",t),i}),Math.floor(0))}},W=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},B=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!1,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=A(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),q=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=s.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=s.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=s.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),z="5",H="firebaseio.com",Y="websocket",G="long_polling",K=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===s&&(s=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(s.assert("string"==typeof e,"typeof type must == string"),s.assert("object"==typeof t,"typeof params must == object"),e===Y)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==G)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return M(t,(function(e,t){r.push(e+"="+t)})),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();function Q(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=o.__values(e.split("&")),s=i.next();!s.done;s=i.next()){var a=s.value;if(0!==a.length){var u=a.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+a+"' in query '"+e+"'")}}}catch(f){t={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}var X,$,J=function(e,t){var n=Z(e),r=n.namespace;"firebase.com"===n.domain&&x(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||x("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new K(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new B(n.pathString)}},Z=function(e){var t="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(l,f)));var h=Q(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(t.substring(c+1),10)):c=t.length;var p=t.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=t.indexOf(".");r=t.substring(0,d).toLowerCase(),n=t.substring(d+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},ee=/[\[\].#$\/\u0000-\u001F\u007F]/,te=/[\[\].#$\u0000-\u001F\u007F]/,ne=10485760,re=function(e){return"string"==typeof e&&0!==e.length&&!ee.test(e)},ie=function(e){return"string"==typeof e&&0!==e.length&&!te.test(e)},oe=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!C(e)||e&&"object"==typeof e&&s.contains(e,".sv")},se=function(e,t,n,r,i){i&&void 0===n||ae(s.errorPrefix(e,t,i),n,r)},ae=function e(t,n,r){var i=r instanceof B?new q(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+i.toErrorString());if("function"==typeof n)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+n.toString());if(C(n))throw new Error(t+"contains "+n.toString()+" "+i.toErrorString());if("string"==typeof n&&n.length>ne/3&&s.stringLength(n)>ne)throw new Error(t+"contains a string greater than "+ne+" utf8 bytes "+i.toErrorString()+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(M(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!re(n)))throw new Error(t+" contains an invalid key ("+n+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(n),e(t,r,i),i.pop()})),o&&a)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},ue=function(e,t,n,r,i){if(!i||void 0!==n){var o=s.errorPrefix(e,t,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];M(n,(function(e,t){var n=new B(e);if(ae(o,t,r.child(n)),".priority"===n.getBack()&&!oe(t))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!re(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(B.comparePaths);var s=null;for(n=0;n<t.length;n++){if(r=t[n],null!==s&&s.contains(r))throw new Error(e+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,a)}},ce=function(e,t,n,r){if(!r||void 0!==n){if(C(n))throw new Error(s.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!oe(n))throw new Error(s.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},le=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(s.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},fe=function(e,t,n,r){if(!(r&&void 0===n||re(n)))throw new Error(s.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},he=function(e,t,n,r){if(!(r&&void 0===n||ie(n)))throw new Error(s.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},pe=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),he(e,t,n,r)},de=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},ve=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!re(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ie(e)}(r))throw new Error(s.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ye=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(s.errorPrefix(e,t,r)+"must be a boolean.")},me=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){s.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),s.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new s.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){s.validateArgCount("OnDisconnect.remove",0,1,arguments.length),de("OnDisconnect.remove",this.path_),s.validateCallback("OnDisconnect.remove",1,e,!0);var t=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){s.validateArgCount("OnDisconnect.set",1,2,arguments.length),de("OnDisconnect.set",this.path_),se("OnDisconnect.set",1,e,this.path_,!1),s.validateCallback("OnDisconnect.set",2,t,!0);var n=new s.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){s.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),de("OnDisconnect.setWithPriority",this.path_),se("OnDisconnect.setWithPriority",1,e,this.path_,!1),ce("OnDisconnect.setWithPriority",2,t,!1),s.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new s.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(s.validateArgCount("OnDisconnect.update",1,2,arguments.length),de("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ue("OnDisconnect.update",1,e,this.path_,!1),s.validateCallback("OnDisconnect.update",2,t,!0);var i=new s.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,i.wrapCallback(t)),i.promise},e}(),be=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return s.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),ge=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var i,o=r===t;t=r;var a=new Array(8);for(i=7;i>=0;i--)a[i]=e.charAt(r%64),r=Math.floor(r/64);s.assert(0===r,"Cannot push at time == 0");var u=a.join("");if(o){for(i=11;i>=0&&63===n[i];i--)n[i]=0;n[i]++}else for(i=0;i<12;i++)n[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)u+=e.charAt(n[i]);return s.assert(20===u.length,"nextPushId: Length should be 20."),u}}(),_e=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),we=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new _e(I,e),r=new _e(I,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return _e.MIN},e}(),Ee=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return X},set:function(e){X=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return A(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw s.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return _e.MIN},t.prototype.maxPost=function(){return new _e(P,X)},t.prototype.makePost=function(e,t){return s.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new _e(e,X)},t.prototype.toString=function(){return".key"},t}(we),Se=new Ee;var Oe,xe,ke,Ce=function(e){return"number"==typeof e?"number:"+L(e):"string:"+e},Te=function(e){if(e.isLeafNode()){var t=e.val();s.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&s.contains(t,".sv"),"Priority must be a string or number.")}else s.assert(e===$||e.isEmpty(),"priority of unexpected type.");s.assert(e===$||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ie=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,s.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Te(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Oe},set:function(e){Oe=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(s.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ce(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(s.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return s.assert(i>=0,"Unknown leaf type: "+n),s.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Pe,Ae,Ne=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return _e.MIN},t.prototype.maxPost=function(){return new _e(P,new Ie("[PRIORITY-POST]",ke))},t.prototype.makePost=function(e,t){var n=xe(e);return new _e(t,new Ie("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(we),De=new Ne,je=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Re=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Le.EMPTY_NODE,this.right=null!=o?o:Le.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Le.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Le.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Me=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Re(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Le=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Re.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Re.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new je(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new je(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new je(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new je(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Me,e}(),Fe=Math.log(2),Ue=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Fe,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ve=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,s,a=i-r;if(0===a)return null;if(1===a)return o=e[r],s=n?n(o):o,new Re(s,o.node,Re.BLACK,null,null);var u=parseInt(a/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],s=n?n(o):o,new Re(s,o.node,Re.BLACK,c,l)},o=function(t){for(var r=null,o=null,s=e.length,a=function(t,r){var o=s-t,a=s;s-=t;var c=i(o+1,a),l=e[o],f=n?n(l):l;u(new Re(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?a(f,Re.BLACK):(a(f,Re.BLACK),a(f,Re.RED))}return o}(new Ue(e.length));return new Le(r||t,o)},We={},Be=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return s.assert(We&&De,"ChildrenNode.ts has not been loaded"),Pe=Pe||new e({".priority":We},{".priority":De})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=s.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Le?t:null},e.prototype.hasIndex=function(e){return s.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){s.assert(t!==Se,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,u=n.getIterator(_e.Wrap),c=u.getNext();c;)a=a||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=a?Ve(i,t.getCompare()):We;var l=t.toString(),f=o.__assign({},this.indexSet_);f[l]=t;var h=o.__assign({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(s.map(this.indexes_,(function(e,i){var o=s.safeGet(r.indexSet_,i);if(s.assert(o,"Missing index implementation for "+i),e===We){if(o.isDefinedOn(t.node)){for(var a=[],u=n.getIterator(_e.Wrap),c=u.getNext();c;)c.name!==t.name&&a.push(c),c=u.getNext();return a.push(t),Ve(a,o.getCompare())}return We}var l=n.get(t.name),f=e;return l&&(f=f.remove(new _e(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(s.map(this.indexes_,(function(e){if(e===We)return e;var r=n.get(t.name);return r?e.remove(new _e(t.name,r)):e})),this.indexSet_)},e}();function qe(e,t){return A(e.name,t.name)}function ze(e,t){return A(e,t)}var He=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Te(this.priorityNode_),this.children_.isEmpty()&&s.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ae||(Ae=new e(new Le(ze),null,Be.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ae},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ae:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(s.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new _e(t,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));var a=i.isEmpty()?Ae:this.priorityNode_;return new e(i,a,o)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;s.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(De,(function(s,a){n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!t&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ce(this.getPriority().val())+":"),this.forEachChild(De,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new _e(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new _e(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new _e(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,_e.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,_e.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ge?-1:0},e.prototype.withIndex=function(t){if(t===Se||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Se||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(De),r=t.getIterator(De),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Se?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Ye=function(e){function t(){return e.call(this,new Le(ze),He.EMPTY_NODE,Be.Default)||this}return o.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return He.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(He),Ge=new Ye;Object.defineProperties(_e,{MIN:{value:new _e(I,He.EMPTY_NODE)},MAX:{value:new _e(P,Ge)}}),Ee.__EMPTY_NODE=He.EMPTY_NODE,Ie.__childrenNodeConstructor=He,function(e){$=e}(Ge),function(e){ke=e}(Ge);function Ke(e,t){if(void 0===t&&(t=null),null===e)return He.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),s.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new Ie(e,Ke(t));if(e instanceof Array){var n=He.EMPTY_NODE;return M(e,(function(t,r){if(s.contains(e,t)&&"."!==t.substring(0,1)){var i=Ke(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(Ke(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=Ke(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new _e(e,n)))}})),0===r.length)return He.EMPTY_NODE;var o=Ve(r,qe,(function(e){return e.name}),ze);if(i){var a=Ve(r,De.getCompare());return new He(o,Ke(t),new Be({".priority":a},{".priority":De}))}return new He(o,Ke(t),Be.Default)}!function(e){xe=e}(Ke);var Qe,Xe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?A(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return _e.MIN},t.prototype.maxPost=function(){return _e.MAX},t.prototype.makePost=function(e,t){var n=Ke(e);return new _e(t,n)},t.prototype.toString=function(){return".value"},t}(we),$e=new Xe,Je=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,s.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return o.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?A(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=Ke(e),r=He.EMPTY_NODE.updateChild(this.indexPath_,n);return new _e(t,r)},t.prototype.maxPost=function(){var e=He.EMPTY_NODE.updateChild(this.indexPath_,Ge);return new _e(P,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(we),Ze=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return s.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return s.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return s.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return s.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){s.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),he("DataSnapshot.child",1,t,!1);var n=new B(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,De)},e.prototype.hasChild=function(e){s.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),he("DataSnapshot.hasChild",1,e,!1);var t=new B(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return s.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;return s.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),s.validateCallback("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,(function(r,i){return t(new e(i,n.ref_.child(r),De))}))},e.prototype.hasChildren=function(){return s.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return s.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return s.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),et=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+s.stringify(this.snapshot.exportVal())},e}(),tt=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),nt=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new et("value",this,new Ze(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new tt(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),rt=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,s.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new tt(this,e,t):null},e.prototype.createEvent=function(e,t){s.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new et(e.type,this,new Ze(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){s.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){var n=this;if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var r=Object.keys(t.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||t.callbacks_[s]&&this.callbacks_[a]&&t.callbacks_[s]!==this.callbacks_[a])}return i.every((function(e){return t.callbacks_[e]===n.callbacks_[e]}))}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),it=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return s.assert(Qe,"Reference.ts has not been loaded"),Qe},set:function(e){Qe=e},enumerable:!1,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Se){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==I)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==P)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===De){if(null!=t&&!oe(t)||null!=n&&!oe(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(s.assert(e.getIndex()instanceof Je||e.getIndex()===$e,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return s.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,i){s.validateArgCount("Query.on",2,4,arguments.length),le("Query.on",1,t,!1),s.validateCallback("Query.on",2,n,!1);var o=e.getCancelAndContextArgs_("Query.on",r,i);if("value"===t)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[t]=n,this.onChildEvent(a,o.cancel,o.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new nt(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new rt(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){s.validateArgCount("Query.off",0,3,arguments.length),le("Query.off",1,e,!0),s.validateCallback("Query.off",2,t,!0),s.validateContextObject("Query.off",3,n,!0);var r=null,i=null;"value"===e?r=new nt(t||null,null,n||null):e&&(t&&((i={})[e]=t),r=new rt(i,null,n||null)),this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,i){var o=this;s.validateArgCount("Query.once",1,4,arguments.length),le("Query.once",1,t,!1),s.validateCallback("Query.once",2,n,!0);var a=e.getCancelAndContextArgs_("Query.once",r,i),u=!0,c=new s.Deferred;c.promise.catch((function(){}));var l=function e(r){u&&(u=!1,o.off(t,e),n&&n.bind(a.context)(r),c.resolve(r))};return this.on(t,l,(function(e){o.off(t,l),a.cancel&&a.cancel.bind(a.context)(e),c.reject(e)})),c.promise},e.prototype.limitToFirst=function(t){if(s.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(s.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(s.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');he("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new B(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Je(n),i=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(i),new e(this.repo,this.path,i,!0)},e.prototype.orderByKey=function(){s.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(Se);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){s.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(De);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){s.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy($e);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),s.validateArgCount("Query.startAt",0,2,arguments.length),se("Query.startAt",1,t,this.path,!0),fe("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),s.validateArgCount("Query.endAt",0,2,arguments.length),se("Query.endAt",1,t,this.path,!0),fe("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(s.validateArgCount("Query.equalTo",1,2,arguments.length),se("Query.equalTo",1,e,this.path,!1),fe("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return s.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return s.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=j(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(s.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");var n=this.repo===t.repo,r=this.path.equals(t.path),i=this.queryIdentifier()===t.queryIdentifier();return n&&r&&i},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,s.validateCallback(e,3,r.cancel,!0),r.context=n,s.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(s.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),ot=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),st=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=this.path_.child(t);return new e(this.syncTree_,n)},e.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},e}(),at=function(e,t,n){return e&&"object"==typeof e?(s.assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?ut(e[".sv"],t,n):"object"==typeof e[".sv"]?ct(e[".sv"],t):void s.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ut=function(e,t,n){if("timestamp"===e)return n.timestamp;s.assert(!1,"Unexpected server value: "+e)},ct=function(e,t,n){e.hasOwnProperty("increment")||s.assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&s.assert(!1,"Unexpected increment value: "+r);var i=t.node();if(s.assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},lt=function(e,t,n,r){return ht(t,new st(n,e),r)},ft=function(e,t,n){return ht(e,new ot(t),n)};function ht(e,t,n){var r,i=e.getPriority().val(),o=at(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var s=e,a=at(s.getValue(),t,n);return a!==s.getValue()||o!==s.getPriority().val()?new Ie(a,Ke(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ie(o))),u.forEachChild(De,(function(e,i){var o=ht(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var pt,dt=function(){function e(){this.value=null,this.children=new Map}return e.prototype.find=function(e){if(null!=this.value)return this.value.getChild(e);if(!e.isEmpty()&&this.children.size>0){var t=e.getFront();return e=e.popFront(),this.children.has(t)?this.children.get(t).find(e):null}return null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(t,n);else{var r=t.getFront();this.children.has(r)||this.children.set(r,new e);var i=this.children.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var t=this.value;this.value=null;var n=this;return t.forEachChild(De,(function(e,t){n.remember(new B(e),t)})),this.forget(e)}if(this.children.size>0){var r=e.getFront();return e=e.popFront(),this.children.has(r)&&this.children.get(r).forget(e)&&this.children.delete(r),0===this.children.size}return!0},e.prototype.forEachTree=function(e,t){null!==this.value?t(e,this.value):this.forEachChild((function(n,r){var i=new B(e.toString()+"/"+n);r.forEachTree(i,t)}))},e.prototype.forEachChild=function(e){this.children.forEach((function(t,n){e(n,t)}))},e}();!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(pt||(pt={}));var vt,yt,mt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,s.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),bt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=pt.ACK_USER_WRITE,this.source=mt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return s.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new B(t));return new e(B.Empty,n,this.revert)}return s.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),gt=function(){function e(e,t){void 0===t&&(vt||(vt=new Le(N)),t=vt),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return M(t,(function(e,t){n=n.set(new B(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:B.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new B(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r,i=t.getFront(),o=(this.children.get(i)||e.Empty).setTree(t.popFront(),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},e.prototype.fold=function(e){return this.fold_(B.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(e.child(r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,B.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,B.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(B.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(e.child(n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e.Empty=new e(null),e}(),_t=function(){function e(e,t){this.source=e,this.path=t,this.type=pt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,B.Empty):new e(this.source,this.path.popFront())},e}(),wt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=pt.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,B.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),Et=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=pt.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new B(t));return n.isEmpty()?null:n.value?new wt(this.source,B.Empty,n.value):new e(this.source,B.Empty,n)}return s.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),St=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ot=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new St(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new St(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new St(He.EMPTY_NODE,!1,!1),new St(He.EMPTY_NODE,!1,!1)),e}(),xt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),kt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,o){s.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(xt.childRemovedChange(t,a)):s.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(xt.childAddedChange(t,n)):o.trackChildChange(xt.childChangedChange(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(De,(function(e,r){t.hasChild(e)||n.trackChildChange(xt.childRemovedChange(e,r))})),t.isLeafNode()||t.forEachChild(De,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(xt.childChangedChange(t,r,i))}else n.trackChildChange(xt.childAddedChange(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?He.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),Ct=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;s.assert(t===xt.CHILD_ADDED||t===xt.CHILD_CHANGED||t===xt.CHILD_REMOVED,"Only child changes supported for tracking"),s.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(t===xt.CHILD_ADDED&&i===xt.CHILD_REMOVED)this.changeMap.set(n,xt.childChangedChange(n,e.snapshotNode,r.snapshotNode));else if(t===xt.CHILD_REMOVED&&i===xt.CHILD_ADDED)this.changeMap.delete(n);else if(t===xt.CHILD_REMOVED&&i===xt.CHILD_CHANGED)this.changeMap.set(n,xt.childRemovedChange(n,r.oldSnap));else if(t===xt.CHILD_CHANGED&&i===xt.CHILD_ADDED)this.changeMap.set(n,xt.childAddedChange(n,e.snapshotNode));else{if(t!==xt.CHILD_CHANGED||i!==xt.CHILD_CHANGED)throw s.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xt.childChangedChange(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Tt=function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}(),It=new Tt,Pt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new St(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),At=function(e,t){this.viewCache=e,this.changes=t},Nt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){s.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),s.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,i){var o,a,u=new Ct;if(n.type===pt.OVERWRITE){var c=n;c.source.fromUser?o=this.applyUserOverwrite_(t,c.path,c.snap,r,i,u):(s.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.getServerCache().isFiltered()&&!c.path.isEmpty(),o=this.applyServerOverwrite_(t,c.path,c.snap,r,i,a,u))}else if(n.type===pt.MERGE){var l=n;l.source.fromUser?o=this.applyUserMerge_(t,l.path,l.children,r,i,u):(s.assert(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.getServerCache().isFiltered(),o=this.applyServerMerge_(t,l.path,l.children,r,i,a,u))}else if(n.type===pt.ACK_USER_WRITE){var f=n;o=f.revert?this.revertUserWrite_(t,f.path,r,i,u):this.ackUserWrite_(t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==pt.LISTEN_COMPLETE)throw s.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(t,n.path,r,u)}var h=u.getChanges();return e.maybeAddValueEvent_(t,o,h),new At(o,h)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(xt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,i){var o=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var a=void 0,u=void 0;if(t.isEmpty())if(s.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),l=c instanceof He?c:He.EMPTY_NODE,f=n.calcCompleteEventChildren(l);a=this.filter_.updateFullNode(e.getEventCache().getNode(),f,i)}else{var h=n.calcCompleteEventCache(e.getCompleteServerSnap());a=this.filter_.updateFullNode(e.getEventCache().getNode(),h,i)}else{var p=t.getFront();if(".priority"===p){s.assert(1===t.getLength(),"Can't have a priority with additional path components");var d=o.getNode();u=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,d,u);a=null!=v?this.filter_.updatePriority(d,v):o.getNode()}else{var y=t.popFront(),m=void 0;if(o.isCompleteForChild(p)){u=e.getServerCache().getNode();var b=n.calcEventCacheAfterServerOverwrite(t,o.getNode(),u);m=null!=b?o.getNode().getImmediateChild(p).updateChild(y,b):o.getNode().getImmediateChild(p)}else m=n.calcCompleteChild(p,e.getServerCache());a=null!=m?this.filter_.updateChild(o.getNode(),p,m,y,r,i):o.getNode()}}return e.updateEventSnap(a,o.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,s){var a,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);a=c.updateFullNode(u.getNode(),l,null)}else{var f=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var h=t.popFront(),p=u.getNode().getImmediateChild(f).updateChild(h,n);a=".priority"===f?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),f,p,h,It,null)}var d=e.updateServerSnap(a,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),v=new Pt(r,d,i);return this.generateEventCacheAfterServerEvent_(d,t,r,v,s)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var s,a,u=e.getEventCache(),c=new Pt(r,e,i);if(t.isEmpty())a=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),s=e.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)a=this.filter_.updatePriority(e.getEventCache().getNode(),n),s=e.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var f=t.popFront(),h=u.getNode().getImmediateChild(l),p=void 0;if(f.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===f.getBack()&&d.getChild(f.parent()).isEmpty()?d:d.updateChild(f,n):He.EMPTY_NODE}if(h.equals(p))s=e;else{var v=this.filter_.updateChild(u.getNode(),l,p,f,c,o);s=e.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,s){var a=this,u=t;return r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},e.prototype.applyMerge_=function(e,t){return t.foreach((function(t,n){e=e.updateChild(t,n)})),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,s){var a=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:gt.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal((function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),f=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new B(t),f,r,i,o,s)}})),u.children.inorderTraversal((function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var f=e.getServerCache().getNode().getImmediateChild(t),h=a.applyMerge_(f,n);c=a.applyServerOverwrite_(c,new B(t),h,r,i,o,s)}})),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var s=e.getServerCache().isFiltered(),a=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,a.getNode().getChild(t),r,i,s,o);if(t.isEmpty()){var u=gt.Empty;return a.getNode().forEachChild(Se,(function(e,t){u=u.set(new B(e),t)})),this.applyServerMerge_(e,t,u,r,i,s,o)}return e}var c=gt.Empty;return n.foreach((function(e,n){var r=t.child(e);a.isCompleteForPath(r)&&(c=c.set(e,a.getNode().getChild(r)))})),this.applyServerMerge_(e,t,c,r,i,s,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,It,r)},e.prototype.revertUserWrite_=function(e,t,n,r,i){var o;if(null!=n.shadowingWrite(t))return e;var a=new Pt(n,e,r),u=e.getEventCache().getNode(),c=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var f=e.getServerCache().getNode();s.assert(f instanceof He,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(f)}l=l,c=this.filter_.updateFullNode(u,l,i)}else{var h=t.getFront(),p=n.calcCompleteChild(h,e.getServerCache());null==p&&e.getServerCache().isCompleteForChild(h)&&(p=u.getImmediateChild(h)),(c=null!=p?this.filter_.updateChild(u,h,p,t.popFront(),a,i):e.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(u,h,He.EMPTY_NODE,t.popFront(),a,i):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,o,i))}return o=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(B.Empty),e.updateEventSnap(c,o,this.filter_.filtersNodes())},e}(),Dt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach((function(e){e.type===xt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(xt.childMovedChange(e.childName,e.snapshotNode))})),this.generateEventsForType_(i,xt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,xt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,xt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,xt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,xt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,s=n.filter((function(e){return e.type===t}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(t){var n=o.materializeSingleChange_(t,i);r.forEach((function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))}))}))},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_)),e},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw s.assertionError("Should only compare child_ events.");var n=new _e(e.childName,e.snapshotNode),r=new _e(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),jt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new kt(n.getIndex()),i=n.getNodeFilter();this.processor_=new Nt(i);var o=t.getServerCache(),s=t.getEventCache(),a=r.updateFullNode(He.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(He.EMPTY_NODE,s.getNode(),null),c=new St(a,o.isFullyInitialized(),r.filtersNodes()),l=new St(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Ot(l,c),this.eventGenerator_=new Dt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){s.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)}))}if(e){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(e)){if(e.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===pt.MERGE&&null!==e.source.queryId&&(s.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),s.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(i.viewCache),s.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(De,(function(e,t){n.push(xt.childAddedChange(e,t))})),t.isFullyInitialized()&&n.push(xt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),Rt=function(){function e(){this.views=new Map}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return s.assert(yt,"Reference.ts has not been loaded"),yt},set:function(e){s.assert(!yt,"__referenceConstructor has already been defined"),yt=e},enumerable:!1,configurable:!0}),e.prototype.isEmpty=function(){return 0===this.views.size},e.prototype.applyOperation=function(e,t,n){var r,i,a=e.source.queryId;if(null!==a){var u=this.views.get(a);return s.assert(null!=u,"SyncTree gave us an op for an invalid query."),u.applyOperation(e,t,n)}var c=[];try{for(var l=o.__values(this.views.values()),f=l.next();!f.done;f=l.next())u=f.value,c=c.concat(u.applyOperation(e,t,n))}catch(d){r={error:d}}finally{try{f&&!f.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}return c},e.prototype.addEventRegistration=function(e,t,n,r,i){var o=e.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof He?(a=n.calcCompleteEventChildren(r),u=!1):(a=He.EMPTY_NODE,u=!1);var c=new Ot(new St(a,u,!1),new St(r,i,!1));s=new jt(e,c),this.views.set(o,s)}return s.addEventRegistration(t),s.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var i,s,a=t.queryIdentifier(),u=[],c=[],l=this.hasCompleteView();if("default"===a)try{for(var f=o.__values(this.views.entries()),h=f.next();!h.done;h=f.next()){var p=o.__read(h.value,2),d=p[0],v=p[1];c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(d),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery()))}}catch(b){i={error:b}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}else(v=this.views.get(a))&&(c=c.concat(v.removeEventRegistration(n,r)),v.isEmpty()&&(this.views.delete(a),v.getQuery().getQueryParams().loadsAllData()||u.push(v.getQuery())));return l&&!this.hasCompleteView()&&u.push(new e.__referenceConstructor(t.repo,t.path)),{removed:u,events:c}},e.prototype.getQueryViews=function(){var e,t,n=[];try{for(var r=o.__values(this.views.values()),i=r.next();!i.done;i=r.next()){var s=i.value;s.getQuery().getQueryParams().loadsAllData()||n.push(s)}}catch(c){e={error:c}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return n},e.prototype.getCompleteServerCache=function(e){var t,n,r=null;try{for(var i=o.__values(this.views.values()),s=i.next();!s.done;s=i.next()){var a=s.value;r=r||a.getCompleteServerCache(e)}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return this.views.get(t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){var e,t;try{for(var n=o.__values(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(s){e={error:s}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}return null},e}(),Mt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new gt(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,s=B.relativePath(i,t);return o=o.updateChild(s,n),new e(this.writeTree_.set(i,o))}var a=new gt(n);return new e(this.writeTree_.setTree(t,a))},e.prototype.addWrites=function(e,t){var n=this;return M(t,(function(t,r){n=n.addWrite(e.child(t),r)})),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,gt.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(B.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(De,(function(t,n){e.push(new _e(t,n))})):this.writeTree_.children.inorderTraversal((function(t,n){null!=n.value&&e.push(new _e(t,n.value))})),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new gt(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(e){return Lt(B.Empty,this.writeTree_,e)},e.Empty=new e(new gt(null)),e}();function Lt(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(s.assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Lt(e.child(t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(e.child(".priority"),r)),n}var Ft=function(){function e(){this.visibleWrites_=Mt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Ut(e,this)},e.prototype.addOverwrite=function(e,t,n,r){s.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){s.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex((function(t){return t.writeId===e}));s.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var u=this.allWrites_[a];u.visible&&(a>=n&&this.recordContainsPath_(u,r.path)?i=!1:r.path.contains(u.path)&&(o=!0)),a--}return!!i&&(o?(this.resetTree_(),!0):(r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):M(r.children,(function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})),!0))},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(B.Empty)){var s=e.layerTree_(this.allWrites_,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))}),t);return c=n||He.EMPTY_NODE,s.apply(c)}return null}var a=this.visibleWrites_.getCompleteNode(t);if(null!=a)return a;var u=this.visibleWrites_.childCompoundWrite(t);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(B.Empty)){var c=n||He.EMPTY_NODE;return u.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=He.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(De,(function(e,t){n=n.updateImmediateChild(e,t)})),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(De,(function(e,t){var r=i.childCompoundWrite(new B(e)).apply(t);n=n.updateImmediateChild(e,r)})),i.getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach((function(e){n=n.updateImmediateChild(e.name,e.node)})),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){s.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=e.child(t);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(t):o.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(e),u=a.getCompleteNode(B.Empty);if(null!=u)s=u;else{if(null==t)return[];s=a.apply(t)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),f=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),h=f.getNext();h&&c.length<r;)0!==l(h,n)&&c.push(h),h=f.getNext();return c},e.prototype.recordContainsPath_=function(e,t){if(e.snap)return e.path.contains(t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&e.path.child(n).contains(t))return!0;return!1},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,B.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=Mt.Empty,i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,u=void 0;if(o.snap)n.contains(a)?(u=B.relativePath(n,a),r=r.addWrite(u,o.snap)):a.contains(n)&&(u=B.relativePath(a,n),r=r.addWrite(B.Empty,o.snap.getChild(u)));else{if(!o.children)throw s.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))u=B.relativePath(n,a),r=r.addWrites(u,o.children);else if(a.contains(n))if((u=B.relativePath(a,n)).isEmpty())r=r.addWrites(B.Empty,o.children);else{var c=s.safeGet(o.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(B.Empty,l)}}}}}return r},e}(),Ut=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Vt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=gt.Empty,this.pendingWriteTree_=new Ft,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new wt(mt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=gt.fromObject(t);return this.applyOperationToSyncPoints_(new Et(mt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=gt.Empty;return null!=n.snap?r=r.set(B.Empty,!0):M(n.children,(function(e,t){r=r.set(new B(e),t)})),this.applyOperationToSyncPoints_(new bt(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new wt(mt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=gt.fromObject(t);return this.applyOperationToSyncPoints_(new Et(mt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new _t(mt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,u=B.relativePath(s,t),c=new wt(mt.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),s=o.path,a=o.queryId,u=B.relativePath(s,t),c=gt.fromObject(n),l=new Et(mt.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,s=i.queryId,a=B.relativePath(o,t),u=new _t(mt.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(e,t){var n=B.relativePath(e,r);i=i||t.getCompleteServerCache(n),o=o||t.hasCompleteView()}));var a,u=this.syncPointTree_.get(r);u?(o=o||u.hasCompleteView(),i=i||u.getCompleteServerCache(B.Empty)):(u=new Rt,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=i?a=!0:(a=!1,i=He.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=t.getCompleteServerCache(B.Empty);n&&(i=i.updateImmediateChild(e,n))})));var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);s.assert(!this.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=e.getNextQueryTag_();this.queryToTagMap.set(l,f),this.tagToQueryMap.set(f,l)}var h=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(t,n,h,i,a);if(!c&&!o){var d=u.viewForQuery(t);p=p.concat(this.setupListener_(t,d))}return p},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===t.queryIdentifier()||s.viewExistsForQuery(t))){var u=s.removeEventRegistration(t,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(e){return e.getQueryParams().loadsAllData()})),f=this.syncPointTree_.findOnPath(o,(function(e,t){return t.hasCompleteView()}));if(l&&!f){var h=this.syncPointTree_.subtree(o);if(!h.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(h),d=0;d<p.length;++d){var v=p[d],y=v.getQuery(),m=this.createListenerForView_(v);this.listenProvider_.startListening(e.queryForListening_(y),this.tagForQuery_(y),m.hashFn,m.onComplete)}}!f&&c.length>0&&!r&&(l?this.listenProvider_.stopListening(e.queryForListening_(t),null):c.forEach((function(t){var n=i.queryToTagMap.get(e.makeQueryKey_(t));i.listenProvider_.stopListening(e.queryForListening_(t),n)}))),this.removeTags_(c)}return a},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,(function(t,n){var r=B.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold((function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),M(n,(function(e,t){r=r.concat(t)})),r}))},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,i=this.tagForQuery_(t),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(e.queryForListening_(t),i,o.hashFn,o.onComplete),u=this.syncPointTree_.subtree(r);if(i)s.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map((function(e){return e.getQuery()})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];this.listenProvider_.stopListening(e.queryForListening_(f),this.tagForQuery_(f))}return a},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||He.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return s.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new B(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap.get(e)},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return this.queryToTagMap.get(n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);s.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(B.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(B.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(B.Empty));var o=[],s=e.path.getFront(),a=e.operationForChild(s),u=t.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(B.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(B.Empty));var s=[];return t.children.inorderTraversal((function(t,o){var a=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(e,r,n))),s},e.nextQueryTag_=1,e}(),Wt=function(){function e(){this.rootNode_=He.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),Bt=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),s.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return s.deepCopy(this.counters_)},e}(),qt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Bt),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),zt=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=o.__assign({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ht=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new zt(e);var n=1e4+2e4*Math.random();W(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&s.contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),W(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Yt=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Gt(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.equals(e)}))},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_((function(t){return t.contains(e)||e.contains(t)}))},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];r&&(e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1)}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Gt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();g&&E("event: "+t.toString()),V(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Kt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},s.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=o.__spread(this.listeners_[e]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){s.assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),Qt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return o.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return s.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Kt),Xt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||s.isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return o.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return s.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Kt),$t=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum]&&"break"!==r(););},e}(),Jt="start",Zt="close",en=function(){function e(e,t,n,r,i){this.connId=e,this.repoInfo=t,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=qt.getCollection(t),this.urlFn=function(e){return t.connectionURL(G,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new $t(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),T((function(){if(!n.isClosed_){n.scriptTagHolder=new tn((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.__read(e,5),i=r[0],s=r[1],a=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Jt)n.id=s,n.password=a;else{if(i!==Zt)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=o.__read(e,2),i=r[0],s=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,s)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=z,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(H)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!s.isNodeSdk()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=s.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=s.base64Encode(t),r=R(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!s.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=s.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),tn=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,s.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=y(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(l){E("frame writing exception"),l.stack&&E(l.stack),E(l)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||E("No IE domain setting required")}catch(o){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;s.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){E("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(a){}}),Math.floor(1))},e}(),nn="";var rn=null;"undefined"!=typeof MozWebSocket?rn=MozWebSocket:"undefined"!=typeof WebSocket&&(rn=WebSocket);var on=function(){function e(t,n,r,i,o){this.connId=t,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=qt.getCollection(n),this.connURL=e.connectionURL_(n,i,o),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n){var r={};return r.v=z,!s.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf(H)&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL(Y,r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if(s.isNodeSdk()){var i=this.nodeAdmin?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+nn+"/"+r.platform+"/"+i,"X-Firebase-GMPID":this.applicationId||""}},a=r.env,u=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;u&&(o.proxy={origin:u}),this.mySock=new rn(this.connURL,[],o)}else o={headers:{"X-Firebase-GMPID":this.applicationId||""}},this.mySock=new rn(this.connURL,[],o)}catch(h){this.log_("Error instantiating WebSocket.");var c=h.message||h.data;return c&&this.log_(c),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==rn&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=s.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(s.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=s.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=R(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),sn=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[en,on]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=on&&on.isAvailable(),s=i&&!on.previouslyFailed();if(t.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[on];else{var a=this.transports_=[];try{for(var u=o.__values(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&a.push(l)}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),an=function(){function e(e,t,n,r,i,o,s,a){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new sn(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=W((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=D("t",e),n=D("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=D("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?O("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),z!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),W((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):W((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),un=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),cn=1e3,ln=function(e){function t(n,r,i,o,a,u,c){var l=e.call(this)||this;if(l.repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=a,l.authTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=S("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingPutCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=cn,l.maxReconnectDelay_=3e5,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!s.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return l.scheduleConnect_(0),Qt.getInstance().on("visible",l.onVisible_,l),-1===n.host.indexOf("fblocal")&&Xt.getInstance().on("online",l.onOnline_,l),l}return o.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(s.stringify(i)),s.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var i=e.queryIdentifier(),o=e.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),s.assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};e.tag&&(s.q=r.queryObject(),s.t=e.tag),s.h=e.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;t.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,a))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&s.contains(e,"w")){var n=s.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',i=t.path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||s.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=s.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),s.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+s.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):O("Unrecognized action received from server: "+s.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;s.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=cn,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=cn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=cn),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){var e=this;if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,a=this,u=this.lastSessionId,c=!1,l=null,f=function(){l?l.close():(c=!0,i())};this.realtime_={close:f,sendRequest:function(e){s.assert(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then((function(e){c?E("getToken() completed but was canceled"):(E("getToken() completed. Creating connection."),a.authToken_=e&&e.accessToken,l=new an(o,a.repoInfo_,a.applicationId_,n,r,i,(function(e){k(e+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")}),u))})).then(null,(function(t){a.log_("Failed to get token: "+t),c||(e.repoInfo_.nodeAdmin&&k(t),f())}))}},t.prototype.interrupt=function(e){E("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){E("Resuming connection for reason: "+e),delete this.interruptReasons_[e],s.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=cn,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return j(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new B(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){E("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth();try{for(var i=o.__values(this.listens.values()),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(n=void 0,o.__values(a.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(v){n={error:v}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(y){e={error:y}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";s.isNodeSdk()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+nn.replace(/\./g,"-")]=1,s.isMobileCordova()?e["framework.cordova"]=1:s.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Xt.getInstance().currentlyOnline();return s.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(un),fn=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=S("p:rest:"),i.listens_={},i}return o.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(s.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,i){var o=this,a=e.path.toString();this.log_("Listen called for "+a+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",l,(function(e,t){var n=t;404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),s.safeGet(o.listens_,u)===c&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(t.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+s.querystring(t);r.log_("Sending REST request for "+a);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+a+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=s.jsonEval(u.responseText)}catch(t){k("Failed to parse JSON response for "+a+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&k("Got unsuccessful REST response for "+a+" Status: "+u.status),n(u.status);n=null}},u.open("GET",a,!0),u.send()}))},t}(un),hn="repo_interrupt",pn=function(){function e(e,t,n,r){var i=this;if(this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yt,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new dt,this.persistentConnection_=null,this.stats_=qt.getCollection(e),t||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new fn(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{s.stringify(o)}catch(c){throw new Error("Invalid authOverride provided: "+c)}}this.persistentConnection_=new ln(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(e){i.server_.refreshAuthToken(e)})),this.statsReporter_=qt.getOrCreateReporter(e,(function(){return new Ht(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Wt,this.infoSyncTree_=new Vt({startListening:function(e,t,n,r){var o=[],s=i.infoData_.getNode(e.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(e.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Vt({startListening:function(e,t,n,r){return i.server_.listen(e,n,t,(function(t,n){var o=r(t,n);i.eventQueue_.raiseEventsForChangedPath(e.path,o)})),[]},stopListening:function(e,t){i.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new B(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var i=new B(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var o=[];if(r)if(n){var a=s.map(t,(function(e){return Ke(e)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var u=Ke(t);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,u,r)}else if(n){var c=s.map(t,(function(e){return Ke(e)}));o=this.serverSyncTree_.applyServerMerge(i,c)}else{var l=Ke(t);o=this.serverSyncTree_.applyServerOverwrite(i,l)}var f=i;o.length>0&&(f=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(f,o)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;M(e,(function(e,n){t.updateInfo_(e,n)}))},e.prototype.updateInfo_=function(e,t){var n=new B("/.info/"+e),r=Ke(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),s=Ke(t,n),a=this.serverSyncTree_.calcCompleteEventCache(e),u=ft(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(e,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(e.toString(),s.val(!0),(function(t,n){var o="ok"===t;o||k("set at "+e+" failed: "+t);var s=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(e,s),i.callOnCompleteCallback(r,t,n)}));var f=this.abortTransactions_(e);this.rerunTransactions_(f),this.eventQueue_.raiseEventsForChangedPath(f,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var i=!0,o=this.generateServerValues(),s={};if(M(t,(function(t,n){i=!1,s[t]=lt(e.child(t),Ke(n),r.serverSyncTree_,o)})),i)E("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(e,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(e.toString(),t,(function(t,i){var o="ok"===t;o||k("update at "+e+" failed: "+t);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,t,i)})),M(t,(function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=new dt;this.onDisconnect_.forEachTree(B.Empty,(function(r,i){var o=lt(r,i,e.serverSyncTree_,t);n.remember(r,o)}));var r=[];n.forEachTree(B.Empty,(function(t,n){r=r.concat(e.serverSyncTree_.applyServerOverwrite(t,n));var i=e.abortTransactions_(t);e.rerunTransactions_(i)})),this.onDisconnect_=new dt,this.eventQueue_.raiseEventsForChangedPath(B.Empty,r)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)}))},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=Ke(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),(function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)}))},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=Ke(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),(function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)}))},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(s.isEmpty(t))return E("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,(function(i,o){"ok"===i&&M(t,(function(t,n){var i=Ke(n);r.onDisconnect_.remember(e.child(t),i)})),r.callOnCompleteCallback(n,i,o)}))},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(hn)},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(hn)},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new zt(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce((function(e,t){return Math.max(t.length,e)}),0);M(t,(function(e,t){for(var r=e,i=e.length;i<n+2;i++)r+=" ";console.log(r+t)}))}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),E.apply(void 0,o.__spread([n],e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&V((function(){if("ok"===t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}}))},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new xn(this))},enumerable:!1,configurable:!0}),e}(),dn=function(){function e(t){this.indexedFilter_=new kt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new _e(t,n))||(n=He.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=He.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(He.EMPTY_NODE);var i=this;return t.forEachChild(De,(function(e,t){i.matches(new _e(e,t))||(r=r.updateImmediateChild(e,He.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),vn=function(){function e(e){this.rangedFilter_=new dn(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new _e(t,n))||(n=He.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=He.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=He.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(He.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;if(i=void 0,this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();)s=i.getNext(),!f&&c(a,s)<=0&&(f=!0),f&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,He.EMPTY_NODE)}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var u=e;s.assert(u.numChildren()===this.limit_,"");var c=new _e(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name===t||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:o(p,c);if(f&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(xt.childChangedChange(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(xt.childRemovedChange(t,h));var v=u.updateImmediateChild(t,He.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=i&&i.trackChildChange(xt.childAddedChange(p.name,p.node)),v.updateImmediateChild(p.name,p.node)):v}return n.isEmpty()?e:f&&o(l,c)>=0?(null!=i&&(i.trackChildChange(xt.childRemovedChange(l.name,l.node)),i.trackChildChange(xt.childAddedChange(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,He.EMPTY_NODE)):e},e}(),yn=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=De}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return s.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:I},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return s.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return s.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==De&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===De},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new kt(this.getIndex()):this.hasLimit()?new vn(this):new dn(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===De?t=n.PRIORITY_INDEX:this.index_===$e?t=n.VALUE_INDEX:this.index_===Se?t=n.KEY_INDEX:(s.assert(this.index_ instanceof Je,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=s.stringify(t),this.startSet_&&(r[n.START_AT]=s.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+s.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=s.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+s.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),mn=function(e){function t(t,n){if(!(t instanceof pn))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,yn.DEFAULT,!1)||this}return o.__extends(t,e),t.prototype.getKey=function(){return s.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return s.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof B||(null===this.path.getFront()?pe("Reference.child",1,e,!1):he("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){s.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){s.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){s.validateArgCount("Reference.set",1,2,arguments.length),de("Reference.set",this.path),se("Reference.set",1,e,this.path,!1),s.validateCallback("Reference.set",2,t,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(s.validateArgCount("Reference.update",1,2,arguments.length),de("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ue("Reference.update",1,e,this.path,!1),s.validateCallback("Reference.update",2,t,!0);var i=new s.Deferred;return this.repo.update(this.path,e,i.wrapCallback(t)),i.promise},t.prototype.setWithPriority=function(e,t,n){if(s.validateArgCount("Reference.setWithPriority",2,3,arguments.length),de("Reference.setWithPriority",this.path),se("Reference.setWithPriority",1,e,this.path,!1),ce("Reference.setWithPriority",2,t,!1),s.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new s.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return s.validateArgCount("Reference.remove",0,1,arguments.length),de("Reference.remove",this.path),s.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(s.validateArgCount("Reference.transaction",1,3,arguments.length),de("Reference.transaction",this.path),s.validateCallback("Reference.transaction",1,e,!1),s.validateCallback("Reference.transaction",2,t,!0),ye("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new s.Deferred;return"function"==typeof t&&r.promise.catch((function(){})),this.repo.startTransaction(this.path,e,(function(e,n,i){e?r.reject(e):r.resolve(new be(n,i)),"function"==typeof t&&t(e,n,i)}),n),r.promise},t.prototype.setPriority=function(e,t){s.validateArgCount("Reference.setPriority",1,2,arguments.length),de("Reference.setPriority",this.path),ce("Reference.setPriority",1,e,!1),s.validateCallback("Reference.setPriority",2,t,!0);var n=new s.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){s.validateArgCount("Reference.push",0,2,arguments.length),de("Reference.push",this.path),se("Reference.push",1,e,this.path,!0),s.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),i=ge(r),o=this.child(i),a=this.child(i);return n=null!=e?o.set(e,t).then((function(){return a})):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch((function(){})),o},t.prototype.onDisconnect=function(){return de("Reference.onDisconnect",this.path),new me(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(it);it.__referenceConstructor=mn,Rt.__referenceConstructor=mn;var bn,gn=function(){this.children={},this.childCount=0,this.value=null},_n=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new gn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n=t instanceof B?t:new B(t),r=this,i=n.getFront();null!==i;)r=new e(i,r,s.safeGet(r.node_.children,i)||new gn),i=(n=n.popFront()).getFront();return r},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){s.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;M(this.node_.children,(function(r,i){t(new e(r,n,i))}))},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild((function(t){t.forEachDescendant(e,!0,n)})),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild((function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)}))},e.prototype.path=function(){return new B(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=s.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(bn||(bn={})),pn.MAX_TRANSACTION_RETRIES_=25,pn.prototype.transactionsInit_=function(){this.transactionQueueTree_=new _n},pn.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var i=function(){},o=new mn(this,e);o.on("value",i);var a={path:e,update:t,onComplete:n,status:null,order:y(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);a.currentInputSnapshot=u;var c=a.update(u.val());if(void 0===c){if(a.unwatcher(),a.currentOutputSnapshotRaw=null,a.currentOutputSnapshotResolved=null,a.onComplete){var l=new Ze(a.currentInputSnapshot,new mn(this,a.path),De);a.onComplete(null,!1,l)}}else{ae("transaction failed: Data returned ",c,a.path),a.status=bn.RUN;var f=this.transactionQueueTree_.subTree(e),h=f.getValue()||[];h.push(a),f.setValue(h);var p=void 0;"object"==typeof c&&null!==c&&s.contains(c,".priority")?(p=s.safeGet(c,".priority"),s.assert(oe(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):p=(this.serverSyncTree_.calcCompleteEventCache(e)||He.EMPTY_NODE).getPriority().val(),p=p;var d=this.generateServerValues(),v=Ke(c,p),m=ft(v,u,d);a.currentOutputSnapshotRaw=v,a.currentOutputSnapshotResolved=m,a.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(e,m,a.currentWriteId,a.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,b),this.sendReadyTransactions_()}},pn.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||He.EMPTY_NODE},pn.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);s.assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return e.status===bn.RUN}))&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild((function(e){t.sendReadyTransactions_(e)}))},pn.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map((function(e){return e.currentWriteId})),i=this.getLatestState_(e,r),o=i,a=i.hash(),u=0;u<t.length;u++){var c=t[u];s.assert(c.status===bn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=bn.SENT,c.retryCount++;var l=B.relativePath(e,c.path);o=o.updateChild(l,c.currentOutputSnapshotRaw)}var f=o.val(!0),h=e;this.server_.put(h.toString(),f,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<t.length;s++){if(t[s].status=bn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[s].currentWriteId)),t[s].onComplete){var a=t[s].currentOutputSnapshotResolved,u=new mn(n,t[s].path),c=new Ze(a,u,De);o.push(t[s].onComplete.bind(null,null,!0,c))}t[s].unwatcher()}for(n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i),s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<t.length;s++)t[s].status===bn.SENT_NEEDS_ABORT?t[s].status=bn.NEEDS_ABORT:t[s].status=bn.RUN;else for(k("transaction at "+h.toString()+" failed: "+r),s=0;s<t.length;s++)t[s].status=bn.NEEDS_ABORT,t[s].abortReason=r;n.rerunTransactions_(e)}}),a)},pn.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},pn.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n,r=[],i=[],o=e.filter((function(e){return e.status===bn.RUN})).map((function(e){return e.currentWriteId})),a=0;a<e.length;a++){var u=e[a],c=B.relativePath(t,u.path),l=!1,f=void 0;if(s.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===bn.NEEDS_ABORT)l=!0,f=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===bn.RUN)if(u.retryCount>=pn.MAX_TRANSACTION_RETRIES_)l=!0,f="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var h=this.getLatestState_(u.path,o);u.currentInputSnapshot=h;var p=e[a].update(h.val());if(void 0!==p){ae("transaction failed: Data returned ",p,u.path);var d=Ke(p);"object"==typeof p&&null!=p&&s.contains(p,".priority")||(d=d.updatePriority(h.getPriority()));var v=u.currentWriteId,y=this.generateServerValues(),m=ft(d,h,y);u.currentOutputSnapshotRaw=d,u.currentOutputSnapshotResolved=m,u.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(v),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,m,u.currentWriteId,u.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(v,!0))}else l=!0,f="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,i),i=[],l&&(e[a].status=bn.COMPLETED,n=e[a].unwatcher,setTimeout(n,Math.floor(0)),e[a].onComplete))if("nodata"===f){var b=new mn(this,e[a].path),g=e[a].currentInputSnapshot,_=new Ze(g,b,De);r.push(e[a].onComplete.bind(null,null,!1,_))}else r.push(e[a].onComplete.bind(null,new Error(f),!1,null))}for(this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_),a=0;a<r.length;a++)V(r[a]);this.sendReadyTransactions_()}},pn.prototype.getAncestorTransactionNode_=function(e){var t,n=this.transactionQueueTree_;for(t=e.getFront();null!==t&&null===n.getValue();)n=n.subTree(t),t=(e=e.popFront()).getFront();return n},pn.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort((function(e,t){return e.order-t.order})),t},pn.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild((function(e){n.aggregateTransactionQueuesForNode_(e,t)}))},pn.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==bn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild((function(e){t.pruneCompletedTransactionsBelowNode_(e)}))},pn.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor((function(e){t.abortTransactionsOnNode_(e)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(e){t.abortTransactionsOnNode_(e)})),n},pn.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],i=-1,o=0;o<t.length;o++)t[o].status===bn.SENT_NEEDS_ABORT||(t[o].status===bn.SENT?(s.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,t[o].status=bn.SENT_NEEDS_ABORT,t[o].abortReason="set"):(s.assert(t[o].status===bn.RUN,"Unexpected transaction status in abort"),t[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[o].currentWriteId,!0)),t[o].onComplete&&n.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));for(-1===i?e.setValue(null):t.length=i+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r),o=0;o<n.length;o++)V(n[o])}};var wn,En=function(){function e(e,t){var n=this;this.app_=e,this.authProvider_=t,this.auth_=null,this.auth_=t.getImmediate({optional:!0}),this.auth_||t.get().then((function(e){return n.auth_=e}))}return e.prototype.getToken=function(e){return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(E("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):Promise.resolve(null)},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):(setTimeout((function(){return e(null)}),0),this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)})))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)},e}(),Sn=function(){function e(){}return e.prototype.getToken=function(t){return Promise.resolve({accessToken:e.EMULATOR_AUTH_TOKEN})},e.prototype.addTokenChangeListener=function(t){t(e.EMULATOR_AUTH_TOKEN)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.EMULATOR_AUTH_TOKEN="owner",e}(),On=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return wn||(wn=new e),wn},e.prototype.interrupt=function(){var e,t,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(n=void 0,o.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[a][l].interrupt()}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.resume=function(){var e,t,n,r;try{for(var i=o.__values(Object.keys(this.repos_)),s=i.next();!s.done;s=i.next()){var a=s.value;try{for(var u=(n=void 0,o.__values(Object.keys(this.repos_[a]))),c=u.next();!c.done;c=u.next()){var l=c.value;this.repos_[a][l].resume()}}catch(p){n={error:p}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(d){e={error:d}}finally{try{s&&!s.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}},e.prototype.databaseFromApp=function(e,t,n,i){var o=n||e.options.databaseURL;void 0===o&&(e.options.projectId||x("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),E("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var s,a=J(o,i),u=a.repoInfo,c=void 0;void 0!==r&&(c=r.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(s=!0,o="http://"+c+"?ns="+u.namespace,u=(a=J(o,i)).repoInfo):s=!a.repoInfo.secure;var l=i&&s?new Sn:new En(e,t);return ve("Invalid Firebase Database URL",1,a),a.path.isEmpty()||x("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(u,e,l).database},e.prototype.deleteRepo=function(e){var t=s.safeGet(this.repos_,e.app.name);t&&s.safeGet(t,e.repoInfo_.toURLString())===e||x("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t,n){var r=s.safeGet(this.repos_,t.name);r||(r={},this.repos_[t.name]=r);var i=s.safeGet(r,e.toURLString());return i&&x("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new pn(e,this.useRestClient_,t,n),r[e.toURLString()]=i,i},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),xn=function(){function e(e){this.repo_=e,e instanceof pn||x("Don't call new Database() directly - please use firebase.database()."),this.root_=new mn(e,B.Empty),this.INTERNAL=new kn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),s.validateArgCount("database.ref",0,1,arguments.length),e instanceof mn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),s.validateArgCount(t,1,1,arguments.length);var n=J(e,this.repo_.repoInfo_.nodeAdmin);ve(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&x(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&x("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){s.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){s.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(e){return{".sv":{increment:e}}}},e}(),kn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.database.checkDeleted_("delete"),On.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},e}(),Cn=Object.freeze({__proto__:null,forceLongPolling:function(){on.forceDisallow(),en.forceAllow()},forceWebSockets:function(){en.forceDisallow()},isWebSocketsAvailable:function(){return on.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),Tn=ln;ln.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ln.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var In=an,Pn=K,An=Object.freeze({__proto__:null,DataConnection:Tn,RealTimeConnection:In,hijackHash:function(e){var t=ln.prototype.put;return ln.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){ln.prototype.put=t}},ConnectionTarget:Pn,queryIdentifier:function(e){return e.queryIdentifier()},forceRestClient:function(e){On.getInstance().forceRestClient(e)}}),Nn=xn.ServerValue;function Dn(e){!function(e){nn=e}(e.SDK_VERSION);var n=e.INTERNAL.registerComponent(new u.Component("database",(function(e,t){var n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal");return On.getInstance().databaseFromApp(n,r,t)}),"PUBLIC").setServiceProps({Reference:mn,Query:it,Database:xn,DataSnapshot:Ze,enableLogging:w,INTERNAL:Cn,ServerValue:Nn,TEST_ACCESS:An}).setMultipleInstances(!0));e.registerVersion("@firebase/database","0.6.13"),s.isNodeSdk()&&(t.exports=n)}Dn(c.default),n.DataSnapshot=Ze,n.Database=xn,n.OnDisconnect=me,n.Query=it,n.Reference=mn,n.ServerValue=Nn,n.enableLogging=w,n.registerDatabase=Dn},{"@firebase/app":"dP58",tslib:"f2sD","@firebase/util":"xA6u","@firebase/logger":"TUpU","@firebase/component":"nzQs",process:"pBGv"}],Uuoh:[function(e,t,n){"use strict";e("@firebase/database")},{"@firebase/database":"vmMz"}],RJVP:[function(e,t,n){var r=arguments[3];(function(){var t,n=e("@firebase/app").default,i="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},o=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof r&&r,e];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}return globalThis}(this);function s(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:s(e)}}!function(e,t){if(t){var n=o;e=e.split(".");for(var r=0;r<e.length-1;r++){var s=e[r];s in n||(n[s]={}),n=n[s]}(t=t(r=n[e=e[e.length-1]]))!=r&&null!=t&&i(n,e,{configurable:!0,writable:!0,value:t})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var i=o.setTimeout;n.prototype.c=function(e){i(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.v),reject:e(this.g)}},t.prototype.v=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.o(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.m(e):this.h(e)}},t.prototype.m=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.o=function(e){var t=this.f();e.Pa(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(r){n.reject(r)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(n){o(n)}}:t}var i,o,s=new t((function(e,t){i=e,o=t}));return this.Pa(r(e,i),r(n,o)),s},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Pa=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Pa(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){s[t]=n,0==--a&&e(s)}}var s=[],a=0;do{s.push(void 0),a++,r(i.value).Pa(o(s.length-1),t),i=n.next()}while(!i.done)}))},t}));var u=u||{},c=this||self,l=/^[\w+/_-]+[=]{0,2}$/,f=null;function h(){}function p(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function d(e){var t=p(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==p(e)}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function m(e){return Object.prototype.hasOwnProperty.call(e,b)&&e[b]||(e[b]=++g)}var b="closure_uid_"+(1e9*Math.random()>>>0),g=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var O=Date.now||function(){return+new Date};function x(e,t){function n(){}n.prototype=t.prototype,e.$a=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e,t,n){this.code=I+e,this.message=t||P[e]||"",this.a=n||null}function C(e){var t=e&&e.code;return t?new k(t.substring(I.length),e.message,e.serverResponse):null}x(k,Error),k.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},k.prototype.toJSON=function(){return this.w()};var T,I="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},A={kd:{Sa:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},rd:{Sa:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://securetoken.googleapis.com/v1/token",Va:"https://identitytoolkit.googleapis.com/v2/",id:"p"},td:{Sa:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Ya:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Va:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},ud:{Sa:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Ya:"https://test-securetoken.sandbox.googleapis.com/v1/token",Va:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(e){for(var t in A)if(A[t].id===e)return{firebaseEndpoint:(e=A[t]).Sa,secureTokenEndpoint:e.Ya,identityPlatformEndpoint:e.Va};return null}function D(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function j(e){if(Error.captureStackTrace)Error.captureStackTrace(this,j);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function R(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");j.call(this,n+e[r])}function M(e,t){throw new R("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function L(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function F(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function U(){this.b=this.a=null}T=N("__EID__")?"__EID__":void 0,x(j,Error),j.prototype.name="CustomError",x(R,j),R.prototype.name="AssertionError",L.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new L((function(){return new B}),(function(e){e.reset()}));function W(){var e=mt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function B(){this.next=this.b=this.a=null}U.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},B.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},B.prototype.reset=function(){this.next=this.b=this.a=null};var q=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},z=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"==typeof e?e.split(""):e,s=0;s<n;s++)if(s in o){var a=o[s];t.call(void 0,a,s,e)&&(r[i++]=a)}return r},Y=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"==typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},G=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function K(e,t){return 0<=q(e,t)}function Q(e,t){var n;return(n=0<=(t=q(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"==typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&Array.prototype.splice.call(e,r,1).length}))}function $(e){return Array.prototype.concat.apply([],arguments)}function J(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var Z,ee=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},te=/&/g,ne=/</g,re=/>/g,ie=/"/g,oe=/'/g,se=/\x00/g,ae=/[\x00&<>"']/;function ue(e,t){return-1!=e.indexOf(t)}function ce(e,t){return e<t?-1:e>t?1:0}e:{var le=c.navigator;if(le){var fe=le.userAgent;if(fe){Z=fe;break e}}Z=""}function he(e){return ue(Z,e)}function pe(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function de(e){for(var t in e)return!1;return!0}function ve(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||c).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&void 0!==i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(y(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function ge(e,t){this.a=e===Ee&&t||"",this.b=we}function _e(e){return e instanceof ge&&e.constructor===ge&&e.b===we?e.a:(M("expected object of type Const, got '"+e+"'"),"type_error:Const")}ge.prototype.sa=!0,ge.prototype.ra=function(){return this.a},ge.prototype.toString=function(){return"Const{"+this.a+"}"};var we={},Ee={},Se=new ge(Ee,"");function Oe(e,t){this.a=e===Pe&&t||"",this.b=Ie}function xe(e){return e instanceof Oe&&e.constructor===Oe&&e.b===Ie?e.a:(M("expected object of type TrustedResourceUrl, got '"+e+"' of type "+p(e)),"type_error:TrustedResourceUrl")}function ke(e,t){var n=_e(e);if(!Te.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return e=n.replace(Ce,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof ge?_e(e):encodeURIComponent(String(e))})),new Oe(Pe,e)}Oe.prototype.sa=!0,Oe.prototype.ra=function(){return this.a.toString()},Oe.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ce=/%{(\w+)}/g,Te=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ie={},Pe={};function Ae(e,t){this.a=e===Me&&t||"",this.b=Re}function Ne(e){return e instanceof Ae&&e.constructor===Ae&&e.b===Re?e.a:(M("expected object of type SafeUrl, got '"+e+"' of type "+p(e)),"type_error:SafeUrl")}Ae.prototype.sa=!0,Ae.prototype.ra=function(){return this.a.toString()},Ae.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var De=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function je(e){return e instanceof Ae?e:(e="object"==typeof e&&e.sa?e.ra():String(e),De.test(e)||(e="about:invalid#zClosurez"),new Ae(Me,e))}var Re={},Me={};function Le(){this.a="",this.b=Ue}function Fe(e){return e instanceof Le&&e.constructor===Le&&e.b===Ue?e.a:(M("expected object of type SafeHtml, got '"+e+"' of type "+p(e)),"type_error:SafeHtml")}Le.prototype.sa=!0,Le.prototype.ra=function(){return this.a.toString()},Le.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ue={};function Ve(e){var t=new Le;return t.a=e,t}Ve("<!DOCTYPE html>");var We=Ve("");function Be(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function qe(e){return ae.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(te,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ne,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(re,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ie,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(oe,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(se,"&#0;"))),e}function ze(e){return ze[" "](e),e}Ve("<br>"),ze[" "]=h;var He,Ye,Ge=he("Opera"),Ke=he("Trident")||he("MSIE"),Qe=he("Edge"),Xe=Qe||Ke,$e=he("Gecko")&&!(ue(Z.toLowerCase(),"webkit")&&!he("Edge"))&&!(he("Trident")||he("MSIE"))&&!he("Edge"),Je=ue(Z.toLowerCase(),"webkit")&&!he("Edge");function Ze(){var e=c.document;return e?e.documentMode:void 0}e:{var et="",tt=(Ye=Z,$e?/rv:([^\);]+)(\)|;)/.exec(Ye):Qe?/Edge\/([\d\.]+)/.exec(Ye):Ke?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ye):Je?/WebKit\/(\S+)/.exec(Ye):Ge?/(?:Version)[ \/]?(\S+)/.exec(Ye):void 0);if(tt&&(et=tt?tt[1]:""),Ke){var nt=Ze();if(null!=nt&&nt>parseFloat(et)){He=String(nt);break e}}He=et}var rt,it={};function ot(e){return function(e,t){var n=it;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t()}(e,(function(){for(var t=0,n=ee(String(He)).split("."),r=ee(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=ce(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ce(0==s[2].length,0==a[2].length)||ce(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}rt=c.document&&Ke?Ze():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ye){}var st=!Ke||9<=Number(rt);function at(e){var t=document;return"string"==typeof e?t.getElementById(e):e}function ut(e,t){pe(t,(function(t,n){t&&"object"==typeof t&&t.sa&&(t=t.ra()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:ft.hasOwnProperty(n)?e.setAttribute(ft[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ct,lt,ft={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ht(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function pt(e){if(e&&"number"==typeof e.length){if(y(e))return"function"==typeof e.item||"string"==typeof e.item;if(v(e))return"function"==typeof e.item}return!1}function dt(e){c.setTimeout((function(){throw e}),0)}function vt(e,t){lt||function(){if(c.Promise&&c.Promise.resolve){var e=c.Promise.resolve(void 0);lt=function(){e.then(bt)}}else lt=function(){var e=bt;!v(c.setImmediate)||c.Window&&c.Window.prototype&&!he("Edge")&&c.Window.prototype.setImmediate==c.setImmediate?(ct||(ct=function(){var e=c.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!he("Presto")&&(e=function(){var e,t,n=ht(document,"IFRAME");n.style.display="none",e=n,t=new Oe(Pe,_e(Se)),be(e,"HTMLIFrameElement"),e.src=xe(t).toString(),document.documentElement.appendChild(n);var r=n.contentWindow;(n=r.document).open(),n.write(Fe(We)),n.close();var i="callImmediate"+Math.random(),o="file:"==r.location.protocol?"*":r.location.protocol+"//"+r.location.host;n=E((function(e){"*"!=o&&e.origin!=o||e.data!=i||this.port1.onmessage()}),this),r.addEventListener("message",n,!1),this.port1={},this.port2={postMessage:function(){r.postMessage(i,o)}}}),void 0!==e&&!he("Trident")&&!he("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Fb;n.Fb=null,e()}},function(e){r.next={Fb:e},r=r.next,t.port2.postMessage(0)}}return function(e){c.setTimeout(e,0)}}()),ct(e)):c.setImmediate(e)}}(),yt||(lt(),yt=!0),mt.add(e,t)}var yt=!1,mt=new U;function bt(){for(var e;e=W();){try{e.a.call(e.b)}catch(t){dt(t)}F(V,e)}yt=!1}function gt(e,t){if(this.a=_t,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){Nt(n,wt,e)}),(function(e){if(!(e instanceof Ut))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}Nt(n,Et,e)}))}catch(i){Nt(this,Et,i)}}var _t=0,wt=2,Et=3;function St(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}St.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ot=new L((function(){return new St}),(function(e){e.reset()}));function xt(e,t,n){var r=Ot.get();return r.g=e,r.b=t,r.f=n,r}function kt(e){if(e instanceof gt)return e;var t=new gt(h);return Nt(t,wt,e),t}function Ct(e){return new gt((function(t,n){n(e)}))}function Tt(e,t,n){Dt(e,t,n,null)||vt(S(t,e))}function It(e){return new gt((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Ob:!0,value:o}:{Ob:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Tt(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Pt(e,t){e.b||e.a!=wt&&e.a!=Et||jt(e),e.f?e.f.next=t:e.b=t,e.f=t}function At(e,t,n,r){var i=xt(null,null,null);return i.a=new gt((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(a){o(a)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Ut?o(t):e(i)}catch(a){o(a)}}:o})),i.a.c=e,Pt(e,i),i.a}function Nt(e,t,n){e.a==_t&&(e===n&&(t=Et,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Dt(n,e.Zc,e.$c,e)||(e.i=n,e.a=t,e.c=null,jt(e),t!=Et||n instanceof Ut||function(e,t){e.g=!0,vt((function(){e.g&&Ft.call(null,t)}))}(e,n)))}function Dt(e,t,n,r){if(e instanceof gt)return Pt(e,xt(t||h,n||null,r)),!0;if(D(e))return e.then(t,n,r),!0;if(y(e))try{var i=e.then;if(v(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}var s=!1;try{t.call(e,(function(e){s||(s=!0,n.call(i,e))}),o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(s){return n.call(r,s),!0}return!1}function jt(e){e.h||(e.h=!0,vt(e.fc,e))}function Rt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Mt(e,t,n,r){if(n==Et&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Lt(t,n,r);else try{t.c?t.g.call(t.f):Lt(t,n,r)}catch(o){Ft.call(null,o)}F(Ot,t)}function Lt(e,t,n){t==wt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}gt.prototype.then=function(e,t,n){return At(this,v(e)?e:null,v(t)?t:null,n)},gt.prototype.$goog_Thenable=!0,(t=gt.prototype).na=function(e,t){return(e=xt(e,e,t)).c=!0,Pt(this,e),this},t.s=function(e,t){return At(this,null,e,t)},t.cancel=function(e){if(this.a==_t){var t=new Ut(e);vt((function(){!function e(t,n){if(t.a==_t)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==t&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==_t&&1==i?e(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):Rt(r),Mt(r,o,Et,n)))}t.c=null}else Nt(t,Et,n)}(this,t)}),this)}},t.Zc=function(e){this.a=_t,Nt(this,wt,e)},t.$c=function(e){this.a=_t,Nt(this,Et,e)},t.fc=function(){for(var e;e=Rt(this);)Mt(this,e,this.a,this.i);this.h=!1};var Ft=dt;function Ut(e){j.call(this,e)}function Vt(){0!=Wt&&(Bt[m(this)]=this),this.xa=this.xa,this.oa=this.oa}x(Ut,j),Ut.prototype.name="cancel";var Wt=0,Bt={};function qt(e){if(!e.xa&&(e.xa=!0,e.Da(),0!=Wt)){var t=m(e);if(0!=Wt&&e.oa&&0<e.oa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Bt[t]}}Vt.prototype.xa=!1,Vt.prototype.Da=function(){if(this.oa)for(;this.oa.length;)this.oa.shift()()};var zt=Object.freeze||function(e){return e},Ht=!Ke||9<=Number(rt),Yt=Ke&&!ot("9"),Gt=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{c.addEventListener("test",h,t),c.removeEventListener("test",h,t)}catch(n){}return e}();function Kt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function Qt(e,t){if(Kt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if($e){e:{try{ze(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:Xt[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Kt.prototype.preventDefault=function(){this.defaultPrevented=!0},x(Qt,Kt);var Xt=zt({2:"touch",3:"pen",4:"mouse"});Qt.prototype.preventDefault=function(){Qt.$a.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Yt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},Qt.prototype.g=function(){return this.a};var $t="closure_listenable_"+(1e6*Math.random()|0),Jt=0;function Zt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Ua=i,this.key=++Jt,this.va=this.Oa=!1}function en(e){e.va=!0,e.listener=null,e.proxy=null,e.src=null,e.Ua=null}function tn(e){this.src=e,this.a={},this.b=0}function nn(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(en(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function rn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.va&&o.listener==t&&o.capture==!!n&&o.Ua==r)return i}return-1}tn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=rn(e,t,r,i);return-1<s?(t=e[s],n||(t.Oa=!1)):((t=new Zt(t,this.src,o,!!r,i)).Oa=n,e.push(t)),t};var on="closure_lm_"+(1e6*Math.random()|0),sn={};function an(e,t,n,r,i){if(r&&r.once)cn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)an(e,t[o],n,r,i);else n=bn(n),e&&e[$t]?_n(e,t,n,y(r)?!!r.capture:!!r,i):un(e,t,n,!1,r,i)}function un(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=y(i)?!!i.capture:!!i,a=yn(e);if(a||(e[on]=a=new tn(e)),!(n=a.add(t,n,r,s,o)).proxy)if(r=function(){var e=vn,t=Ht?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gt||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(hn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}}function cn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)cn(e,t[o],n,r,i);else n=bn(n),e&&e[$t]?wn(e,t,n,y(r)?!!r.capture:!!r,i):un(e,t,n,!0,r,i)}function ln(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)ln(e,t[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=bn(n),e&&e[$t]?(e=e.v,(t=String(t).toString())in e.a&&-1<(n=rn(o=e.a[t],n,r,i))&&(en(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=yn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=rn(t,n,r,i)),(n=-1<e?t[e]:null)&&fn(n))}function fn(e){if("number"!=typeof e&&e&&!e.va){var t=e.src;if(t&&t[$t])nn(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(hn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=yn(t))?(nn(n,e),0==n.b&&(n.src=null,t[on]=null)):en(e)}}}function hn(e){return e in sn?sn[e]:sn[e]="on"+e}function pn(e,t,n,r){var i=!0;if((e=yn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.va&&(o=dn(o,r),i=i&&!1!==o)}return i}function dn(e,t){var n=e.listener,r=e.Ua||e.src;return e.Oa&&fn(e),n.call(r,t)}function vn(e,t){if(e.va)return!0;if(!Ht){if(!t)e:{t=["window","event"];for(var n=c,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new Qt(r=t,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=pn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=pn(r[i],e,!1,t),n=n&&o}return n}return dn(e,new Qt(t,this))}function yn(e){return(e=e[on])instanceof tn?e:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bn(e){return v(e)?e:(e[mn]||(e[mn]=function(t){return e.handleEvent(t)}),e[mn])}function gn(){Vt.call(this),this.v=new tn(this),this.$b=this,this.fb=null}function _n(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function wn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function En(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.va&&s.capture==n){var a=s.listener,u=s.Ua||s.src;s.Oa&&nn(e.v,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function Sn(e,t,n){if(v(e))n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:c.setTimeout(e,t||0)}function On(e){var t=null;return new gt((function(n,r){-1==(t=Sn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).s((function(e){throw c.clearTimeout(t),e}))}function xn(e){if(e.V&&"function"==typeof e.V)return e.V();if("string"==typeof e)return e.split("");if(d(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function kn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.V||"function"!=typeof e.V){if(d(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Cn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Cn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Tn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];In(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)In(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function In(e,t){return Object.prototype.hasOwnProperty.call(e,t)}x(gn,Vt),gn.prototype[$t]=!0,gn.prototype.addEventListener=function(e,t,n,r){an(this,e,t,n,r)},gn.prototype.removeEventListener=function(e,t,n,r){ln(this,e,t,n,r)},gn.prototype.dispatchEvent=function(e){var t,n=this.fb;if(n)for(t=[];n;n=n.fb)t.push(n);n=this.$b;var r=e.type||e;if("string"==typeof e)e=new Kt(e,n);else if(e instanceof Kt)e.target=e.target||n;else{var i=e;me(e=new Kt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.b=t[o];i=En(s,r,!0,e)&&i}if(i=En(s=e.b=n,r,!0,e)&&i,i=En(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=En(s=e.b=t[o],r,!1,e)&&i;return i},gn.prototype.Da=function(){if(gn.$a.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)en(n[r]);delete t.a[e],t.b--}}this.fb=null},(t=Cn.prototype).V=function(){Tn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},t.Y=function(){return Tn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(e,t){return In(this.b,e)?this.b[e]:t},t.set=function(e,t){In(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},t.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function An(e,t){var n;this.a=this.l=this.f="",this.g=null,this.h=this.c="",this.i=!1,e instanceof An?(this.i=void 0!==t?t:e.i,Nn(this,e.f),this.l=e.l,this.a=e.a,Dn(this,e.g),this.c=e.c,jn(this,Zn(e.b)),this.h=e.h):e&&(n=String(e).match(Pn))?(this.i=!!t,Nn(this,n[1]||"",!0),this.l=Un(n[2]||""),this.a=Un(n[3]||"",!0),Dn(this,n[4]),this.c=Un(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Un(n[7]||"")):(this.i=!!t,this.b=new Gn(null,this.i))}function Nn(e,t,n){e.f=n?Un(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Dn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function jn(e,t,n){t instanceof Gn?(e.b=t,function(e,t){t&&!e.f&&(Kn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xn(this,t),Jn(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Vn(t,Hn)),e.b=new Gn(t,e.i))}function Rn(e,t,n){e.b.set(t,n)}function Mn(e,t){return e.b.get(t)}function Ln(e){return e instanceof An?new An(e):new An(e,void 0)}function Fn(e,t,n,r){var i=new An(null,void 0);return e&&Nn(i,e),t&&(i.a=t),n&&Dn(i,n),r&&(i.c=r),i}function Un(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vn(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Wn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}An.prototype.toString=function(){var e=[],t=this.f;t&&e.push(Vn(t,Bn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Vn(t,Bn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.c)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vn(n,"/"==n.charAt(0)?zn:qn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Vn(n,Yn)),e.join("")},An.prototype.resolve=function(e){var t=new An(this),n=!!e.f;n?Nn(t,e.f):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.c;if(n)Dn(t,e.g);else if(n=!!e.c){if("/"!=r.charAt(0))if(this.a&&!this.c)r="/"+r;else{var i=t.c.lastIndexOf("/");-1!=i&&(r=t.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ue(i,"./")||ue(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?t.c=r:n=""!==e.b.toString(),n?jn(t,Zn(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Bn=/[#\/\?@]/g,qn=/[#\?:]/g,zn=/[#\?]/g,Hn=/[#\?@]/g,Yn=/#/g;function Gn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function Kn(e){e.a||(e.a=new Cn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Qn(e){var t=kn(e);if(void 0===t)throw Error("Keys are undefined");var n=new Gn(null,void 0);e=xn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?Jn(n,i,o):n.add(i,o)}return n}function Xn(e,t){Kn(e),t=er(e,t),In(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,In((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Tn(e)))}function $n(e,t){return Kn(e),t=er(e,t),In(e.a.b,t)}function Jn(e,t,n){Xn(e,t),0<n.length&&(e.c=null,e.a.set(er(e,t),J(n)),e.b+=n.length)}function Zn(e){var t=new Gn;return t.c=e.c,e.a&&(t.a=new Cn(e.a),t.b=e.b),t}function er(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function tr(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),e(t,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&"function"!=typeof(s=n[i])&&(r.push(o),or(i,r),r.push(":"),e(t,s,r),o=",");return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":or(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new nr,e,t),t.join("")}function nr(){}(t=Gn.prototype).add=function(e,t){Kn(this),this.c=null,e=er(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(e,t){Kn(this),this.a.forEach((function(n,r){z(n,(function(n){e.call(t,n,r,this)}),this)}),this)},t.Y=function(){Kn(this);for(var e=this.a.V(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},t.V=function(e){Kn(this);var t=[];if("string"==typeof e)$n(this,e)&&(t=$(t,this.a.get(er(this,e))));else{e=this.a.V();for(var n=0;n<e.length;n++)t=$(t,e[n])}return t},t.set=function(e,t){return Kn(this),this.c=null,$n(this,e=er(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},t.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var rr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ir=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function or(e,t){t.push('"',e.replace(ir,(function(e){var t=rr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),rr[e]=t),t})),'"')}function sr(){var e=xr();return Ke&&!!rt&&11==rt||/Edge\/\d+/.test(e)}function ar(){return c.window&&c.window.location.href||self&&self.location&&self.location.href||""}function ur(e,t){t=t||c.window;var n="about:blank";e&&(n=Ne(je(e))),t.location.href=n}function cr(e){return!!((e=(e||xr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function lr(e){e=e||c.window;try{e.close()}catch(t){}}function fr(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(s in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xr().toLowerCase(),r&&(t.target=r,ue(n,"crios/")&&(t.target="_blank")),Er(xr())==_r&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Ae?n:je(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+e[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(e[s]?1:0))}var s=i.join(",");if((he("iPhone")&&!he("iPod")&&!he("iPad")||he("iPad")||he("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(s=ht(document,"A"),"HTMLAnchorElement"),t instanceof Ae||t instanceof Ae||(t="object"==typeof t&&t.sa?t.ra():String(t),De.test(t)||(t="about:invalid#zClosurez"),t=new Ae(Me,t)),s.href=Ne(t),s.setAttribute("target",n),e.noreferrer&&s.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(e),s={}):e.noreferrer?(s=r.open("",n,s),e=Ne(t),s&&(Xe&&ue(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),s.opener=null,e=Ve('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+qe(e)+'">'),r=s.document)&&(r.write(Fe(e)),r.close())):(s=r.open(Ne(t),n,s))&&e.noopener&&(s.opener=null),s)try{s.focus()}catch(u){}return s}var hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pr=/^[^@]+@[^@]+$/;function dr(){var e=null;return new gt((function(t){"complete"==c.document.readyState?t():(e=function(){t()},cn(window,"load",e))})).s((function(t){throw ln(window,"load",e),t}))}function vr(e){return e=e||xr(),!("file:"!==Pr()&&"ionic:"!==Pr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function yr(){var e=c.window;try{return!(!e||e==e.top)}catch(t){return!1}}function mr(){return void 0!==c.WorkerGlobalScope&&"function"==typeof c.importScripts}function br(){return n.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":n.INTERNAL.hasOwnProperty("node")?"Node":mr()?"Worker":"Browser"}function gr(){var e=br();return"ReactNative"===e||"Node"===e}var _r="Firefox",wr="Chrome";function Er(e){var t=e.toLowerCase();return ue(t,"opera/")||ue(t,"opr/")||ue(t,"opios/")?"Opera":ue(t,"iemobile")?"IEMobile":ue(t,"msie")||ue(t,"trident/")?"IE":ue(t,"edge/")?"Edge":ue(t,"firefox/")?_r:ue(t,"silk/")?"Silk":ue(t,"blackberry")?"Blackberry":ue(t,"webos")?"Webos":!ue(t,"safari/")||ue(t,"chrome/")||ue(t,"crios/")||ue(t,"android")?!ue(t,"chrome/")&&!ue(t,"crios/")||ue(t,"edge/")?ue(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":wr:"Safari"}var Sr={ld:"FirebaseCore-web",nd:"FirebaseUI-web"};function Or(e,t){t=t||[];var n,r=[],i={};for(n in Sr)i[Sr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=br())?r=Er(i=xr()):"Worker"===r&&(r=Er(i=xr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function xr(){return c.navigator&&c.navigator.userAgent||""}function kr(e,t){e=e.split("."),t=t||c;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Cr(){try{var e=c.localStorage,t=Rr();if(e)return e.setItem(t,"1"),e.removeItem(t),!sr()||!!c.indexedDB}catch(n){return mr()&&!!c.indexedDB}return!1}function Tr(){return(Ir()||"chrome-extension:"===Pr()||vr())&&!gr()&&Cr()&&!mr()}function Ir(){return"http:"===Pr()||"https:"===Pr()}function Pr(){return c.location&&c.location.protocol||null}function Ar(e){return!cr(e=e||xr())&&Er(e)!=_r}function Nr(e){return void 0===e?null:tr(e)}function Dr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function jr(e){if(null!==e)return JSON.parse(e)}function Rr(e){return e||Math.floor(1e9*Math.random()).toString()}function Mr(e){return"Safari"!=Er(e=e||xr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Lr(){var e=c.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Fr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=xr(),t=br(),this.b=cr(e)||"ReactNative"===t}function Ur(){var e=c.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function Vr(e){"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e)}function Wr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Br(){return!(!kr("fireauth.oauthhelper",c)&&!kr("fireauth.iframe",c))}Fr.prototype.get=function(){var e=c.navigator;return!e||"boolean"!=typeof e.onLine||!Ir()&&"chrome-extension:"!==Pr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var qr,zr={};function Hr(e){zr[e]||(zr[e]=!0,Vr(e))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),qr=2==Yr.abcd}catch(Ye){qr=!1}function Gr(e,t,n){qr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Kr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&Gr(e,n,t[n])}function Qr(e){var t={};return Kr(t,e),t}function Xr(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)Gr(t,n,Xr(e[n]));return t}function $r(e){var t=e&&(e[ni]?"phone":null);if(!(t&&e&&e[ti]))throw new k("internal-error","Internal assert: invalid MultiFactorInfo object");Gr(this,"uid",e[ti]),Gr(this,"displayName",e[Zr]||null);var n=null;e[ei]&&(n=new Date(e[ei]).toUTCString()),Gr(this,"enrollmentTime",n),Gr(this,"factorId",t)}function Jr(e){try{var t=new ri(e)}catch(n){t=null}return t}$r.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Zr="displayName",ei="enrolledAt",ti="mfaEnrollmentId",ni="phoneInfo";function ri(e){$r.call(this,e),Gr(this,"phoneNumber",e[ni])}function ii(e){var t={},n=e[ui],r=e[li],i=e[fi];if(e=Jr(e[ci]),!i||i!=si&&i!=ai&&!n||i==ai&&!r||i==oi&&!e)throw Error("Invalid checkActionCode response!");i==ai?(t[pi]=n||null,t[vi]=n||null,t[hi]=r):(t[pi]=r||null,t[vi]=r||null,t[hi]=n||null),t[di]=e||null,Gr(this,mi,i),Gr(this,yi,Xr(t))}x(ri,$r),ri.prototype.w=function(){var e=ri.$a.w.call(this);return e.phoneNumber=this.phoneNumber,e};var oi="REVERT_SECOND_FACTOR_ADDITION",si="EMAIL_SIGNIN",ai="VERIFY_AND_CHANGE_EMAIL",ui="email",ci="mfaInfo",li="newEmail",fi="requestType",hi="email",pi="fromEmail",di="multiFactorInfo",vi="previousEmail",yi="data",mi="operation";function bi(e){var t=Mn(e=Ln(e),gi)||null,n=Mn(e,_i)||null,r=Mn(e,Si)||null;if(r=r&&xi[r]||null,!t||!n||!r)throw new k("argument-error",gi+", "+_i+"and "+Si+" are required in a valid action code URL.");Kr(this,{apiKey:t,operation:r,code:n,continueUrl:Mn(e,wi)||null,languageCode:Mn(e,Ei)||null,tenantId:Mn(e,Oi)||null})}var gi="apiKey",_i="oobCode",wi="continueUrl",Ei="languageCode",Si="mode",Oi="tenantId",xi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:oi,signIn:si,verifyAndChangeEmail:ai,verifyEmail:"VERIFY_EMAIL"};function ki(e){try{return new bi(e)}catch(t){return null}}function Ci(e){var t=e[Ni];if(void 0===t)throw new k("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new k("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Ti];if(n&&"object"==typeof n){t=n[Ri];var r=n[Di];if(n=n[ji],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new k("argument-error",Di+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new k("argument-error",ji+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new k("argument-error",Ri+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new k("missing-android-pkg-name")}}else if(void 0!==n)throw new k("argument-error",Ti+" property must be a non null object when specified.");if(this.f=null,(t=e[Ai])&&"object"==typeof t){if("string"==typeof(t=t[Mi])&&t.length)this.f=t;else if(void 0!==t)throw new k("argument-error",Mi+" property must be a non empty string when specified.")}else if(void 0!==t)throw new k("argument-error",Ai+" property must be a non null object when specified.");if(void 0!==(t=e[Pi])&&"boolean"!=typeof t)throw new k("argument-error",Pi+" property must be a boolean when specified.");if(this.c=!!t,void 0!==(e=e[Ii])&&("string"!=typeof e||"string"==typeof e&&!e.length))throw new k("argument-error",Ii+" property must be a non empty string when specified.");this.i=e||null}var Ti="android",Ii="dynamicLinkDomain",Pi="handleCodeInApp",Ai="iOS",Ni="url",Di="installApp",ji="minimumVersion",Ri="packageName",Mi="bundleId";function Li(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Fi=null;function Ui(e){var t=Wi(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.g=e,this.c=t.exp,this.h=t.sub,O(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Vi(e){try{return new Ui(e)}catch(t){return null}}function Wi(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(function(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Fi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Fi){Fi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Fi[o]&&(Fi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;t(i<<2|o>>4),64!=s&&(t(o<<4&240|s>>2),64!=a&&t(s<<6&192|a))}}(e,(function(e){t+=String.fromCharCode(e)})),t}(e))}catch(i){}return null}Ui.prototype.S=function(){return this.f},Ui.prototype.i=function(){return this.b},Ui.prototype.toString=function(){return this.g};var Bi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),qi=["client_id","response_type","scope","redirect_uri","state"],zi={md:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Wa:qi},od:{Ja:null,ua:500,ta:750,fa:"github.com",Wa:qi},pd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Wa:qi},vd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Wa:Bi},jd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Wa:[]}};function Hi(e){for(var t in zi)if(zi[t].fa==e)return zi[t];return null}function Yi(e){var t={};t["facebook.com"]=$i,t["google.com"]=Zi,t["github.com"]=Ji,t["twitter.com"]=eo;var n=e&&e[Ki];try{if(n)return t[n]?new t[n](e):new Xi(e);if(void 0!==e[Gi])return new Qi(e)}catch(i){}return null}var Gi="idToken",Ki="providerId";function Qi(e){var t=e[Ki];if(!t&&e[Gi]){var n=Vi(e[Gi]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),Gr(this,"providerId",t),Gr(this,"isNewUser",n)}function Xi(e){Qi.call(this,e),Gr(this,"profile",Xr((e=jr(e.rawUserInfo||"{}"))||{}))}function $i(e){if(Xi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Ji(e){if(Xi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",this.profile&&this.profile.login||null)}function Zi(e){if(Xi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function eo(e){if(Xi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Gr(this,"username",e.screenName||null)}function to(e){var t=Ln(e),n=Mn(t,"link"),r=Mn(Ln(n),"link");return t=Mn(t,"deep_link_id"),Mn(Ln(t),"link")||t||r||n||e}function no(e,t){if(!e&&!t)throw new k("internal-error","Internal assert: no raw session string available");if(e&&t)throw new k("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?ro:io}x(Xi,Qi),x($i,Xi),x(Ji,Xi),x(Zi,Xi),x(eo,Xi);var ro="enroll",io="signin";function oo(){}function so(e,t){return e.then((function(e){if(e[Gs]){var n=Vi(e[Gs]);if(!n||t!=n.h)throw new k("user-mismatch");return e}throw new k("user-mismatch")})).s((function(e){throw e&&e.code&&e.code==I+"user-not-found"?new k("user-mismatch"):e}))}function ao(e,t){if(!t)throw new k("internal-error","failed to construct a credential");this.a=t,Gr(this,"providerId",e),Gr(this,"signInMethod",e)}function uo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function co(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new ao(e.providerId,e.pendingToken)}catch(t){}return null}function lo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&Gr(this,"idToken",t.idToken),t.accessToken&&Gr(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&Gr(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new k("internal-error","failed to construct a credential");Gr(this,"accessToken",t.oauthToken),Gr(this,"secret",t.oauthTokenSecret)}Gr(this,"providerId",e),Gr(this,"signInMethod",n)}function fo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:Qn(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function ho(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new lo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function po(e,t){this.Pc=t||[],Kr(this,{providerId:e,isOAuthProvider:!0}),this.Hb={},this.ob=(Hi(e)||{}).Ja||null,this.nb=null}function vo(e){if("string"!=typeof e||0!=e.indexOf("saml."))throw new k("argument-error",'SAML provider IDs must be prefixed with "saml."');po.call(this,e,[])}function yo(e){po.call(this,e,qi),this.a=[]}function mo(){yo.call(this,"facebook.com")}function bo(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new mo).credential({accessToken:t})}function go(){yo.call(this,"github.com")}function _o(e){if(!e)throw new k("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return y(e)&&(t=e.accessToken),(new go).credential({accessToken:t})}function wo(){yo.call(this,"google.com"),this.Ca("profile")}function Eo(e,t){var n=e;return y(e)&&(n=e.idToken,t=e.accessToken),(new wo).credential({idToken:n,accessToken:t})}function So(){po.call(this,"twitter.com",Bi)}function Oo(e,t){var n=e;if(y(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new k("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new lo("twitter.com",n,"twitter.com")}function xo(e,t,n){this.a=e,this.f=t,Gr(this,"providerId","password"),Gr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function ko(e){return e&&e.email&&e.password?new xo(e.email,e.password,e.signInMethod):null}function Co(){Kr(this,{providerId:"password",isOAuthProvider:!1})}function To(e,t){if(!(t=Io(t)))throw new k("argument-error","Invalid email link!");return new xo(e,t.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function Io(e){return(e=ki(e=to(e)))&&e.operation===si?e:null}function Po(e){if(!(e.cb&&e.bb||e.La&&e.ea))throw new k("internal-error");this.a=e,Gr(this,"providerId","phone"),this.fa="phone",Gr(this,"signInMethod","phone")}function Ao(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return z(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Po(t)}return null}function No(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.cb,code:e.a.bb}}function Do(e){try{this.a=e||n.auth()}catch(t){throw new k("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Kr(this,{providerId:"phone",isOAuthProvider:!1})}function jo(e,t){if(!e)throw new k("missing-verification-id");if(!t)throw new k("missing-verification-code");return new Po({cb:e,bb:t})}function Ro(e){if(e.temporaryProof&&e.phoneNumber)return new Po({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,s=e&&e.pendingToken;try{switch(t){case"google.com":return Eo(o,n);case"facebook.com":return bo(n);case"github.com":return _o(n);case"twitter.com":return Oo(n,r);default:return n||r||o||s?s?0==t.indexOf("saml.")?new ao(t,s):new lo(t,{pendingToken:s,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new yo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(u){return null}}function Mo(e){if(!e.isOAuthProvider)throw new k("invalid-oauth-provider")}function Lo(e,t,n,r,i,o,s){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new k("invalid-auth-event");if(this.g&&this.a)throw new k("invalid-auth-event");if(this.g&&!this.f)throw new k("invalid-auth-event")}function Fo(e){return(e=e||{}).type?new Lo(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&C(e.error),e.postBody,e.tenantId):null}function Uo(){this.b=null,this.a=[]}no.prototype.Ha=function(){return this.a?kt(this.a):kt(this.b)},no.prototype.w=function(){return this.type==ro?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},oo.prototype.ja=function(){},oo.prototype.b=function(){},oo.prototype.c=function(){},oo.prototype.w=function(){},ao.prototype.ja=function(e){return da(e,uo(this))},ao.prototype.b=function(e,t){var n=uo(this);return n.idToken=t,va(e,n)},ao.prototype.c=function(e,t){return so(ya(e,uo(this)),t)},ao.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},lo.prototype.ja=function(e){return da(e,fo(this))},lo.prototype.b=function(e,t){var n=fo(this);return n.idToken=t,va(e,n)},lo.prototype.c=function(e,t){return so(ya(e,fo(this)),t)},lo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},po.prototype.Ka=function(e){return this.Hb=ve(e),this},x(vo,po),x(yo,po),yo.prototype.Ca=function(e){return K(this.a,e)||this.a.push(e),this},yo.prototype.Pb=function(){return J(this.a)},yo.prototype.credential=function(e,t){var n;if(!(n=y(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new k("argument-error","credential failed: must provide the ID token and/or the access token.");return new lo(this.providerId,n,this.providerId)},x(mo,yo),Gr(mo,"PROVIDER_ID","facebook.com"),Gr(mo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),x(go,yo),Gr(go,"PROVIDER_ID","github.com"),Gr(go,"GITHUB_SIGN_IN_METHOD","github.com"),x(wo,yo),Gr(wo,"PROVIDER_ID","google.com"),Gr(wo,"GOOGLE_SIGN_IN_METHOD","google.com"),x(So,po),Gr(So,"PROVIDER_ID","twitter.com"),Gr(So,"TWITTER_SIGN_IN_METHOD","twitter.com"),xo.prototype.ja=function(e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?$a(e,Oa,{email:this.a,oobCode:this.f}):$a(e,Ya,{email:this.a,password:this.f})},xo.prototype.b=function(e,t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?$a(e,xa,{idToken:t,email:this.a,oobCode:this.f}):$a(e,Fa,{idToken:t,email:this.a,password:this.f})},xo.prototype.c=function(e,t){return so(this.ja(e),t)},xo.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Kr(Co,{PROVIDER_ID:"password"}),Kr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Kr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Po.prototype.ja=function(e){return e.eb(No(this))},Po.prototype.b=function(e,t){var n=No(this);return n.idToken=t,$a(e,Ka,n)},Po.prototype.c=function(e,t){var n=No(this);return n.operation="REAUTH",so(e=$a(e,Qa,n),t)},Po.prototype.w=function(){var e={providerId:"phone"};return this.a.cb&&(e.verificationId=this.a.cb),this.a.bb&&(e.verificationCode=this.a.bb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Do.prototype.eb=function(e,t){var n=this.a.a;return kt(t.verify()).then((function(r){if("string"!=typeof r)throw new k("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i=y(e)?e.session:null,o=y(e)?e.phoneNumber:e;return(i&&i.type==ro?i.Ha().then((function(e){return $a(n,Va,{idToken:e,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}}).then((function(e){return e.phoneSessionInfo.sessionInfo}))})):i&&i.type==io?i.Ha().then((function(t){return function(e,t){return $a(e,Wa,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return $a(e,Ma,t)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(e){return"function"==typeof t.reset&&t.reset(),e}),(function(e){throw"function"==typeof t.reset&&t.reset(),e}))}throw new k("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Kr(Do,{PROVIDER_ID:"phone"}),Kr(Do,{PHONE_SIGN_IN_METHOD:"phone"}),Lo.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Lo.prototype.S=function(){return this.h},Lo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Vo,Wo=null;function Bo(e){var t="unauthorized-domain",n=void 0,r=Ln(e);e=r.a,"chrome-extension"==(r=r.f)?n=Be("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Be("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",k.call(this,t,n)}function qo(e,t,n){k.call(this,e,n),(e=t||{}).Ib&&Gr(this,"email",e.Ib),e.ea&&Gr(this,"phoneNumber",e.ea),e.credential&&Gr(this,"credential",e.credential),e.Yb&&Gr(this,"tenantId",e.Yb)}function zo(e){if(e.code){var t=e.code||"";0==t.indexOf(I)&&(t=t.substring(I.length));var n={credential:Ro(e),Yb:e.tenantId};if(e.email)n.Ib=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new k(t,e.message||void 0);return new qo(t,n,e.message)}return null}function Ho(){}function Yo(e){return e.c||(e.c=e.b())}function Go(){}function Ko(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(o){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Qo(){}function Xo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.pc,this),this.a.onerror=E(this.Rb,this),this.a.onprogress=E(this.qc,this),this.a.ontimeout=E(this.uc,this)}function $o(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function Jo(e,t,n){this.reset(e,t,n,void 0,void 0)}function Zo(e){this.f=e,this.b=this.c=this.a=null}function es(e,t){this.name=e,this.value=t}x(Bo,k),x(qo,k),qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&me(e,t),e},qo.prototype.toJSON=function(){return this.w()},Ho.prototype.c=null,x(Go,Ho),Go.prototype.a=function(){var e=Ko(this);return e?new ActiveXObject(e):new XMLHttpRequest},Go.prototype.b=function(){var e={};return Ko(this)&&(e[0]=!0,e[1]=!0),e},Vo=new Go,x(Qo,Ho),Qo.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new Xo;throw Error("Unsupported browser")},Qo.prototype.b=function(){return{}},(t=Xo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},t.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},t.pc=function(){this.status=200,this.response=this.responseText=this.a.responseText,$o(this,4)},t.Rb=function(){this.status=500,this.response=this.responseText="",$o(this,4)},t.uc=function(){this.Rb()},t.qc=function(){this.status=200,$o(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Jo.prototype.a=null,Jo.prototype.reset=function(e,t,n,r,i){r||O(),delete this.a},es.prototype.toString=function(){return this.name};var ts=new es("SEVERE",1e3),ns=new es("WARNING",900),rs=new es("CONFIG",700),is=new es("FINE",500);Zo.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(M("Root logger has no level set."),null)}(this).value)for(v(t)&&(t=t()),e=new Jo(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var os={},ss=null;function as(e){var t;if(ss||(ss=new Zo(""),os[""]=ss,ss.c=rs),!(t=os[e])){t=new Zo(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=as(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,os[e]=t}return t}function us(e,t){e&&e.log(is,t,void 0)}function cs(e){this.f=e}function ls(e){gn.call(this),this.o=e,this.readyState=fs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=as("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}x(cs,Ho),cs.prototype.a=function(){return new ls(this.f)},cs.prototype.b=function(e){return function(){return e}}({}),x(ls,gn);var fs=0;function hs(e){e.c.read().then(e.oc.bind(e)).catch(e.Ta.bind(e))}function ps(e,t){t&&e.f&&(e.status=e.f.status,e.statusText=e.f.statusText),e.readyState=4,e.f=null,e.c=null,e.l=null,ds(e)}function ds(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function vs(e){gn.call(this),this.headers=new Cn,this.O=e||null,this.c=!1,this.A=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.G=!1,this.g=0,this.o=null,this.m=ys,this.u=this.R=!1}(t=ls.prototype).open=function(e,t){if(this.readyState!=fs)throw this.abort(),Error("Error reopening a connection");this.m=e,this.g=t,this.readyState=1,ds(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.i,method:this.m,credentials:void 0,cache:void 0};e&&(t.body=e),this.o.fetch(new Request(this.g,t)).then(this.tc.bind(this),this.Ta.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,ps(this,!1)),this.readyState=fs},t.tc=function(e){this.a&&(this.f=e,this.b||(this.b=e.headers,this.readyState=2,ds(this)),this.a&&(this.readyState=3,ds(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.rc.bind(this),this.Ta.bind(this)):void 0!==c.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.l=new TextDecoder,hs(this)):e.text().then(this.sc.bind(this),this.Ta.bind(this)))))},t.oc=function(e){if(this.a){var t=this.l.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?ps(this,!0):ds(this),3==this.readyState&&hs(this)}},t.sc=function(e){this.a&&(this.response=this.responseText=e,ps(this,!0))},t.rc=function(e){this.a&&(this.response=e,ps(this,!0))},t.Ta=function(e){var t=this.h;t&&t.log(ns,"Failed to fetch url "+this.g,e instanceof Error?e:Error(e)),this.a&&ps(this,!0)},t.setRequestHeader=function(e,t){this.i.append(e,t)},t.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.h)&&e.log(ns,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var e=this.h;return e&&e.log(ns,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},x(vs,gn);var ys="";vs.prototype.b=as("goog.net.XhrIo");var ms=/^https?$/i,bs=["POST","PUT"];function gs(e){return"content-type"==e.toLowerCase()}function _s(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ws(e),Ss(e)}function ws(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Es(e){if(e.c&&void 0!==u)if(e.A[1]&&4==xs(e)&&2==ks(e))us(e.b,Cs(e,"Local request error detected and ignored"));else if(e.i&&4==xs(e))Sn(e.Ub,0,e);else if(e.dispatchEvent("readystatechange"),4==xs(e)){us(e.b,Cs(e,"Request complete")),e.c=!1;try{var t,n=ks(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Pn)[1]||null;if(!o&&c.self&&c.self.location){var s=c.self.location.protocol;o=s.substr(0,s.length-1)}i=!ms.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var a=2<xs(e)?e.a.statusText:""}catch(f){us(e.b,"Can not get status: "+f.message),a=""}e.h=a+" ["+ks(e)+"]",ws(e)}}finally{Ss(e)}}}function Ss(e,t){if(e.a){Os(e);var n=e.a,r=e.A[0]?h:null;e.a=null,e.A=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(o){(e=e.b)&&e.log(ts,"Problem encountered resetting onreadystatechange: "+o.message,void 0)}}}function Os(e){e.a&&e.u&&(e.a.ontimeout=null),e.o&&(c.clearTimeout(e.o),e.o=null)}function xs(e){return e.a?e.a.readyState:0}function ks(e){try{return 2<xs(e)?e.a.status:-1}catch(t){return-1}}function Cs(e,t){return t+" ["+e.P+" "+e.l+" "+ks(e)+"]"}function Ts(e){var t=Us;this.g=[],this.u=t,this.o=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.A=this.i=!1,this.h=0,this.b=null,this.l=0}function Is(e,t,n){e.a=!0,e.c=n,e.f=!t,Ds(e)}function Ps(e){if(e.a){if(!e.m)throw new js(e);e.m=!1}}function As(e,t,n,r){e.g.push([t,n,r]),e.a&&Ds(e)}function Ns(e){return G(e.g,(function(e){return v(e[1])}))}function Ds(e){if(e.h&&e.a&&Ns(e)){var t=e.h,n=Ls[t];n&&(c.clearTimeout(n.a),delete Ls[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],s=i[1];if(i=i[2],o=e.f?s:o)try{var a=o.call(i||e.o,t);void 0!==a&&(e.f=e.f&&(a==t||a instanceof Error),e.c=t=a),(D(t)||"function"==typeof c.Promise&&t instanceof c.Promise)&&(r=!0,e.i=!0)}catch(l){t=l,e.f=!0,Ns(e)||(n=!0)}}e.c=t,r&&(a=E(e.v,e,!0),r=E(e.v,e,!1),t instanceof Ts?(As(t,a,r),t.A=!0):t.then(a,r)),n&&(t=new Ms(t),Ls[t.a]=t,e.h=t.a)}function js(){j.call(this)}function Rs(){j.call(this)}function Ms(e){this.a=c.setTimeout(E(this.c,this),0),this.b=e}(t=vs.prototype).Ma=function(){void 0!==u&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",us(this.b,Cs(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(us(this.b,Cs(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Ss(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Ss(this,!0)),vs.$a.Da.call(this)},t.Ub=function(){this.xa||(this.N||this.i||this.f?Es(this):this.Ic())},t.Ic=function(){Es(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case ys:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ts,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return us(this.b,"Can not get response: "+t.message),null}},Ts.prototype.cancel=function(e){if(this.a)this.c instanceof Ts&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.o,this):this.m=!0,this.a||(e=new Rs(this),Ps(this),Is(this,!1,e))}},Ts.prototype.v=function(e,t){this.i=!1,Is(this,e,t)},Ts.prototype.then=function(e,t,n){var r,i,o=new gt((function(e,t){r=e,i=t}));return As(this,r,(function(e){e instanceof Rs?o.cancel():i(e)})),o.then(e,t,n)},Ts.prototype.$goog_Thenable=!0,x(js,j),js.prototype.message="Deferred has already fired",js.prototype.name="AlreadyCalledError",x(Rs,j),Rs.prototype.message="Deferred was canceled",Rs.prototype.name="CanceledError",Ms.prototype.c=function(){throw delete Ls[this.a],this.b};var Ls={};function Fs(e){var t={},n=t.document||document,r=xe(e).toString(),i=ht(document,"SCRIPT"),o={Vb:i,Ma:void 0},s=new Ts(o),a=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(a=window.setTimeout((function(){Vs(i,!0);var e=new qs(Bs,"Timeout reached for loading script "+r);Ps(s),Is(s,!1,e)}),u),o.Ma=a),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Vs(i,t.wd||!1,a),Ps(s),Is(s,!0,null))},i.onerror=function(){Vs(i,!0,a);var e=new qs(Ws,"Error while loading script "+r);Ps(s),Is(s,!1,e)},me(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ut(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=xe(t),null===f&&(f=(t=(t=c.document).querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&l.test(t)?t:""),(t=f)&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),s}function Us(){if(this&&this.Vb){var e=this.Vb;e&&"SCRIPT"==e.tagName&&Vs(e,!0,this.Ma)}}function Vs(e,t,n){null!=n&&c.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Ws=0,Bs=1;function qs(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),j.call(this,n),this.code=e}function zs(e){this.f=e}function Hs(e,t,r){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.v=e.secureTokenTimeout||Ks,this.g=ve(e.secureTokenHeaders||Qs),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.m=e.firebaseTimeout||Xs,this.a=ve(e.firebaseHeaders||$s),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==br(),!(r=c.XMLHttpRequest||r&&n.INTERNAL.node&&n.INTERNAL.node.XMLHttpRequest)&&!mr())throw new k("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,mr()?this.f=new cs(self):gr()?this.f=new zs(r):this.f=new Qo,this.b=null}x(qs,j),x(zs,Ho),zs.prototype.a=function(){return new this.f},zs.prototype.b=function(){return{}};var Ys,Gs="idToken",Ks=new Fr(3e4,6e4),Qs={"Content-Type":"application/x-www-form-urlencoded"},Xs=new Fr(3e4,6e4),$s={"Content-Type":"application/json"};function Js(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function Zs(e,t){t&&(e.l=ea("https://securetoken.googleapis.com/v1/token",t),e.h=ea("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=ea("https://identitytoolkit.googleapis.com/v2/",t))}function ea(e,t){return e=Ln(e),t=Ln(t.url),e.c=e.a+e.c,Nn(e,t.f),e.a=t.a,Dn(e,t.g),e.toString()}function ta(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function na(e,t,n,r,i,o,s){(function(){var e=xr();return!((e=Er(e)!=wr?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||Ke&&rt&&!(9<rt))})()||mr()?e=E(e.u,e):(Ys||(Ys=new gt((function(e,t){!function(e,t){((window.gapi||{}).client||{}).request?e():(c[ia]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){As(e,null,t,void 0)}(Fs(ke(ra,{onload:ia})),(function(){t(Error("CORS_UNSUPPORTED"))})))}(e,t)}))),e=E(e.o,e)),e(t,n,r,i,o,s)}Hs.prototype.S=function(){return this.b},Hs.prototype.u=function(e,t,n,r,i,o){if(mr()&&(void 0===c.fetch||void 0===c.Headers||void 0===c.Request))throw new k("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new vs(this.f);if(o){s.g=Math.max(0,o);var a=setTimeout((function(){s.dispatchEvent("timeout")}),o)}_n(s,"complete",(function(){a&&clearTimeout(a);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return us(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(n){e=null}t&&t(e)})),wn(s,"ready",(function(){a&&clearTimeout(a),qt(this)})),wn(s,"timeout",(function(){a&&clearTimeout(a),qt(this),t&&t(null)})),function(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.G=!1,e.c=!0,e.a=e.O?e.O.a():Vo.a(),e.A=e.O?Yo(e.O):Yo(Vo),e.a.onreadystatechange=E(e.Ub,e);try{us(e.b,Cs(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(s){return us(e.b,Cs(e,"Error opening Xhr: "+s.message)),void _s(e,s)}t=r||"";var o=new Cn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(d(e)||"string"==typeof e)z(e,t,void 0);else for(var n=kn(e),r=xn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=gs,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(o.Y()),r=c.FormData&&t instanceof c.FormData,!K(bs,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.R&&(e.a.withCredentials=e.R);try{Os(e),0<e.g&&(e.u=function(e){return Ke&&ot(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),us(e.b,Cs(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=E(e.Ma,e)):e.o=Sn(e.Ma,e.g,e)),us(e.b,Cs(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(s){us(e.b,Cs(e,"Send error: "+s.message)),_s(e,s)}}(s,e,n,r,i)};var ra=new ge(Ee,"https://apis.google.com/js/client.js?onload=%{onload}"),ia="__fcb"+Math.floor(1e6*Math.random()).toString();function oa(e){if("string"!=typeof(e=e.email)||!pr.test(e))throw new k("invalid-email")}function sa(e){"email"in e&&oa(e)}function aa(e){if(!e[Gs]){if(e.mfaPendingCredential)throw new k("multi-factor-auth-required",null,ve(e));throw new k("internal-error")}}function ua(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new k("internal-error")}else{if(!e.sessionInfo)throw new k("missing-verification-id");if(!e.code)throw new k("missing-verification-code")}}Hs.prototype.o=function(e,t,n,r,i){var o=this;Ys.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(s),t&&t(e)}})})).s((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},Hs.prototype.yb=function(){return $a(this,Ua,{})},Hs.prototype.Ab=function(e,t){return $a(this,La,{idToken:e,email:t})},Hs.prototype.Bb=function(e,t){return $a(this,Fa,{idToken:e,password:t})};var ca={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function la(e){if(!e.phoneVerificationInfo)throw new k("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new k("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new k("missing-verification-code")}function fa(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new k("internal-error")}function ha(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&$n(e=new Gn(e.postBody),"nonce")&&(t.nonce=e.get("nonce"))),t}function pa(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=zo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=zo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=zo(e)):e.errorMessage&&(t=Ja(e.errorMessage)),t)throw t;aa(e)}function da(e,t){return t.returnIdpCredential=!0,$a(e,Ba,t)}function va(e,t){return t.returnIdpCredential=!0,$a(e,za,t)}function ya(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,$a(e,qa,t)}function ma(e){if(!e.oobCode)throw new k("invalid-action-code")}(t=Hs.prototype).Cb=function(e,t){var n={idToken:e},r=[];return pe(ca,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),$a(this,La,n)},t.ub=function(e,t){return me(e={requestType:"PASSWORD_RESET",email:e},t),$a(this,Na,e)},t.vb=function(e,t){return me(e={requestType:"EMAIL_SIGNIN",email:e},t),$a(this,Ia,e)},t.tb=function(e,t){return me(e={requestType:"VERIFY_EMAIL",idToken:e},t),$a(this,Pa,e)},t.Db=function(e,t,n){return me(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),$a(this,Aa,e)},t.eb=function(e){return $a(this,Ga,e)},t.mb=function(e,t){return $a(this,Ra,{oobCode:e,newPassword:t})},t.Qa=function(e){return $a(this,ga,{oobCode:e})},t.ib=function(e){return $a(this,ba,{oobCode:e})};var ba={endpoint:"setAccountInfo",B:ma,Z:"email",C:!0},ga={endpoint:"resetPassword",B:ma,F:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new k("internal-error")},C:!0},_a={endpoint:"signupNewUser",B:function(e){if(oa(e),!e.password)throw new k("weak-password")},F:aa,U:!0,C:!0},wa={endpoint:"createAuthUri",C:!0},Ea={endpoint:"deleteAccount",M:["idToken"]},Sa={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],B:function(e){if("array"!=p(e.deleteProvider))throw new k("internal-error")}},Oa={endpoint:"emailLinkSignin",M:["email","oobCode"],B:oa,F:aa,U:!0,C:!0},xa={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],B:oa,F:aa,U:!0},ka={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],B:la,F:aa,C:!0,Na:!0},Ca={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],B:la,F:aa,C:!0,Na:!0},Ta={endpoint:"getAccountInfo"},Ia={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new k("internal-error");oa(e)},Z:"email",C:!0},Pa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],B:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",C:!0},Aa={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],B:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new k("internal-error")},Z:"email",C:!0},Na={endpoint:"getOobConfirmationCode",M:["requestType"],B:function(e){if("PASSWORD_RESET"!=e.requestType)throw new k("internal-error");oa(e)},Z:"email",C:!0},Da={kb:!0,endpoint:"getProjectConfig",Tb:"GET"},ja={kb:!0,endpoint:"getRecaptchaParam",Tb:"GET",F:function(e){if(!e.recaptchaSiteKey)throw new k("internal-error")}},Ra={endpoint:"resetPassword",B:ma,Z:"email",C:!0},Ma={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Z:"sessionInfo",C:!0},La={endpoint:"setAccountInfo",M:["idToken"],B:sa,U:!0},Fa={endpoint:"setAccountInfo",M:["idToken"],B:function(e){if(sa(e),!e.password)throw new k("weak-password")},F:aa,U:!0},Ua={endpoint:"signupNewUser",F:aa,U:!0,C:!0},Va={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],B:function(e){if(!e.phoneEnrollmentInfo)throw new k("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new k("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new k("missing-app-credential")},F:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new k("internal-error")},C:!0,Na:!0},Wa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],B:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new k("missing-app-credential")},F:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new k("internal-error")},C:!0,Na:!0},Ba={endpoint:"verifyAssertion",B:fa,Xa:ha,F:pa,U:!0,C:!0},qa={endpoint:"verifyAssertion",B:fa,Xa:ha,F:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new k("user-not-found");if(e.errorMessage)throw Ja(e.errorMessage);aa(e)},U:!0,C:!0},za={endpoint:"verifyAssertion",B:function(e){if(fa(e),!e.idToken)throw new k("internal-error")},Xa:ha,F:pa,U:!0},Ha={endpoint:"verifyCustomToken",B:function(e){if(!e.token)throw new k("invalid-custom-token")},F:aa,U:!0,C:!0},Ya={endpoint:"verifyPassword",B:function(e){if(oa(e),!e.password)throw new k("wrong-password")},F:aa,U:!0,C:!0},Ga={endpoint:"verifyPhoneNumber",B:ua,F:aa,C:!0},Ka={endpoint:"verifyPhoneNumber",B:function(e){if(!e.idToken)throw new k("internal-error");ua(e)},F:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",zo(e);aa(e)}},Qa={Gb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:ua,F:aa,C:!0},Xa={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],F:function(e){if(!!e[Gs]^!!e.refreshToken)throw new k("internal-error")},C:!0,Na:!0};function $a(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(null==r||""===r)return!1}return!0}(n,t.M))return Ct(new k("internal-error"));var r,i=!!t.Na,o=t.Tb||"POST";return kt(n).then(t.B).then((function(){return t.U&&(n.returnSecureToken=!0),t.C&&e.b&&void 0===n.tenantId&&(n.tenantId=e.b),function(e,t,n,r,i,o,s){var a=Ln(t+n);Rn(a,"key",e.c),s&&Rn(a,"cb",O().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Rn(a,c,i[c]);return new gt((function(t,n){na(e,a.toString(),(function(e){e?e.error?n(Za(e,o||{})):t(e):n(new k("network-request-failed"))}),r,u?void 0:tr(Dr(i)),e.a,e.m.get())}))}(e,i?e.i:e.h,t.endpoint,o,n,t.Gb,t.kb||!1)})).then((function(e){return r=e,t.Xa?t.Xa(n,r):r})).then(t.F).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new k("internal-error");return r[t.Z]}))}function Ja(e){return Za({error:{errors:[{message:e}],code:400,message:e}})}function Za(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new k(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",me(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new k(r[i],t);return!t&&e&&(t=Nr(e)),new k("internal-error",t)}function eu(e){this.b=e,this.a=null,this.qb=function(e){return(iu||(iu=new gt((function(e,t){function n(){Lr(),kr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Lr(),t(Error("Network Error"))},timeout:nu.get()})}if(kr("gapi.iframes.Iframe"))e();else if(kr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();c[r]=function(){kr("gapi.load")?n():t(Error("Network Error"))},kt(Fs(r=ke(tu,{onload:r}))).s((function(){t(Error("Network Error"))}))}})).s((function(e){throw iu=null,e})))).then((function(){return new gt((function(t,n){kr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),ru.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var tu=new ge(Ee,"https://apis.google.com/js/api.js?onload=%{onload}"),nu=new Fr(3e4,6e4),ru=new Fr(5e3,15e3),iu=null;function ou(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,e=this.g?Fn((e=Ln(this.g.url)).f,e.a,e.g,"/emulator/auth/iframe"):Fn("https",this.l,null,"/__/auth/iframe"),this.a=e,Rn(this.a,"apiKey",this.h),Rn(this.a,"appName",this.i),this.b=null,this.c=[]}function su(e,t,n,r,i,o){this.u=e,this.o=t,this.c=n,this.v=r,this.m=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function au(e){try{return n.app(e).auth().Ga()}catch(t){return[]}}function uu(e,t,n,r,i,o){this.o=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.A=null,this.h=[],this.v=this.a=null}function cu(e){var t=ar();return function(e){return $a(e,Da,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=Ln(t),r=n.f;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Ln(o).a==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:hr.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){e=!0;break e}}e=!1}if(!e)throw new Bo(ar())}))}function lu(e){return e.v||(e.v=dr().then((function(){if(!e.u){var t=e.c,n=e.i,r=au(e.b),i=new ou(e.o,e.g,e.b,e.f);i.f=t,i.b=n,i.c=J(r||[]),e.u=i.toString()}e.m=new eu(e.u),function(e){if(!e.m)throw Error("IfcHandler must be initialized!");!function(e,t){e.qb.then((function(){e.a.register("authEvent",t,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.m,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Fo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",kt(n)}return n.status="ERROR",kt(n)}))}(e)}))),e.v}function fu(e){return e.l||(e.A=e.c?Or(e.c,au(e.b)):null,e.l=new Hs(e.g,N(e.i),e.A),e.f&&Zs(e.l,e.f)),e.l}function hu(e,t,n,r,i,o,s,a,u,c,l,f){return(e=new su(e,t,n,r,i,f)).l=o,e.g=s,e.i=a,e.b=ve(u||null),e.f=c,e.xb(l).toString()}function pu(e){if(this.a=e||n.INTERNAL.reactNative&&n.INTERNAL.reactNative.AsyncStorage,!this.a)throw new k("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function du(e){this.b=e,this.a={},this.f=E(this.c,this)}ou.prototype.toString=function(){return this.f?Rn(this.a,"v",this.f):Xn(this.a.b,"v"),this.b?Rn(this.a,"eid",this.b):Xn(this.a.b,"eid"),this.c.length?Rn(this.a,"fw",this.c.join(",")):Xn(this.a.b,"fw"),this.a.toString()},su.prototype.xb=function(e){return this.h=e,this},su.prototype.toString=function(){if(this.m){var e=Ln(this.m.url);e=Fn(e.f,e.a,e.g,"/emulator/auth/handler")}else e=Fn("https",this.u,null,"/__/auth/handler");if(Rn(e,"apiKey",this.o),Rn(e,"appName",this.c),Rn(e,"authType",this.v),this.a.isOAuthProvider){var t=this.a;try{var r=n.app(this.c).auth().ka()}catch(c){r=null}for(var i in t.nb=r,Rn(e,"providerId",this.a.providerId),t=Dr((r=this.a).Hb))t[i]=t[i].toString();i=r.Pc,t=ve(t);for(var o=0;o<i.length;o++){var s=i[o];s in t&&delete t[s]}r.ob&&r.nb&&!t[r.ob]&&(t[r.ob]=r.nb),de(t)||Rn(e,"customParameters",Nr(t))}if("function"==typeof this.a.Pb&&(r=this.a.Pb()).length&&Rn(e,"scopes",r.join(",")),this.l?Rn(e,"redirectUrl",this.l):Xn(e.b,"redirectUrl"),this.g?Rn(e,"eventId",this.g):Xn(e.b,"eventId"),this.i?Rn(e,"v",this.i):Xn(e.b,"v"),this.b)for(var a in this.b)this.b.hasOwnProperty(a)&&!Mn(e,a)&&Rn(e,a,this.b[a]);return this.h?Rn(e,"tid",this.h):Xn(e.b,"tid"),this.f?Rn(e,"eid",this.f):Xn(e.b,"eid"),(a=au(this.c)).length&&Rn(e,"fw",a.join(",")),e.toString()},(t=uu.prototype).Nb=function(e,t,n){var r=new k("popup-closed-by-user"),i=new k("web-storage-unsupported"),o=this,s=!1;return this.la().then((function(){(function(e){var t={type:"webStorageSupport"};return lu(e).then((function(){return function(e,t){return e.qb.then((function(){return new gt((function(n){e.a.send(t.type,t,n,kr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.m,t)})).then((function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&lr(e),t(i),s=!0)}))})).s((function(){})).then((function(){if(!s)return function(e){return new gt((function(t){return function n(){On(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!s)return On(n).then((function(){t(r)}))}))},t.Wb=function(){var e=xr();return!Ar(e)&&!Mr(e)},t.Sb=function(){return!1},t.Lb=function(e,t,n,r,i,o,s,a){if(!e)return Ct(new k("popup-blocked"));if(s&&!Ar())return this.la().s((function(t){lr(e),i(t)})),r(),kt();this.a||(this.a=cu(fu(this)));var u=this;return this.a.then((function(){var t=u.la().s((function(t){throw lr(e),i(t),t}));return r(),t})).then((function(){Mo(n),s||ur(hu(u.o,u.g,u.b,t,n,null,o,u.c,void 0,u.i,a,u.f),e)})).s((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},t.Mb=function(e,t,n,r){this.a||(this.a=cu(fu(this)));var i=this;return this.a.then((function(){Mo(t),ur(hu(i.o,i.g,i.b,e,t,ar(),n,i.c,void 0,i.i,r,i.f))})).s((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},t.la=function(){var e=this;return lu(this).then((function(){return e.m.qb})).s((function(){throw e.a=null,new k("network-request-failed")}))},t.Zb=function(){return!0},t.Ea=function(e){this.h.push(e)},t.Ra=function(e){X(this.h,(function(t){return t==e}))},(t=pu.prototype).get=function(e){return kt(this.a.getItem(e)).then((function(e){return e&&jr(e)}))},t.set=function(e,t){return kt(this.a.setItem(e,Nr(t)))},t.T=function(e){return kt(this.a.removeItem(e))},t.ca=function(){},t.ia=function(){};var vu,yu=[];function mu(e,t,n){de(e.a)&&e.b.addEventListener("message",e.f),void 0===e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function bu(e){this.a=e}function gu(e){this.c=e,this.b=!1,this.a=[]}function _u(e,t,n,r){var i,o,s,a,u=n||{},c=null;if(e.b)return Ct(Error("connection_unavailable"));var l=r?800:50,f="undefined"!=typeof MessageChannel?new MessageChannel:null;return new gt((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:f,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(a),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return wu(e,c),t})).s((function(t){throw wu(e,c),t}))}function wu(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,(function(e){return e==t}))}}function Eu(){if(!xu())throw new k("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=c.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.o=!1,this.h=null;var e=this;mr()&&self?(this.l=function(){var e=mr()?self:null;if(z(yu,(function(n){n.b==e&&(t=n)})),!t){var t=new du(e);yu.push(t)}return t}(),mu(this.l,"keyChanged",(function(t,n){return Pu(e).then((function(t){return 0<t.length&&z(e.a,(function(e){e(t)})),{keyProcessed:K(t,n.key)}}))})),mu(this.l,"ping",(function(){return kt(["keyChanged"])}))):function(){var e=c.navigator;return e&&e.serviceWorker?kt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).s((function(){return null})):kt(null)}().then((function(t){(e.h=t)&&(e.g=new gu(new bu(t)),_u(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&K(t[0].value,"keyChanged")&&(e.o=!0)})).s((function(){})))}))}function Su(e){return new gt((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new gt((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Su(e)})).then((function(e){t(e)})).s((function(e){n(e)}))}}))}function Ou(e){return e.v||(e.v=Su(e)),e.v}function xu(){try{return!!c.indexedDB}catch(Ye){return!1}}function ku(e){return e.objectStore("firebaseLocalStorage")}function Cu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Tu(e){return new gt((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Iu(e,t){return e.g&&e.h&&function(){var e=c.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?_u(e.g,"keyChanged",{key:t},e.o).then((function(){})).s((function(){})):kt()}function Pu(e){return Ou(e).then((function(e){var t=ku(Cu(e,!1));return t.getAll?Tu(t.getAll()):new gt((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r}))}function Au(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Nu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=kt().then((function(){if(xu()){var e=Rr(),r="__sak"+e;return vu||(vu=new Eu),(n=vu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).s((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){z(t.a,(function(t){t(e)}))})),e}))}function Du(){this.a={},this.type="inMemory"}function ju(){if(!function(){var e="Node"==br();if(!(e=Ru()||e&&n.INTERNAL.node&&n.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new k("internal-error","The LocalStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Ru()||n.INTERNAL.node.localStorage,this.type="localStorage"}function Ru(){try{var e=c.localStorage,t=Rr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Mu(){this.type="nullStorage"}function Lu(){if(!function(){var e="Node"==br();if(!(e=Fu()||e&&n.INTERNAL.node&&n.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==br())throw new k("internal-error","The SessionStorage compatibility library was not found.");throw new k("web-storage-unsupported")}this.a=Fu()||n.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Fu(){try{var e=c.sessionStorage,t=Rr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Uu(){var e={};e.Browser=Bu,e.Node=qu,e.ReactNative=zu,e.Worker=Hu,this.a=e[br()]}du.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];z(r,(function(t){i.push(kt().then((function(){return t(e.origin,e.data.data)})))})),It(i).then((function(r){var i=[];z(r,(function(e){i.push({fulfilled:e.Ob,value:e.value,reason:e.reason?e.reason.message:void 0})})),z(i,(function(e){for(var t in e)void 0===e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},bu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},gu.prototype.close=function(){for(;0<this.a.length;)wu(this,this.a[0]);this.b=!0},(t=Eu.prototype).set=function(e,t){var n,r=!1,i=this;return Ou(this).then((function(t){return Tu((t=ku(Cu(n=t,!0))).get(e))})).then((function(o){var s=ku(Cu(n,!0));return o?(o.value=t,Tu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,Tu(s.add(o)))})).then((function(){return i.c[e]=t,Iu(i,e)})).na((function(){r&&i.b--}))},t.get=function(e){return Ou(this).then((function(t){return Tu(ku(Cu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},t.T=function(e){var t=!1,n=this;return Ou(this).then((function(r){return t=!0,n.b++,Tu(ku(Cu(r,!0)).delete(e))})).then((function(){return delete n.c[e],Iu(n,e)})).na((function(){t&&n.b--}))},t.ca=function(e){0==this.a.length&&function(e){Au(e),function t(){e.f=setTimeout((function(){e.i=Pu(e).then((function(t){0<t.length&&z(e.a,(function(e){e(t)}))})).then((function(){t()})).s((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}()}(this),this.a.push(e)},t.ia=function(e){X(this.a,(function(t){return t==e})),0==this.a.length&&Au(this)},(t=Nu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},t.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},t.T=function(e){return this.b.then((function(t){return t.T(e)}))},t.ca=function(e){this.a.push(e)},t.ia=function(e){X(this.a,(function(t){return t==e}))},(t=Du.prototype).get=function(e){return kt(this.a[e])},t.set=function(e,t){return this.a[e]=t,kt()},t.T=function(e){return delete this.a[e],kt()},t.ca=function(){},t.ia=function(){},(t=ju.prototype).get=function(e){var t=this;return kt().then((function(){return jr(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return kt().then((function(){var r=Nr(t);null===r?n.T(e):n.a.setItem(e,r)}))},t.T=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},t.ca=function(e){c.window&&an(c.window,"storage",e)},t.ia=function(e){c.window&&ln(c.window,"storage",e)},(t=Mu.prototype).get=function(){return kt(null)},t.set=function(){return kt()},t.T=function(){return kt()},t.ca=function(){},t.ia=function(){},(t=Lu.prototype).get=function(e){var t=this;return kt().then((function(){return jr(t.a.getItem(e))}))},t.set=function(e,t){var n=this;return kt().then((function(){var r=Nr(t);null===r?n.T(e):n.a.setItem(e,r)}))},t.T=function(e){var t=this;return kt().then((function(){t.a.removeItem(e)}))},t.ca=function(){},t.ia=function(){};var Vu,Wu,Bu={D:ju,ab:Lu},qu={D:ju,ab:Lu},zu={D:pu,ab:Mu},Hu={D:ju,ab:Mu},Yu={qd:"local",NONE:"none",sd:"session"};function Gu(){var e=!(Mr(xr())||!yr()),t=Ar(),n=Cr();this.v=e,this.h=t,this.l=n,this.a={},Vu||(Vu=new Uu),e=Vu;try{this.g=!sr()&&Br()||!c.indexedDB?new e.a.D:new Nu(mr()?new Du:new e.a.D)}catch(i){this.g=new Du,this.h=!0}try{this.i=new e.a.ab}catch(i){this.i=new Du}this.m=new Du,this.f=E(this.Xb,this),this.b={}}function Ku(){return Wu||(Wu=new Gu),Wu}function Qu(e,t){switch(t){case"session":return e.i;case"none":return e.m;default:return e.g}}function Xu(e,t){return"firebase:"+e.name+(t?":"+t:"")}function $u(e,t,n){return n=Xu(t,n),"local"==t.D&&(e.b[n]=null),Qu(e,t.D).T(n)}function Ju(e){e.c&&(clearInterval(e.c),e.c=null)}function Zu(e){this.a=e,this.b=Ku()}(t=Gu.prototype).get=function(e,t){return Qu(this,e.D).get(Xu(e,t))},t.set=function(e,t,n){var r=Xu(e,n),i=this,o=Qu(this,e.D);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.D&&(i.b[r]=t)}))},t.addListener=function(e,t,n){e=Xu(e,t),this.l&&(this.b[e]=c.localStorage.getItem(e)),de(this.a)&&(Qu(this,"local").ca(this.f),this.h||(sr()||!Br())&&c.indexedDB||!this.l||function(e){Ju(e),e.c=setInterval((function(){for(var t in e.a){var n=c.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new Qt({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Xb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},t.removeListener=function(e,t,n){e=Xu(e,t),this.a[e]&&(X(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),de(this.a)&&(Qu(this,"local").ia(this.f),Ju(this))},t.Xb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=c.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.lb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?Qu(this,"local").ia(this.f):Ju(this),this.v)if(n=c.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?c.localStorage.setItem(t,r):c.localStorage.removeItem(t);else if(this.b[t]===r&&void 0===e.a.a)return;var o=this;n=function(){void 0===e.a.a&&o.b[t]===c.localStorage.getItem(t)||(o.b[t]=c.localStorage.getItem(t),o.lb(t))},Ke&&rt&&10==rt&&c.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else z(e,E(this.lb,this))},t.lb=function(e){this.a[e]&&z(this.a[e],(function(e){e()}))};var ec,tc={name:"authEvent",D:"local"};function nc(){this.a=Ku()}function rc(e,t){this.b=ic,this.f=c.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=c.Int32Array?new Int32Array(64):Array(64),void 0===ec&&(ec=c.Int32Array?new Int32Array(fc):fc),this.reset()}x(rc,(function(){this.b=-1}));for(var ic=64,oc=ic-1,sc=[],ac=0;ac<oc;ac++)sc[ac]=0;var uc=$(128,sc);function cc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+s|0}r=0|e.a[0],i=0|e.a[1];var a=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&f)+(0|ec[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+a|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function lc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"==typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(cc(e),i=0);else{if(!d(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(cc(e),i=0)}}e.c=i,e.g+=n}rc.prototype.reset=function(){this.g=this.c=0,this.a=c.Int32Array?new Int32Array(this.h):J(this.h)};var fc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function hc(){rc.call(this,8,pc)}x(hc,rc);var pc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function dc(e,t,n,r,i,o){this.m=e,this.i=t,this.l=n,this.v=r||null,this.u=i||null,this.o=o,this.h=t+":"+n,this.A=new nc,this.g=new Zu(this.h),this.f=null,this.b=[],this.a=this.c=null}function vc(e){return new k("invalid-cordova-configuration",e)}function yc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(i){}}function mc(e){return e.f||(e.f=e.la().then((function(){return new gt((function(t){e.Ea((function n(r){return t(r),e.Ra(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),bc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=to(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=jr(Mn(o=Ln(i),"firebaseError")||null))?C(o):null)?new Lo(r.c,r.b,null,null,o,null,r.S()):new Lo(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}yc(e,i)}))}var n=new Lo("unknown",null,null,null,new k("no-auth-event")),r=!1,i=On(500).then((function(){return bc(e).then((function(){r||yc(e,n)}))})),o=c.handleOpenURL;c.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(kr("BuildInfo.packageName",c).toLowerCase()+"://")&&t({url:e}),"function"==typeof o)try{o(e)}catch(n){console.error(n)}},Wo||(Wo=new Uo),function(e){var t=Wo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=kr("universalLinks.subscribe",c))&&e(null,t.b))}(t)}(e)}))}))),e.f}function bc(e){var t=null;return function(e){return e.b.get(tc,e.a).then((function(e){return Fo(e)}))}(e.g).then((function(n){return t=n,$u((n=e.g).b,tc,n.a)})).then((function(){return t}))}function gc(e){this.a=e,this.b=Ku()}(t=dc.prototype).la=function(){return this.Ia?this.Ia:this.Ia=(vr(void 0)?dr().then((function(){return new gt((function(e,t){var n=c.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ct(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof kr("universalLinks.subscribe",c))throw vc("cordova-universal-links-plugin-fix is not installed");if(void 0===kr("BuildInfo.packageName",c))throw vc("cordova-plugin-buildinfo is not installed");if("function"!=typeof kr("cordova.plugins.browsertab.openUrl",c))throw vc("cordova-plugin-browsertab is not installed");if("function"!=typeof kr("cordova.InAppBrowser.open",c))throw vc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new k("cordova-not-ready")}))},t.Nb=function(e,t){return t(new k("operation-not-supported-in-this-environment")),kt()},t.Lb=function(){return Ct(new k("operation-not-supported-in-this-environment"))},t.Zb=function(){return!1},t.Wb=function(){return!0},t.Sb=function(){return!0},t.Mb=function(e,t,n,r){if(this.c)return Ct(new k("redirect-operation-pending"));var i=this,o=c.document,s=null,a=null,u=null,l=null;return this.c=kt().then((function(){return Mo(t),mc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),s=new Lo(t,r,null,o,new k("no-auth-event"),null,i),a=kr("BuildInfo.packageName",c);if("string"!=typeof a)throw new k("invalid-cordova-configuration");var u=kr("BuildInfo.displayName",c),l={};if(xr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=a;else{if(!xr().toLowerCase().match(/android/))return Ct(new k("operation-not-supported-in-this-environment"));l.apn=a}u&&(l.appDisplayName=u),o=function(e){var t=new hc;lc(t,e),e=[];var n=8*t.g;56>t.c?lc(t,uc,56-t.c):lc(t,uc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(cc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return Y(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}(o),l.sessionId=o;var f=hu(e.m,e.i,e.l,t,n,null,r,e.v,l,e.u,i,e.o);return e.la().then((function(){var t=e.h;return e.A.a.set(tc,s.w(),t)})).then((function(){var t=kr("cordova.plugins.browsertab.isAvailable",c);if("function"!=typeof t)throw new k("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!=typeof(n=kr("cordova.plugins.browsertab.openUrl",c)))throw new k("invalid-cordova-configuration");n(f)}else{if("function"!=typeof(n=kr("cordova.InAppBrowser.open",c)))throw new k("invalid-cordova-configuration");t=xr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new gt((function(e,t){a=function(){var t=kr("cordova.plugins.browsertab.close",c);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(a),u=function(){s||(s=On(2e3).then((function(){t(new k("redirect-cancelled-by-user"))})))},l=function(){Ur()&&u()},o.addEventListener("resume",u,!1),xr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).s((function(e){return bc(i).then((function(){throw e}))}))})).na((function(){u&&o.removeEventListener("resume",u,!1),l&&o.removeEventListener("visibilitychange",l,!1),s&&s.cancel(),a&&i.Ra(a),i.c=null}))},t.Ea=function(e){this.b.push(e),mc(this).s((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Lo("unknown",null,null,null,new k("no-auth-event")),e(t))}))},t.Ra=function(e){X(this.b,(function(t){return t==e}))};var _c={name:"pendingRedirect",D:"session"};function wc(e){return $u(e.b,_c,e.a)}function Ec(e,t,n,r){this.i={},this.u=0,this.O=e,this.m=t,this.v=n,this.G=r,this.h=[],this.f=!1,this.l=E(this.o,this),this.b=new Lc,this.A=new Bc,this.g=new gc(Rc(this.m,this.v)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.A,this.c.linkViaPopup=this.A,this.c.reauthViaPopup=this.A,this.a=Sc(this.O,this.m,this.v,T,this.G)}function Sc(e,t,r,i,o){var s=n.SDK_VERSION||null;return vr()?new dc(e,t,r,s,i,o):new uu(e,t,r,s,i,o)}function Oc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.la().s((function(n){throw e.a==t&&e.reset(),n}))}function xc(e){e.a.Wb()&&Oc(e).s((function(t){var n=new Lo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Ac(t)&&e.o(n)})),e.a.Sb()||Fc(e.b)}function kc(e,t){K(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(_c,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?wc(e.g).then((function(){Oc(e).s((function(t){var n=new Lo("unknown",null,null,null,new k("operation-not-supported-in-this-environment"));Ac(t)&&e.o(n)}))})):xc(e)})).s((function(){xc(e)}))}function Cc(e,t){X(e.h,(function(e){return e==t}))}Ec.prototype.reset=function(){this.f=!1,this.a.Ra(this.l),this.a=Sc(this.O,this.m,this.v,null,this.G),this.i={}},Ec.prototype.o=function(e){if(!e)throw new k("invalid-auth-event");if(6e5<=O()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Eb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=O())),t=!0;break}}return Fc(this.b),t};var Tc=new Fr(2e3,1e4),Ic=new Fr(3e4,6e4);function Pc(e,t,n,r,i,o,s){return e.a.Lb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,s)}function Ac(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Nc(e,t,n,r,i){var o;return function(e){return e.b.set(_c,"pending",e.a)}(e.g).then((function(){return e.a.Mb(t,n,r,i).s((function(t){if(Ac(t))throw new k("operation-not-supported-in-this-environment");return o=t,wc(e.g).then((function(){throw o}))})).then((function(){return e.a.Zb()?new gt((function(){})):wc(e.g).then((function(){return e.qa()})).then((function(){})).s((function(){}))}))}))}function Dc(e,t,n,r,i){return e.a.Nb(r,(function(e){t.ma(n,null,e,i)}),Tc.get())}Ec.prototype.qa=function(){return this.b.qa()};var jc={};function Rc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Mc(e,t,n,r){var i=Rc(t,n,r);return jc[i]||(jc[i]=new Ec(e,t,n,r)),jc[i]}function Lc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Fc(e){e.g||(e.g=!0,Wc(e,!1,null,null))}function Uc(e){e.g&&!e.i&&Wc(e,!1,null,null)}function Vc(e,t){if(e.b=function(){return kt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Wc(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ct(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):Vc(e,n):Vc(e,{user:null}),e.f=[],e.c=[]}function Bc(){}function qc(){this.hb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.hb},set:function(e){this.hb=e},enumerable:!1})}function zc(e,t){this.a=t,Gr(this,"verificationId",e)}function Hc(e,t,n,r){return new Do(e).eb(t,n).then((function(e){return new zc(e,r)}))}function Yc(e){var t=Wi(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new k("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Kr(this,{token:e,expirationTime:Wr(1e3*t.exp),authTime:Wr(1e3*t.auth_time),issuedAtTime:Wr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function Gc(e,t,n){var r=t&&t[Qc];if(!r)throw new k("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ve(t),this.g=n,this.c=new no(null,r),this.b=[];var i=this;z(t[Kc]||[],(function(e){(e=Jr(e))&&i.b.push(e)})),Gr(this,"auth",this.a),Gr(this,"session",this.c),Gr(this,"hints",this.b)}Lc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Lc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Wc(this,!0,null,e.a),kt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,s=t.S(),a=!!t.c.match(/Redirect$/);n(r,i,s,o).then((function(t){Wc(e,a,t,null)})).s((function(t){Wc(e,a,null,t)}))}(this,e,t):Ct(new k("invalid-auth-event")):(Wc(this,!1,null,null),kt())}else Ct(new k("invalid-auth-event"))},Lc.prototype.qa=function(){var e=this;return new gt((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new k("timeout");e.a&&e.a.cancel(),e.a=On(Ic.get()).then((function(){e.b||(e.g=!0,Wc(e,!0,null,t))}))}(e))}))},Bc.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.ma(e.c,null,e.a,e.b),kt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.S(),e.i).then((function(e){t.ma(r,e,null,n)})).s((function(e){t.ma(r,null,e,n)}))}(e,t):Ct(new k("invalid-auth-event"))}else Ct(new k("invalid-auth-event"))},zc.prototype.confirm=function(e){return e=jo(this.verificationId,e),this.a(e)};var Kc="mfaInfo",Qc="mfaPendingCredential";function Xc(e,t,n,r){k.call(this,"multi-factor-auth-required",r,t),this.b=new Gc(e,t,n),Gr(this,"resolver",this.b)}function $c(e,t,n){if(e&&y(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new Xc(t,e.serverResponse,n,e.message)}catch(i){}return null}function Jc(){}function Zc(e){Gr(this,"factorId",e.fa),this.a=e}function el(e){if(Zc.call(this,e),this.a.fa!=Do.PROVIDER_ID)throw new k("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function tl(e,t){for(var n in Kt.call(this,e),t)this[n]=t[n]}function nl(e,t){this.a=e,this.b=[],this.c=E(this.xc,this),an(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&z(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ti]=e.uid),e.displayName&&(r[Zr]=e.displayName),e.enrollmentTime&&(r[ei]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ni]=e.phoneNumber);try{t=new ri(r)}catch(o){}e=t}else e=null;e&&n.push(e)})),rl(this,n)}function rl(e,t){e.b=t,Gr(e,"enrolledFactors",t)}function il(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ol(e){this.c=e,this.b=this.a=null}function sl(e){return e.b&&1e3*e.b.c||0}function al(e,t){var n=t.refreshToken;e.b=Vi(t[Gs]||""),e.a=n}function ul(e,t){this.a=e||null,this.b=t||null,Kr(this,{lastSignInTime:Wr(t||null),creationTime:Wr(e||null)})}function cl(e,t,n,r,i,o){Kr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function ll(e,t,r){this.G=[],this.l=e.apiKey,this.m=e.appName,this.o=e.authDomain||null;var i=n.SDK_VERSION?Or(n.SDK_VERSION):null;this.a=new Hs(this.l,N(T),i),e.emulatorConfig&&Zs(this.a,e.emulatorConfig),this.b=new ol(this.a),bl(this,t[Gs]),al(this.b,t),Gr(this,"refreshToken",this.b.a),wl(this,r||{}),gn.call(this),this.P=!1,this.o&&Tr()&&(this.i=Mc(this.o,this.l,this.m)),this.R=[],this.f=null,this.u=function(e){return new il((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=sl(e.b)-O()-3e5;return 0<t?t:0}))}(this),this.$=E(this.gb,this);var o=this;this.pa=null,this.Ba=function(e){o.wa(e.h)},this.ba=null,this.za=function(e){Zs(o.a,e.c)},this.W=null,this.X=[],this.Aa=function(e){pl(o,e.f)},this.aa=null,this.N=new nl(this,r),Gr(this,"multiFactor",this.N)}function fl(e,t){e.ba&&ln(e.ba,"languageCodeChanged",e.Ba),(e.ba=t)&&an(t,"languageCodeChanged",e.Ba)}function hl(e,t){e.W&&ln(e.W,"emulatorConfigChanged",e.za),(e.W=t)&&an(t,"emulatorConfigChanged",e.za)}function pl(e,t){e.X=t,ta(e.a,n.SDK_VERSION?Or(n.SDK_VERSION,e.X):null)}function dl(e,t){e.aa&&ln(e.aa,"frameworkChanged",e.Aa),(e.aa=t)&&an(t,"frameworkChanged",e.Aa)}function vl(e){try{return n.app(e.m).auth()}catch(t){throw new k("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function yl(e){e.A||e.u.b||(e.u.start(),ln(e,"tokenChanged",e.$),an(e,"tokenChanged",e.$))}function ml(e){ln(e,"tokenChanged",e.$),e.u.stop()}function bl(e,t){e.ya=t,Gr(e,"_lat",t)}function gl(e){for(var t=[],n=0;n<e.R.length;n++)t.push(e.R[n](e));return It(t).then((function(){return e}))}function _l(e){e.i&&!e.P&&(e.P=!0,kc(e.i,e))}function wl(e,t){Kr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new ul(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function El(){}function Sl(e){return kt().then((function(){if(e.A)throw new k("app-deleted")}))}function Ol(e){return Y(e.providerData,(function(e){return e.providerId}))}function xl(e,t){t&&(kl(e,t.providerId),e.providerData.push(t))}function kl(e,t){X(e.providerData,(function(e){return e.providerId==t}))}function Cl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&Gr(e,t,n)}function Tl(e,t){e!=t&&(Kr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?Gr(e,"metadata",function(e){return new ul(e.a,e.b)}(t.metadata)):Gr(e,"metadata",new ul),z(t.providerData,(function(t){xl(e,t)})),function(e,t){e.b=t.b,e.a=t.a}(e.b,t.b),Gr(e,"refreshToken",e.b.a),rl(e.N,t.N.b))}function Il(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return $a(e.a,Ta,{idToken:t}).then(E(e.Jc,e))}(e,t).then((function(){return n||Cl(e,"isAnonymous",!1),t}))}))}function Pl(e,t){t[Gs]&&e.ya!=t[Gs]&&(al(e.b,t),e.dispatchEvent(new tl("tokenChanged")),bl(e,t[Gs]),Cl(e,"refreshToken",e.b.a))}function Al(e,t){return Il(e).then((function(){if(K(Ol(e),t))return gl(e).then((function(){throw new k("provider-already-linked")}))}))}function Nl(e,t,n){return Qr({user:e,credential:Ro(t),additionalUserInfo:t=Yi(t),operationType:n})}function Dl(e,t){return Pl(e,t),e.reload().then((function(){return e}))}function jl(e,t,r,i,o){if(!Tr())return Ct(new k("operation-not-supported-in-this-environment"));if(e.f&&!o)return Ct(e.f);var s=Hi(r.providerId),a=Rr(e.uid+":::"),u=null;(!Ar()||yr())&&e.o&&r.isOAuthProvider&&(u=hu(e.o,e.l,e.m,t,r,null,a,n.SDK_VERSION||null,null,null,e.tenantId));var c=fr(u,s&&s.ua,s&&s.ta);return i=i().then((function(){if(Ml(e),!o)return e.I().then((function(){}))})).then((function(){return Pc(e.i,c,t,r,a,!!u,e.tenantId)})).then((function(){return new gt((function(n,r){e.ma(t,null,new k("cancelled-popup-request"),e.h||null),e.g=n,e.O=r,e.h=a,e.c=Dc(e.i,e,t,c,a)}))})).then((function(e){return c&&lr(c),e?Qr(e):null})).s((function(e){throw c&&lr(c),e})),Ll(e,i,o)}function Rl(e,t,n,r,i){if(!Tr())return Ct(new k("operation-not-supported-in-this-environment"));if(e.f&&!i)return Ct(e.f);var o=null,s=Rr(e.uid+":::");return r=r().then((function(){if(Ml(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=s,gl(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(Vl,e.w(),t.a)),t})).then((function(){return Nc(e.i,t,n,s,e.tenantId)})).s((function(t){if(o=t,e.ha)return Wl(e.ha);throw o})).then((function(){if(o)throw o})),Ll(e,r,i)}function Ml(e){if(!e.i||!e.P){if(e.i&&!e.P)throw new k("internal-error");throw new k("auth-domain-config-required")}}function Ll(e,t,n){var r=function(e,t,n){return e.f&&!n?(t.cancel(),Ct(e.f)):t.s((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.f||e.dispatchEvent(new tl("userInvalidated")),e.f=t),t}))}(e,t,n);return e.G.push(r),r.na((function(){Q(e.G,r)})),r.s((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=$c(t.w(),vl(e),E(e.ic,e))),n||t}))}function Fl(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[Gs]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=new ll(t,n,e);return e.providerData&&z(e.providerData,(function(e){e&&xl(r,Qr(e))})),e.redirectEventId&&(r.ga=e.redirectEventId),r}function Ul(e){this.a=e,this.b=Ku()}Gc.prototype.Qc=function(e){var t=this;return e.rb(this.a.a,this.c).then((function(e){var n=ve(t.f);return delete n[Kc],delete n[Qc],me(n,e),t.g(n)}))},x(Xc,k),Jc.prototype.rb=function(e,t,n){return t.type==ro?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),me(n,{phoneVerificationInfo:No(e.a)}),$a(t,ka,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return me(n={mfaPendingCredential:n},{phoneVerificationInfo:No(e.a)}),$a(t,Ca,n)}))}(this,e,t)},x(Zc,Jc),x(el,Zc),x(tl,Kt),(t=nl.prototype).xc=function(e){rl(this,function(e){var t=[];return z(e.mfaInfo||[],(function(e){(e=Jr(e))&&t.push(e)})),t}(e.gd))},t.Qb=function(){return this.a.I().then((function(e){return new no(e,null)}))},t.ec=function(e,t){var n=this,r=this.a.a;return this.Qb().then((function(n){return e.rb(r,n,t)})).then((function(e){return Pl(n.a,e),n.a.reload()}))},t.ad=function(e){var t=this,n="string"==typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return $a(r,Xa,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return rl(t,r),Pl(t.a,e),t.a.reload().s((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},t.w=function(){return{multiFactor:{enrolledFactors:Y(this.b,(function(e){return e.w()}))}}},il.prototype.start=function(){this.a=this.c,function e(t,n){t.stop(),t.b=On(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,n)).then((function(){return e=c.document,t=null,Ur()||!e?kt():new gt((function(n){t=function(){Ur()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).s((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}));var e,t})).then((function(){return t.h()})).then((function(){e(t,!0)})).s((function(n){t.i(n)&&e(t,!1)}))}(this,!0)},il.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ol.prototype.w=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:sl(this)}},ol.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ct(new k("user-token-expired")):e||!this.b||O()>sl(this)-3e4?this.a?function(e,t){return function(e,t){return new gt((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?na(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(Za(e)):e.access_token&&e.refresh_token?n(e):r(new k("internal-error")):r(new k("network-request-failed"))}),"POST",Qn(t).toString(),e.g,e.v.get()):r(new k("internal-error"))}))}(e.c,t).then((function(t){return e.b=Vi(t.access_token),e.a=t.refresh_token,{accessToken:e.b.toString(),refreshToken:e.a}})).s((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}(this,{grant_type:"refresh_token",refresh_token:this.a}):kt(null):kt({accessToken:this.b.toString(),refreshToken:this.a})},ul.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},x(ll,gn),ll.prototype.wa=function(e){this.pa=e,Js(this.a,e)},ll.prototype.ka=function(){return this.pa},ll.prototype.Ga=function(){return J(this.X)},ll.prototype.gb=function(){this.u.b&&(this.u.stop(),this.u.start())},Gr(ll.prototype,"providerId","firebase"),(t=ll.prototype).reload=function(){var e=this;return Ll(this,Sl(this).then((function(){return Il(e).then((function(){return gl(e)})).then(El)})))},t.nc=function(e){return this.I(e).then((function(e){return new Yc(e)}))},t.I=function(e){var t=this;return Ll(this,Sl(this).then((function(){return t.b.getToken(e)})).then((function(e){if(!e)throw new k("internal-error");return e.accessToken!=t.ya&&(bl(t,e.accessToken),t.dispatchEvent(new tl("tokenChanged"))),Cl(t,"refreshToken",e.refreshToken),e.accessToken})))},t.Jc=function(e){if(!(e=e.users)||!e.length)throw new k("internal-error");wl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?Y(e,(function(e){return new cl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)xl(this,t[n]);Cl(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new tl("userReloaded",{gd:e}))},t.Kc=function(e){return Hr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.sb(e)},t.sb=function(e){var t=this,n=null;return Ll(this,e.c(this.a,this.uid).then((function(e){return Pl(t,e),n=Nl(t,e,"reauthenticate"),t.f=null,t.reload()})).then((function(){return n})),!0)},t.Bc=function(e){return Hr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.pb(e)},t.pb=function(e){var t=this,n=null;return Ll(this,Al(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Nl(t,e,"link"),Dl(t,e)})).then((function(){return n})))},t.Cc=function(e,t){var n=this;return Ll(this,Al(this,"phone").then((function(){return Hc(vl(n),e,t,E(n.pb,n))})))},t.Lc=function(e,t){var n=this;return Ll(this,kt().then((function(){return Hc(vl(n),e,t,E(n.sb,n))})),!0)},t.Ab=function(e){var t=this;return Ll(this,this.I().then((function(n){return t.a.Ab(n,e)})).then((function(e){return Pl(t,e),t.reload()})))},t.dd=function(e){var t=this;return Ll(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Pl(t,e),t.reload()})))},t.Bb=function(e){var t=this;return Ll(this,this.I().then((function(n){return t.a.Bb(n,e)})).then((function(e){return Pl(t,e),t.reload()})))},t.Cb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Sl(this);var t=this;return Ll(this,this.I().then((function(n){return t.a.Cb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Pl(t,e),Cl(t,"displayName",e.displayName||null),Cl(t,"photoURL",e.photoUrl||null),z(t.providerData,(function(e){"password"===e.providerId&&(Gr(e,"displayName",t.displayName),Gr(e,"photoURL",t.photoURL))})),gl(t)})).then(El))},t.bd=function(e){var t=this;return Ll(this,Il(this).then((function(n){return K(Ol(t),e)?function(e,t,n){return $a(e,Sa,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return z(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),z(Ol(t),(function(e){n[e]||kl(t,e)})),n[Do.PROVIDER_ID]||Gr(t,"phoneNumber",null),gl(t)})):gl(t).then((function(){throw new k("no-such-provider")}))})))},t.delete=function(){var e=this;return Ll(this,this.I().then((function(t){return $a(e.a,Ea,{idToken:t})})).then((function(){e.dispatchEvent(new tl("userDeleted"))}))).then((function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");fl(e,null),hl(e,null),dl(e,null),e.G=[],e.A=!0,ml(e),Gr(e,"refreshToken",null),e.i&&Cc(e.i,e)}))},t.Eb=function(e,t){return!!("linkViaPopup"==e&&(this.h||null)==t&&this.g||"reauthViaPopup"==e&&(this.h||null)==t&&this.g||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},t.ma=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.h||null)||(n&&this.O?this.O(n):t&&!n&&this.g&&this.g(t),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.h||null)?E(this.Jb,this):"reauthViaPopup"==e&&t==(this.h||null)?E(this.Kb,this):"linkViaRedirect"==e&&(this.ga||null)==t?E(this.Jb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?E(this.Kb,this):null},t.Dc=function(e){var t=this;return jl(this,"linkViaPopup",e,(function(){return Al(t,e.providerId).then((function(){return gl(t)}))}),!1)},t.Mc=function(e){return jl(this,"reauthViaPopup",e,(function(){return kt()}),!0)},t.Ec=function(e){var t=this;return Rl(this,"linkViaRedirect",e,(function(){return Al(t,e.providerId)}),!1)},t.Nc=function(e){return Rl(this,"reauthViaRedirect",e,(function(){return kt()}),!0)},t.Jb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ll(this,this.I().then((function(n){return va(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Nl(i,e,"link"),Dl(i,e)})).then((function(){return o})))},t.Kb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Ll(this,kt().then((function(){return so(ya(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Nl(i,e,"reauthenticate"),Pl(i,e),i.f=null,i.reload()})).then((function(){return o})),!0)},t.tb=function(e){var t=this,n=null;return Ll(this,this.I().then((function(t){return n=t,void 0===e||de(e)?{}:Li(new Ci(e))})).then((function(e){return t.a.tb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},t.Db=function(e,t){var n=this,r=null;return Ll(this,this.I().then((function(e){return r=e,void 0===t||de(t)?{}:Li(new Ci(t))})).then((function(t){return n.a.Db(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},t.ic=function(e){var t=null,n=this;return Ll(this,e=so(kt(e),n.uid).then((function(e){return t=Nl(n,e,"reauthenticate"),Pl(n,e),n.f=null,n.reload()})).then((function(){return t})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.o,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&me(e,this.metadata.w()),z(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),me(e,this.N.w()),e};var Vl={name:"redirectUser",D:"session"};function Wl(e){return $u(e.b,Vl,e.a)}function Bl(e){this.a=e,this.b=Ku(),this.c=null,this.f=function(e){var t=Hl("local"),n=Hl("session"),r=Hl("none");return function(e,t,n){var r=Xu(t,n),i=Qu(e,t.D);return e.get(t,n).then((function(o){var s=null;try{s=jr(c.localStorage.getItem(r))}catch(u){}if(s&&!o)return c.localStorage.removeItem(r),e.set(t,s,n);s&&o&&"localStorage"!=i.type&&c.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(zl,e.a).then((function(e){return e?Hl(e):t}))}))}))})).then((function(t){return e.c=t,ql(e,t.D)})).s((function(){e.c||(e.c=t)}))}(this),this.b.addListener(Hl("local"),this.a,E(this.g,this))}function ql(e,t){var n,r=[];for(n in Yu)Yu[n]!==t&&r.push($u(e.b,Hl(Yu[n]),e.a));return r.push($u(e.b,zl,e.a)),function(e){return new gt((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},s=function(e){n(e)},a=0;a<e.length;a++)Tt(e[a],S(o,a),s);else t(i)}))}(r)}Bl.prototype.g=function(){var e=this,t=Hl("local");Ql(this,(function(){return kt().then((function(){return e.c&&"local"!=e.c.D?e.b.get(t,e.a):null})).then((function(n){if(n)return ql(e,"local").then((function(){e.c=t}))}))}))};var zl={name:"persistence",D:"session"};function Hl(e){return{name:"authUser",D:e}}function Yl(e,t){return Ql(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function Gl(e){return Ql(e,(function(){return $u(e.b,e.c,e.a)}))}function Kl(e,t,n){return Ql(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),Fl(e||{})}))}))}function Ql(e,t){return e.f=e.f.then(t,t),e.f}function Xl(e){if(this.m=!1,Gr(this,"settings",new qc),Gr(this,"app",e),!of(this).options||!of(this).options.apiKey)throw new k("invalid-api-key");e=n.SDK_VERSION?Or(n.SDK_VERSION):null,this.a=new Hs(of(this).options&&of(this).options.apiKey,N(T),e),this.R=[],this.u=[],this.P=[],this.ac=n.INTERNAL.createSubscribe(E(this.yc,this)),this.X=void 0,this.bc=n.INTERNAL.createSubscribe(E(this.zc,this)),nf(this,null),this.l=new Bl(of(this).options.apiKey+":"+of(this).name),this.G=new Ul(of(this).options.apiKey+":"+of(this).name),this.$=cf(this,function(e){var t=of(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(Vl,e.a).then((function(e){return e&&t&&(e.authDomain=t),Fl(e||{})}))}(e.G,of(e).options.authDomain).then((function(t){return(e.o=t)&&(t.ha=e.G),Wl(e.G)}));return cf(e,t)}(e).then((function(){return Kl(e.l,t,e.f)})).then((function(t){return t?(t.ha=e.G,e.o&&(e.o.ga||null)==(t.ga||null)?t:t.reload().then((function(){return Yl(e.l,t).then((function(){return t}))})).s((function(n){return"auth/network-request-failed"==n.code?t:Gl(e.l)}))):null})).then((function(t){nf(e,t||null)}));return cf(e,n)}(this)),this.i=cf(this,function(e){return e.$.then((function(){return tf(e)})).s((function(){})).then((function(){if(!e.m)return e.pa()})).s((function(){})).then((function(){if(!e.m){e.ba=!0;var t=e.l;t.b.addListener(Hl("local"),t.a,e.pa)}}))}(this)),this.ba=!1,this.pa=E(this.Yc,this),this.Ba=E(this.da,this),this.ya=E(this.kc,this),this.za=E(this.vc,this),this.Aa=E(this.wc,this),this.b=null,function(e){var t=of(e).options.authDomain,n=of(e).options.apiKey;t&&Tr()&&(e.gb=e.$.then((function(){if(!e.m){if(e.b=Mc(t,n,of(e).name,e.f),kc(e.b,e),sf(e)&&_l(sf(e)),e.o){_l(e.o);var r=e.o;r.wa(e.ka()),fl(r,e),pl(r=e.o,e.N),dl(r,e),Zs((r=e.o).a,e.f),hl(r,e),e.o=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Fc,this),this.A=0,gn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ka()},set:function(e){this.wa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.S()},set:function(e){this.xb(e)},enumerable:!1}),e.W=null}(this),this.N=[],this.f=null}function $l(e){Kt.call(this,"languageCodeChanged"),this.h=e}function Jl(e){Kt.call(this,"emulatorConfigChanged"),this.c=e}function Zl(e){Kt.call(this,"frameworkChanged"),this.f=e}function ef(e){return e.gb||Ct(new k("auth-domain-config-required"))}function tf(e){if(!Tr())return Ct(new k("operation-not-supported-in-this-environment"));var t=ef(e).then((function(){return e.b.qa()})).then((function(e){return e?Qr(e):null}));return cf(e,t)}function nf(e,t){sf(e)&&(function(e,t){X(e.R,(function(e){return e==t}))}(sf(e),e.Ba),ln(sf(e),"tokenChanged",e.ya),ln(sf(e),"userDeleted",e.za),ln(sf(e),"userInvalidated",e.Aa),ml(sf(e))),t&&(t.R.push(e.Ba),an(t,"tokenChanged",e.ya),an(t,"userDeleted",e.za),an(t,"userInvalidated",e.Aa),0<e.A&&yl(t)),Gr(e,"currentUser",t),t&&(t.wa(e.ka()),fl(t,e),pl(t,e.N),dl(t,e),Zs(t.a,e.f),hl(t,e))}function rf(e,t){var n=null,r=null;return cf(e,t.then((function(t){return n=Ro(t),r=Yi(t),function(e,t){var n={};return n.apiKey=of(e).options.apiKey,n.authDomain=of(e).options.authDomain,n.appName=of(e).name,e.f&&(n.emulatorConfig=e.f),e.$.then((function(){return function(e,t,n,r){var i=new ll(e,t);return n&&(i.ha=n),r&&pl(i,r),i.reload().then((function(){return i}))}(n,t,e.G,e.Ga())})).then((function(t){return sf(e)&&t.uid==sf(e).uid?(Tl(sf(e),t),e.da(t)):(nf(e,t),_l(t),e.da(t))})).then((function(){uf(e)}))}(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=$c(t.w(),e,E(e.jc,e))),n||t})).then((function(){return Qr({user:sf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function of(e){return e.app}function sf(e){return e.currentUser}function af(e){return sf(e)&&sf(e)._lat||null}function uf(e){if(e.ba){for(var t=0;t<e.u.length;t++)e.u[t]&&e.u[t](af(e));if(e.X!==e.getUid()&&e.P.length)for(e.X=e.getUid(),t=0;t<e.P.length;t++)e.P[t]&&e.P[t](af(e))}}function cf(e,t){return e.R.push(t),t.na((function(){Q(e.R,t)})),t}function lf(){}function ff(){this.a={},this.b=1e12}Bl.prototype.wb=function(e){var t=null,n=this;return function(e){var t=new k("invalid-persistence-type"),n=new k("unsupported-persistence-type");e:{for(r in Yu)if(Yu[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch(br()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!xu()&&"none"!==e)throw n;break;default:if(!Cr()&&"none"!==e)throw n}}(e),Ql(this,(function(){return e!=n.c.D?n.b.get(n.c,n.a).then((function(r){return t=r,ql(n,e)})).then((function(){if(n.c=Hl(e),t)return n.b.set(n.c,t,n.a)})):kt()}))},x(Xl,gn),x($l,Kt),x(Jl,Kt),x(Zl,Kt),(t=Xl.prototype).wb=function(e){return cf(this,e=this.l.wb(e))},t.wa=function(e){this.aa===e||this.m||(this.aa=e,Js(this.a,this.aa),this.dispatchEvent(new $l(this.ka())))},t.ka=function(){return this.aa},t.ed=function(){var e=c.navigator;this.wa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},t.fd=function(e){if(!this.f){if(!/^https?:\/\//.test(e))throw new k("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");Vr("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),c.document&&dr().then((function(){var e=c.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#ff0000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),c.document.body.appendChild(e)})),this.f={url:e},this.settings.hb=!0,Zs(this.a,this.f),this.dispatchEvent(new Jl(this.f))}},t.Fc=function(e){this.N.push(e),ta(this.a,n.SDK_VERSION?Or(n.SDK_VERSION,this.N):null),this.dispatchEvent(new Zl(this.N))},t.Ga=function(){return J(this.N)},t.xb=function(e){this.W===e||this.m||(this.W=e,this.a.b=this.W)},t.S=function(){return this.W},t.toJSON=function(){return{apiKey:of(this).options.apiKey,authDomain:of(this).options.authDomain,appName:of(this).name,currentUser:sf(this)&&sf(this).w()}},t.Eb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.h==t&&!!this.g;default:return!1}},t.ma=function(e,t,n,r){"signInViaPopup"==e&&this.h==r&&(n&&this.O?this.O(n):t&&!n&&this.g&&this.g(t),this.c&&(this.c.cancel(),this.c=null),delete this.g,delete this.O)},t.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.h==t&&this.g?E(this.hc,this):null},t.hc=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return rf(i,da(i.a,o))}))},t.Wc=function(e){if(!Tr())return Ct(new k("operation-not-supported-in-this-environment"));var t=this,r=Hi(e.providerId),i=Rr(),o=null;(!Ar()||yr())&&of(this).options.authDomain&&e.isOAuthProvider&&(o=hu(of(this).options.authDomain,of(this).options.apiKey,of(this).name,"signInViaPopup",e,null,i,n.SDK_VERSION||null,null,null,this.S(),this.f));var s=fr(o,r&&r.ua,r&&r.ta);return cf(this,r=ef(this).then((function(n){return Pc(n,s,"signInViaPopup",e,i,!!o,t.S())})).then((function(){return new gt((function(e,n){t.ma("signInViaPopup",null,new k("cancelled-popup-request"),t.h),t.g=e,t.O=n,t.h=i,t.c=Dc(t.b,t,"signInViaPopup",s,i)}))})).then((function(e){return s&&lr(s),e?Qr(e):null})).s((function(e){throw s&&lr(s),e})))},t.Xc=function(e){if(!Tr())return Ct(new k("operation-not-supported-in-this-environment"));var t=this;return cf(this,ef(this).then((function(){return Ql(e=t.l,(function(){return e.b.set(zl,e.c.D,e.a)}));var e})).then((function(){return Nc(t.b,"signInViaRedirect",e,void 0,t.S())})))},t.qa=function(){var e=this;return tf(this).then((function(t){return e.b&&Uc(e.b.b),t})).s((function(t){throw e.b&&Uc(e.b.b),t}))},t.cd=function(e){if(!e)return Ct(new k("null-user"));if(this.W!=e.tenantId)return Ct(new k("tenant-id-mismatch"));var t=this,n={};n.apiKey=of(this).options.apiKey,n.authDomain=of(this).options.authDomain,n.appName=of(this).name;var r=function(e,t,n,r){var i=e.b,o={};return o[Gs]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new ll(t||{apiKey:e.l,authDomain:e.o,appName:e.m},o),n&&(t.ha=n),r&&pl(t,r),Tl(t,e),t}(e,n,t.G,t.Ga());return cf(this,this.i.then((function(){if(of(t).options.apiKey!=e.l)return r.reload()})).then((function(){return sf(t)&&e.uid==sf(t).uid?(Tl(sf(t),e),t.da(e)):(nf(t,r),_l(r),t.da(r))})).then((function(){uf(t)})))},t.zb=function(){var e=this;return cf(this,this.i.then((function(){return e.b&&Uc(e.b.b),sf(e)?(nf(e,null),Gl(e.l).then((function(){uf(e)}))):kt()})))},t.Yc=function(){var e=this;return Kl(this.l,of(this).options.authDomain).then((function(t){if(!e.m){var n;if(n=sf(e)&&t){n=sf(e).uid;var r=t.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tl(sf(e),t),sf(e).I();(sf(e)||t)&&(nf(e,t),t&&(_l(t),t.ha=e.G),e.b&&kc(e.b,e),uf(e))}}))},t.da=function(e){return Yl(this.l,e)},t.kc=function(){uf(this),this.da(sf(this))},t.vc=function(){this.zb()},t.wc=function(){this.zb()},t.jc=function(e){var t=this;return this.i.then((function(){return rf(t,kt(e))}))},t.yc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(sf(t))}))},t.zc=function(e){var t=this;!function(e,t){e.P.push(t),cf(e,e.i.then((function(){!e.m&&K(e.P,t)&&e.X!==e.getUid()&&(e.X=e.getUid(),t(af(e)))})))}(this,(function(){e.next(sf(t))}))},t.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"==typeof e?e(sf(r)):"function"==typeof e.next&&e.next(sf(r))})),this.ac(e,t,n)},t.Gc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"==typeof e?e(sf(r)):"function"==typeof e.next&&e.next(sf(r))})),this.bc(e,t,n)},t.mc=function(e){var t=this;return cf(this,this.i.then((function(){return sf(t)?sf(t).I(e).then((function(e){return{accessToken:e}})):null})))},t.Sc=function(e){var t=this;return this.i.then((function(){return rf(t,$a(t.a,Ha,{token:e}))})).then((function(e){var n=e.user;return Cl(n,"isAnonymous",!1),t.da(n),e}))},t.Tc=function(e,t){var n=this;return this.i.then((function(){return rf(n,$a(n.a,Ya,{email:e,password:t}))}))},t.dc=function(e,t){var n=this;return this.i.then((function(){return rf(n,$a(n.a,_a,{email:e,password:t}))}))},t.Za=function(e){var t=this;return this.i.then((function(){return rf(t,e.ja(t.a))}))},t.Rc=function(e){return Hr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Za(e)},t.yb=function(){var e=this;return this.i.then((function(){var t=sf(e);if(t&&t.isAnonymous){var n=Qr({providerId:null,isNewUser:!1});return Qr({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return rf(e,e.a.yb()).then((function(t){var n=t.user;return Cl(n,"isAnonymous",!0),e.da(n),t}))}))},t.getUid=function(){return sf(this)&&sf(this).uid||null},t.cc=function(e){this.addAuthTokenListener(e),this.A++,0<this.A&&sf(this)&&yl(sf(this))},t.Oc=function(e){var t=this;z(this.u,(function(n){n==e&&t.A--})),0>this.A&&(this.A=0),0==this.A&&sf(this)&&ml(sf(this)),this.removeAuthTokenListener(e)},t.addAuthTokenListener=function(e){var t=this;this.u.push(e),cf(this,this.i.then((function(){t.m||K(t.u,e)&&e(af(t))})))},t.removeAuthTokenListener=function(e){X(this.u,(function(t){return t==e}))},t.delete=function(){this.m=!0;for(var e=0;e<this.R.length;e++)this.R[e].cancel("app-deleted");return this.R=[],this.l&&(e=this.l).b.removeListener(Hl("local"),e.a,this.pa),this.b&&(Cc(this.b,this),Uc(this.b.b)),Promise.resolve()},t.gc=function(e){return cf(this,function(e,t){return $a(e,wa,{identifier:t,continueUri:Ir()?ar():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},t.Ac=function(e){return!!Io(e)},t.vb=function(e,t){var n=this;return cf(this,kt().then((function(){var e=new Ci(t);if(!e.c)throw new k("argument-error",Pi+" must be true when sending sign in link to email");return Li(e)})).then((function(t){return n.a.vb(e,t)})).then((function(){})))},t.hd=function(e){return this.Qa(e).then((function(e){return e.data.email}))},t.mb=function(e,t){return cf(this,this.a.mb(e,t).then((function(){})))},t.Qa=function(e){return cf(this,this.a.Qa(e).then((function(e){return new ii(e)})))},t.ib=function(e){return cf(this,this.a.ib(e).then((function(){})))},t.ub=function(e,t){var n=this;return cf(this,kt().then((function(){return void 0===t||de(t)?{}:Li(new Ci(t))})).then((function(t){return n.a.ub(e,t)})).then((function(){})))},t.Vc=function(e,t){return cf(this,Hc(this,e,t,E(this.Za,this)))},t.Uc=function(e,t){var n=this;return cf(this,kt().then((function(){var r=t||ar(),i=To(e,r);if(!(r=Io(r)))throw new k("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new k("tenant-id-mismatch");return n.Za(i)})))},lf.prototype.render=function(){},lf.prototype.reset=function(){},lf.prototype.getResponse=function(){},lf.prototype.execute=function(){};var hf=null;function pf(e,t){return(t=df(t))&&e.a[t]||null}function df(e){return(e=void 0===e?1e12:e)?e.toString():null}function vf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=at(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():an(this.f,"click",this.i)}function yf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function mf(){}function bf(){}ff.prototype.render=function(e,t){return this.a[this.b.toString()]=new vf(e,t),this.b++},ff.prototype.reset=function(e){var t=pf(this,e);e=df(e),t&&e&&(t.delete(),delete this.a[e])},ff.prototype.getResponse=function(e){return(e=pf(this,e))?e.getResponse():null},ff.prototype.execute=function(e){(e=pf(this,e))&&e.execute()},vf.prototype.getResponse=function(){return yf(this),this.b},vf.prototype.execute=function(){yf(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(i){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(i){}e.h&&e.execute()}),6e4)}),500))},vf.prototype.delete=function(){yf(this),this.g=!0,clearTimeout(this.a),this.a=null,ln(this.f,"click",this.i)},Gr(mf,"FACTOR_ID","phone"),bf.prototype.g=function(){return hf||(hf=new ff),kt(hf)},bf.prototype.c=function(){};var gf=null;function _f(){this.b=c.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var wf=new ge(Ee,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ef=new Fr(3e4,6e4);_f.prototype.g=function(e){var t=this;return new gt((function(n,r){var i=setTimeout((function(){r(new k("network-request-failed"))}),Ef.get());!c.grecaptcha||e!==t.f&&!t.b?(c[t.a]=function(){if(c.grecaptcha){t.f=e;var o=c.grecaptcha.render;c.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(c.grecaptcha)}else clearTimeout(i),r(new k("internal-error"));delete c[t.a]},kt(Fs(ke(wf,{onload:t.a,hl:e||""}))).s((function(){clearTimeout(i),r(new k("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(c.grecaptcha))}))},_f.prototype.c=function(){this.b--};var Sf=null;function Of(e,t,n,r,i,o,s){if(Gr(this,"type","recaptcha"),this.c=this.f=null,this.A=!1,this.m=t,this.g=null,s?(gf||(gf=new bf),s=gf):(Sf||(Sf=new _f),s=Sf),this.v=s,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Cf])throw new k("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Tf],!c.document)throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!at(t)||!this.i&&at(t).hasChildNodes())throw new k("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.o=new Hs(e,o||null,i||null),this.u=r||function(){return null};var a=this;this.l=[];var u=this.a[xf];this.a[xf]=function(e){if(If(a,e),"function"==typeof u)u(e);else if("string"==typeof u){var t=kr(u,c);"function"==typeof t&&t(e)}};var l=this.a[kf];this.a[kf]=function(){if(If(a,null),"function"==typeof l)l();else if("string"==typeof l){var e=kr(l,c);"function"==typeof e&&e()}}}var xf="callback",kf="expired-callback",Cf="sitekey",Tf="size";function If(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(i){}}function Pf(e,t){return e.h.push(t),t.na((function(){Q(e.h,t)})),t}function Af(e){if(e.A)throw new k("internal-error","RecaptchaVerifier instance has been destroyed.")}function Nf(e,t,r){var i=!1;try{this.b=r||n.app()}catch(u){throw new k("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new k("invalid-api-key");r=this.b.options.apiKey;var o=this,s=null;try{s=this.b.auth().Ga()}catch(u){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(u){}s=n.SDK_VERSION?Or(n.SDK_VERSION,s):null,Of.call(this,r,e,t,(function(){try{var e=o.b.auth().ka()}catch(t){e=null}return e}),s,N(T),i)}function Df(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<t.length;s++)if(t[s].optional)o=!0;else{if(o)throw new k("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].K(n[i])&&!o){if(t=t[i],0>i||i>=jf.length)throw new k("internal-error","Argument validator received an unsupported number of arguments.");n=jf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.J+".";break e}r=null}}if(r)throw new k("argument-error",e+" failed: "+r)}(t=Of.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Pf(this,kt().then((function(){if(Ir()&&!mr())return dr();throw new k("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.v.g(e.u())})).then((function(t){return e.g=t,$a(e.o,ja,{})})).then((function(t){e.a[Cf]=t.recaptchaSiteKey})).s((function(t){throw e.f=null,t})))},t.render=function(){Af(this);var e=this;return Pf(this,this.Ia().then((function(){if(null===e.c){var t=e.m;if(!e.i){var n=at(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!st&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',qe(s.name),'"'),s.type){o.push(' type="',qe(s.type),'"');var a={};me(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ht(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ut(o,s)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild("string"==typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!d(o)||y(o)&&0<o.nodeType?r(o):z(pt(o)?J(o):o,r)}}(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},t.verify=function(){Af(this);var e=this;return Pf(this,this.render().then((function(t){return new gt((function(n){var r=e.g.getResponse(t);if(r)n(r);else{e.l.push((function t(r){r&&(function(e,t){X(e.l,(function(e){return e==t}))}(e,t),n(r))})),e.i&&e.g.execute(e.c)}}))})))},t.reset=function(){Af(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Af(this),this.A=!0,this.v.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=at(this.m);for(var t;t=e.firstChild;)e.removeChild(t)}},x(Nf,Of);var jf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Rf(e,t){return{name:e||"",J:"a valid string",optional:!!t,K:function(e){return"string"==typeof e}}}function Mf(e,t){return{name:e||"",J:"a boolean",optional:!!t,K:function(e){return"boolean"==typeof e}}}function Lf(e,t){return{name:e||"",J:"a valid object",optional:!!t,K:y}}function Ff(e,t){return{name:e||"",J:"a function",optional:!!t,K:function(e){return"function"==typeof e}}}function Uf(e,t){return{name:e||"",J:"null",optional:!!t,K:function(e){return null===e}}}function Vf(e){return{name:e?e+"Credential":"credential",J:e?"a valid "+e+" credential":"a valid credential",optional:!1,K:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ja||!n)}}}function Wf(e,t){return y(e)&&"string"==typeof e.type&&e.type===t&&"function"==typeof e.Ha}function Bf(e){return y(e)&&"string"==typeof e.uid}function qf(e,t,n,r){return{name:n||"",J:e.J+" or "+t.J,optional:!!r,K:function(n){return e.K(n)||t.K(n)}}}function zf(e,t){for(var n in t){var r=t[n].name;e[r]=Gf(r,e[n],t[n].j)}}function Hf(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Df(e,[n],[r],!0),this[t]=r}),r,n,t[n].jb),enumerable:!0})}}function Yf(e,t,n,r){e[t]=Gf(t,n,r)}function Gf(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Df(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}zf(Xl.prototype,{ib:{name:"applyActionCode",j:[Rf("code")]},Qa:{name:"checkActionCode",j:[Rf("code")]},mb:{name:"confirmPasswordReset",j:[Rf("code"),Rf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Rf("email"),Rf("password")]},gc:{name:"fetchSignInMethodsForEmail",j:[Rf("email")]},qa:{name:"getRedirectResult",j:[]},Ac:{name:"isSignInWithEmailLink",j:[Rf("emailLink")]},Gc:{name:"onAuthStateChanged",j:[qf(Lf(),Ff(),"nextOrObserver"),Ff("opt_error",!0),Ff("opt_completed",!0)]},Hc:{name:"onIdTokenChanged",j:[qf(Lf(),Ff(),"nextOrObserver"),Ff("opt_error",!0),Ff("opt_completed",!0)]},ub:{name:"sendPasswordResetEmail",j:[Rf("email"),qf(Lf("opt_actionCodeSettings",!0),Uf(null,!0),"opt_actionCodeSettings",!0)]},vb:{name:"sendSignInLinkToEmail",j:[Rf("email"),Lf("actionCodeSettings")]},wb:{name:"setPersistence",j:[Rf("persistence")]},Rc:{name:"signInAndRetrieveDataWithCredential",j:[Vf()]},yb:{name:"signInAnonymously",j:[]},Za:{name:"signInWithCredential",j:[Vf()]},Sc:{name:"signInWithCustomToken",j:[Rf("token")]},Tc:{name:"signInWithEmailAndPassword",j:[Rf("email"),Rf("password")]},Uc:{name:"signInWithEmailLink",j:[Rf("email"),Rf("emailLink",!0)]},Vc:{name:"signInWithPhoneNumber",j:[Rf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Wc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Xc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},cd:{name:"updateCurrentUser",j:[qf({name:"user",J:"an instance of Firebase User",optional:!1,K:function(e){return!!(e&&e instanceof ll)}},Uf(),"user")]},zb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Rf(null,!0)]},ed:{name:"useDeviceLanguage",j:[]},fd:{name:"useEmulator",j:[Rf("url")]},hd:{name:"verifyPasswordResetCode",j:[Rf("code")]}}),Hf(Xl.prototype,{lc:{name:"languageCode",jb:qf(Rf(),Uf(),"languageCode")},ti:{name:"tenantId",jb:qf(Rf(),Uf(),"tenantId")}}),Xl.Persistence=Yu,Xl.Persistence.LOCAL="local",Xl.Persistence.SESSION="session",Xl.Persistence.NONE="none",zf(ll.prototype,{delete:{name:"delete",j:[]},nc:{name:"getIdTokenResult",j:[Mf("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Mf("opt_forceRefresh",!0)]},Bc:{name:"linkAndRetrieveDataWithCredential",j:[Vf()]},pb:{name:"linkWithCredential",j:[Vf()]},Cc:{name:"linkWithPhoneNumber",j:[Rf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Dc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ec:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Vf()]},sb:{name:"reauthenticateWithCredential",j:[Vf()]},Lc:{name:"reauthenticateWithPhoneNumber",j:[Rf("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]},Mc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Nc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},tb:{name:"sendEmailVerification",j:[qf(Lf("opt_actionCodeSettings",!0),Uf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Rf(null,!0)]},bd:{name:"unlink",j:[Rf("provider")]},Ab:{name:"updateEmail",j:[Rf("email")]},Bb:{name:"updatePassword",j:[Rf("password")]},dd:{name:"updatePhoneNumber",j:[Vf("phone")]},Cb:{name:"updateProfile",j:[Lf("profile")]},Db:{name:"verifyBeforeUpdateEmail",j:[Rf("email"),qf(Lf("opt_actionCodeSettings",!0),Uf(null,!0),"opt_actionCodeSettings",!0)]}}),zf(ff.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zf(lf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),zf(gt.prototype,{na:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),Hf(qc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",jb:Mf("appVerificationDisabledForTesting")}}),zf(zc.prototype,{confirm:{name:"confirm",j:[Rf("verificationCode")]}}),Yf(oo,"fromJSON",(function(e){e="string"==typeof e?JSON.parse(e):e;for(var t,n=[ho,ko,Ao,co],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[qf(Rf(),Lf(),"json")]),Yf(Co,"credential",(function(e,t){return new xo(e,t)}),[Rf("email"),Rf("password")]),zf(xo.prototype,{w:{name:"toJSON",j:[Rf(null,!0)]}}),zf(mo.prototype,{Ca:{name:"addScope",j:[Rf("scope")]},Ka:{name:"setCustomParameters",j:[Lf("customOAuthParameters")]}}),Yf(mo,"credential",bo,[qf(Rf(),Lf(),"token")]),Yf(Co,"credentialWithLink",To,[Rf("email"),Rf("emailLink")]),zf(go.prototype,{Ca:{name:"addScope",j:[Rf("scope")]},Ka:{name:"setCustomParameters",j:[Lf("customOAuthParameters")]}}),Yf(go,"credential",_o,[qf(Rf(),Lf(),"token")]),zf(wo.prototype,{Ca:{name:"addScope",j:[Rf("scope")]},Ka:{name:"setCustomParameters",j:[Lf("customOAuthParameters")]}}),Yf(wo,"credential",Eo,[qf(Rf(),qf(Lf(),Uf()),"idToken"),qf(Rf(),Uf(),"accessToken",!0)]),zf(So.prototype,{Ka:{name:"setCustomParameters",j:[Lf("customOAuthParameters")]}}),Yf(So,"credential",Oo,[qf(Rf(),Lf(),"token"),Rf("secret",!0)]),zf(yo.prototype,{Ca:{name:"addScope",j:[Rf("scope")]},credential:{name:"credential",j:[qf(Rf(),qf(Lf(),Uf()),"optionsOrIdToken"),qf(Rf(),Uf(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Lf("customOAuthParameters")]}}),zf(lo.prototype,{w:{name:"toJSON",j:[Rf(null,!0)]}}),zf(ao.prototype,{w:{name:"toJSON",j:[Rf(null,!0)]}}),Yf(Do,"credential",jo,[Rf("verificationId"),Rf("verificationCode")]),zf(Do.prototype,{eb:{name:"verifyPhoneNumber",j:[qf(Rf(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(e){return!!e&&(e.session&&e.phoneNumber?Wf(e.session,ro)&&"string"==typeof e.phoneNumber:e.session&&e.multiFactorHint?Wf(e.session,io)&&Bf(e.multiFactorHint):e.session&&e.multiFactorUid?Wf(e.session,io)&&"string"==typeof e.multiFactorUid:!!e.phoneNumber&&"string"==typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(e){return!(!e||"string"!=typeof e.type||"function"!=typeof e.verify)}}]}}),zf(Po.prototype,{w:{name:"toJSON",j:[Rf(null,!0)]}}),zf(k.prototype,{toJSON:{name:"toJSON",j:[Rf(null,!0)]}}),zf(qo.prototype,{toJSON:{name:"toJSON",j:[Rf(null,!0)]}}),zf(Bo.prototype,{toJSON:{name:"toJSON",j:[Rf(null,!0)]}}),zf(Xc.prototype,{toJSON:{name:"toJSON",j:[Rf(null,!0)]}}),zf(Gc.prototype,{Qc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.rb}}]}}),zf(nl.prototype,{Qb:{name:"getSession",j:[]},ec:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(e){return!!e&&!!e.rb}},Rf("displayName",!0)]},ad:{name:"unenroll",j:[qf({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:Bf},Rf(),"multiFactorInfoIdentifier")]}}),zf(Nf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Yf(bi,"parseLink",ki,[Rf("link")]),Yf(mf,"assertion",(function(e){return new el(e)}),[Vf("phone")]),function(){if(void 0===n||!n.INTERNAL||!n.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:si,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:oi,VERIFY_AND_CHANGE_EMAIL:ai,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Xl,AuthCredential:oo,Error:k};Yf(e,"EmailAuthProvider",Co,[]),Yf(e,"FacebookAuthProvider",mo,[]),Yf(e,"GithubAuthProvider",go,[]),Yf(e,"GoogleAuthProvider",wo,[]),Yf(e,"TwitterAuthProvider",So,[]),Yf(e,"OAuthProvider",yo,[Rf("providerId")]),Yf(e,"SAMLAuthProvider",vo,[Rf("providerId")]),Yf(e,"PhoneAuthProvider",Do,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(e){return!!(e&&e instanceof Xl)}}]),Yf(e,"RecaptchaVerifier",Nf,[qf(Rf(),{name:"",J:"an HTML element",optional:!1,K:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),Lf("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(e){return!!(e&&e instanceof n.app.App)}}]),Yf(e,"ActionCodeURL",bi,[]),Yf(e,"PhoneMultiFactorGenerator",mf,[]),n.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new Xl(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC"}),n.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:E((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:E(e.mc,e),addAuthTokenListener:E(e.cc,e),removeAuthTokenListener:E(e.Oc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),n.registerVersion("@firebase/auth","0.15.0"),n.INTERNAL.extendNamespace({User:ll})}()}).apply(void 0!==r?r:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"@firebase/app":"dP58"}],zKjx:[function(e,t,n){"use strict";e("@firebase/auth")},{"@firebase/auth":"RJVP"}],Xc75:[function(e,t,n){"use strict";var r=e("@firebase/app"),i=e("tslib"),o=e("@firebase/component");var s=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(r),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},u=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return i.__extends(t,e),t}(Error);function c(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var s=t&&t.error;if(s){var c=s.status;if("string"==typeof c){if(!a[c])return new u("internal","internal");r=a[c],i=c}var l=s.message;"string"==typeof l&&(i=l),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(f){}return"ok"===r?null:new u(r,i,o)}var l=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return i.__awaiter(this,void 0,void 0,(function(){var e;return i.__generator(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return i.__awaiter(this,void 0,void 0,(function(){return i.__generator(this,(function(e){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(i){return[2,void 0]}return[2]}))}))},e.prototype.getContext=function(){return i.__awaiter(this,void 0,void 0,(function(){var e,t;return i.__generator(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function f(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var h=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"==typeof e||"object"==typeof e)return f(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"==typeof e||"object"==typeof e?f(e,(function(e){return t.decode(e)})):e},e}();var p=function(){function e(e,t,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=e,this.fetchImpl=i,this.serializer=new h,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new l(t,n),this.cancelAllRequests=new Promise((function(e){o.deleteService=function(){return e()}}));try{var s=new URL(r);this.customDomain=s.origin,this.region="us-central1"}catch(a){this.customDomain=null,this.region=r}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o;return i.__generator(this,(function(i){switch(i.label){case 0:n["Content-Type"]="application/json",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return o=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}}))}))},e.prototype.call=function(e,t,n){return i.__awaiter(this,void 0,void 0,(function(){var r,o,s,a,l,f,h,p,v,y,m;return i.__generator(this,(function(i){switch(i.label){case 0:return r=this._url(e),t=this.serializer.encode(t),o={data:t},s={},[4,this.contextProvider.getContext()];case 1:return(a=i.sent()).authToken&&(s.Authorization="Bearer "+a.authToken),a.instanceIdToken&&(s["Firebase-Instance-ID-Token"]=a.instanceIdToken),l=n.timeout||7e4,f=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new u("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(l),h=f.timer,p=f.promise,[4,Promise.race([d(h,this.postJSON(r,o,s)),p,d(h,this.cancelAllRequests)])];case 2:if(!(v=i.sent()))throw new u("cancelled","Firebase Functions instance was deleted.");if(y=c(v.status,v.json,this.serializer))throw y;if(!v.json)throw new u("internal","Response is not valid JSON object.");if(void 0===(m=v.json.data)&&(m=v.json.result),void 0===m)throw new u("internal","Response is missing data field.");return[2,{data:this.serializer.decode(m)}]}}))}))},e}();function d(e,t){return i.__awaiter(this,void 0,void 0,(function(){var n;return i.__generator(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}(function(e,t){var n={Functions:p};e.INTERNAL.registerComponent(new o.Component("functions",(function(e,n){var r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("messaging");return new p(r,i,o,n,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))})(s.default,fetch.bind(self)),s.default.registerVersion("@firebase/functions","0.5.1")},{"@firebase/app":"dP58",tslib:"f2sD","@firebase/component":"nzQs"}],a7Bh:[function(e,t,n){"use strict";e("@firebase/functions")},{"@firebase/functions":"Xc75"}],ueHA:[function(e,t,n){var r=arguments[3];Object.defineProperty(n,"__esModule",{value:!0}),n.createWebChannelTransport=n.XhrIo=n.WebChannel=n.EventType=n.ErrorCode=n.default=void 0;var i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function s(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var a,u="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{},c=c||{},l=u||self;function f(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function v(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++m)}var y="closure_uid_"+(1e9*Math.random()>>>0),m=0;function b(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function _(e,t,n){return(_=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?b:g).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var E=Date.now;function S(e,t){function n(){}n.prototype=t.prototype,e.S=t.prototype,e.prototype=new n,e.prototype.constructor=e}function O(){this.j=this.j,this.i=this.i}var x=0;O.prototype.j=!1,O.prototype.ja=function(){this.j||(this.j=!0,this.G(),0==x)||v(this)},O.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var k=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},C=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"==typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function T(e){e:{for(var t=Un,n=e.length,r="string"==typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}function I(e){return Array.prototype.concat.apply([],arguments)}function P(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var N,D=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function j(e,t){return-1!=e.indexOf(t)}function R(e,t){return e<t?-1:e>t?1:0}e:{var M=l.navigator;if(M){var L=M.userAgent;if(L){N=L;break e}}N=""}function F(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function U(e){var t={};for(var n in e)t[n]=e[n];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<V.length;o++)n=V[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function B(e){return B[" "](e),e}function q(e,t){var n=ne;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}B[" "]=f;var z,H=j(N,"Opera"),Y=j(N,"Trident")||j(N,"MSIE"),G=j(N,"Edge"),K=G||Y,Q=j(N,"Gecko")&&!(j(N.toLowerCase(),"webkit")&&!j(N,"Edge"))&&!(j(N,"Trident")||j(N,"MSIE"))&&!j(N,"Edge"),X=j(N.toLowerCase(),"webkit")&&!j(N,"Edge");function $(){var e=l.document;return e?e.documentMode:void 0}e:{var J="",Z=function(){var e=N;return Q?/rv:([^\);]+)(\)|;)/.exec(e):G?/Edge\/([\d\.]+)/.exec(e):Y?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):X?/WebKit\/(\S+)/.exec(e):H?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Z&&(J=Z?Z[1]:""),Y){var ee=$();if(null!=ee&&ee>parseFloat(J)){z=String(ee);break e}}z=J}var te,ne={};function re(e){return q(e,(function(){for(var t=0,n=D(String(z)).split("."),r=D(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;t=R(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==s[2].length,0==a[2].length)||R(s[2],a[2]),s=s[3],a=a[3]}while(0==t)}return 0<=t}))}if(l.document&&Y){var ie=$();te=ie||parseInt(z,10)||void 0}else te=void 0;var oe=te,se=!Y||9<=Number(oe),ae=Y&&!re("9"),ue=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{l.addEventListener("test",f,t),l.removeEventListener("test",f,t)}catch(o){}return e}();function ce(e,t){this.type=e,this.a=this.target=t,this.defaultPrevented=!1}function le(e,t){if(ce.call(this,e?e.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.a=t,t=e.relatedTarget){if(Q){e:{try{B(t.nodeName);var i=!0;break e}catch(u){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:fe[e.pointerType]||"",this.c=e,e.defaultPrevented&&this.b()}}ce.prototype.b=function(){this.defaultPrevented=!0},S(le,ce);var fe={2:"touch",3:"pen",4:"mouse"};le.prototype.b=function(){le.S.b.call(this);var e=this.c;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,ae)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}};var he="closure_listenable_"+(1e6*Math.random()|0),pe=0;function de(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ca=i,this.key=++pe,this.Y=this.Z=!1}function ve(e){e.Y=!0,e.listener=null,e.proxy=null,e.src=null,e.ca=null}function ye(e){this.src=e,this.a={},this.b=0}function me(e,t){var n=t.type;if(n in e.a){var r,i=e.a[n],o=k(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ve(t),0==e.a[n].length&&(delete e.a[n],e.b--))}}function be(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Y&&o.listener==t&&o.capture==!!n&&o.ca==r)return i}return-1}ye.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var s=be(e,t,r,i);return-1<s?(t=e[s],n||(t.Z=!1)):((t=new de(t,this.src,o,!!r,i)).Z=n,e.push(t)),t};var ge="closure_lm_"+(1e6*Math.random()|0),_e={};function we(e,t,n,r,i){if(r&&r.once)return Oe(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)we(e,t[o],n,r,i);return null}return n=Ne(n),e&&e[he]?e.va(t,n,d(r)?!!r.capture:!!r,i):Ee(e,t,n,!1,r,i)}function Ee(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=d(i)?!!i.capture:!!i;if(s&&!se)return null;var a=Pe(e);if(a||(e[ge]=a=new ye(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=Se(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ue||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ce(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Se(){var e=Ie,t=se?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}function Oe(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Oe(e,t[o],n,r,i);return null}return n=Ne(n),e&&e[he]?e.wa(t,n,d(r)?!!r.capture:!!r,i):Ee(e,t,n,!0,r,i)}function xe(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)xe(e,t[o],n,r,i);else r=d(r)?!!r.capture:!!r,n=Ne(n),e&&e[he]?(e=e.c,(t=String(t).toString())in e.a&&-1<(n=be(o=e.a[t],n,r,i))&&(ve(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--))):e&&(e=Pe(e))&&(t=e.a[t.toString()],e=-1,t&&(e=be(t,n,r,i)),(n=-1<e?t[e]:null)&&ke(n))}function ke(e){if("number"!=typeof e&&e&&!e.Y){var t=e.src;if(t&&t[he])me(t.c,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Pe(t))?(me(n,e),0==n.b&&(n.src=null,t[ge]=null)):ve(e)}}}function Ce(e){return e in _e?_e[e]:_e[e]="on"+e}function Te(e,t){var n=e.listener,r=e.ca||e.src;return e.Z&&ke(e),n.call(r,t)}function Ie(e,t){if(e.Y)return!0;if(!se){if(!t)e:{t=["window","event"];for(var n=l,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}return Te(e,t=new le(t,this))}return Te(e,new le(t,this))}function Pe(e){return(e=e[ge])instanceof ye?e:null}var Ae="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ne(e){return"function"==h(e)?e:(e[Ae]||(e[Ae]=function(t){return e.handleEvent(t)}),e[Ae])}function De(){O.call(this),this.c=new ye(this),this.J=this,this.C=null}function je(e,t,n,r){if(!(t=e.c.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&me(e.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}S(De,O),De.prototype[he]=!0,(a=De.prototype).addEventListener=function(e,t,n,r){we(this,e,t,n,r)},a.removeEventListener=function(e,t,n,r){xe(this,e,t,n,r)},a.dispatchEvent=function(e){var t,n=this.C;if(n)for(t=[];n;n=n.C)t.push(n);n=this.J;var r=e.type||e;if("string"==typeof e)e=new ce(e,n);else if(e instanceof ce)e.target=e.target||n;else{var i=e;W(e=new ce(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.a=t[o];i=je(s,r,!0,e)&&i}if(i=je(s=e.a=n,r,!0,e)&&i,i=je(s,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=je(s=e.a=t[o],r,!1,e)&&i;return i},a.G=function(){if(De.S.G.call(this),this.c){var e,t=this.c;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)ve(n[r]);delete t.a[e],t.b--}}this.C=null},a.va=function(e,t,n,r){return this.c.add(String(e),t,!1,n,r)},a.wa=function(e,t,n,r){return this.c.add(String(e),t,!0,n,r)};var Re=l.JSON.stringify;function Me(){this.b=this.a=null}var Le,Fe=new(function(){function e(e,t,n){this.f=n,this.c=e,this.g=t,this.b=0,this.a=null}return e.prototype.get=function(){var e;return 0<this.b?(this.b--,e=this.a,this.a=e.next,e.next=null):e=this.c(),e},e}())((function(){return new Ve}),(function(e){e.reset()}),100);function Ue(){var e=He,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Ve(){this.next=this.b=this.a=null}function We(e){l.setTimeout((function(){throw e}),0)}function Be(e,t){Le||qe(),ze||(Le(),ze=!0),He.add(e,t)}function qe(){var e=l.Promise.resolve(void 0);Le=function(){e.then(Ye)}}Me.prototype.add=function(e,t){var n=Fe.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Ve.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Ve.prototype.reset=function(){this.next=this.b=this.a=null};var ze=!1,He=new Me;function Ye(){for(var e;e=Ue();){try{e.a.call(e.b)}catch(o){We(o)}var t=Fe;t.g(e),t.b<t.f&&(t.b++,e.next=t.a,t.a=e)}ze=!1}function Ge(e,t){De.call(this),this.b=e||1,this.a=t||l,this.f=_(this.Ya,this),this.g=E()}function Ke(e){e.aa=!1,e.M&&(e.a.clearTimeout(e.M),e.M=null)}function Qe(e,t,n){if("function"==h(e))n&&(e=_(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=_(e.handleEvent,e)}return 2147483647<Number(t)?-1:l.setTimeout(e,t||0)}function Xe(e){e.a=Qe((function(){e.a=null,e.c&&(e.c=!1,Xe(e))}),e.h);var t=e.b;e.b=null,e.g.apply(null,t)}S(Ge,De),(a=Ge.prototype).aa=!1,a.M=null,a.Ya=function(){if(this.aa){var e=E()-this.g;0<e&&e<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-e):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ke(this),this.start()))}},a.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=E())},a.G=function(){Ge.S.G.call(this),Ke(this),delete this.a};var $e=function(e){function t(t,n,r){var i=e.call(this)||this;return i.g=null!=r?t.bind(r):t,i.h=n,i.b=null,i.c=!1,i.a=null,i}return o(t,e),t.prototype.f=function(e){this.b=arguments,this.a?this.c=!0:Xe(this)},t.prototype.G=function(){e.prototype.G.call(this),this.a&&(l.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},t}(O);function Je(e){O.call(this),this.b=e,this.a={}}S(Je,O);var Ze=[];function et(e,t,n,r){Array.isArray(n)||(n&&(Ze[0]=n.toString()),n=Ze);for(var i=0;i<n.length;i++){var o=we(t,n[i],r||e.handleEvent,!1,e.b||e);if(!o)break;e.a[o.key]=o}}function tt(e){F(e.a,(function(e,t){this.a.hasOwnProperty(t)&&ke(e)}),e),e.a={}}function nt(){this.a=!0}function rt(e,t,n,r,i,o){e.info((function(){if(e.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");s=2<=f.length&&"type"==f[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s}))}function it(e,t,n,r,i,o,s){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s}))}function ot(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+at(e,n)+(r?" "+r:"")}))}function st(e,t){e.info((function(){return"TIMEOUT: "+t}))}function at(e,t){if(!e.a)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Re(n)}catch(l){return t}}Je.prototype.G=function(){Je.S.G.call(this),tt(this)},Je.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nt.prototype.info=function(){};var ut=null;function ct(){return ut=ut||new De}function lt(e){ce.call(this,"serverreachability",e)}function ft(e){var t=ct();t.dispatchEvent(new lt(t,e))}function ht(e){ce.call(this,"statevent",e)}function pt(e){var t=ct();t.dispatchEvent(new ht(t,e))}function dt(e){ce.call(this,"timingevent",e)}function vt(e,t){if("function"!=h(e))throw Error("Fn must not be null and must be a function");return l.setTimeout((function(){e()}),t)}S(lt,ce),S(ht,ce),S(dt,ce);var yt={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},mt={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function bt(){}function gt(e){var t;return(t=e.a)||(t=e.a={}),t}function _t(){}bt.prototype.a=null;var wt,Et={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function St(){ce.call(this,"d")}function Ot(){ce.call(this,"c")}function xt(){}function kt(e,t,n,r){this.g=e,this.c=t,this.f=n,this.T=r||1,this.J=new Je(this),this.P=Ct,e=K?125:void 0,this.R=new Ge(e),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}S(St,ce),S(Ot,ce),S(xt,bt),wt=new xt;var Ct=45e3,Tt={},It={};function Pt(e,t,n){e.H=1,e.i=en(Kt(t)),e.j=n,e.I=!0,At(e,null)}function At(e,t){e.u=E(),jt(e),e.l=Kt(e.i);var n=e.l,r=e.T;Array.isArray(r)||(r=[String(r)]),yn(n.b,"t",r),e.D=0,e.a=vr(e.g,e.g.C?t:null),0<e.O&&(e.F=new $e(_(e.Ca,e,e.a),e.O)),et(e.J,e.a,"readystatechange",e.Wa),t=e.B?U(e.B):{},e.j?(e.m||(e.m="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.a.ba(e.l,e.m,e.j,t)):(e.m="GET",e.a.ba(e.l,e.m,null,t)),ft(1),rt(e.c,e.m,e.l,e.f,e.T,e.j)}function Nt(e,t,n){for(var r=!0;!e.A&&e.D<n.length;){var i=Dt(e,n);if(i==It){4==t&&(e.h=4,pt(14),r=!1),ot(e.c,e.f,null,"[Incomplete Response]");break}if(i==Tt){e.h=4,pt(15),ot(e.c,e.f,n,"[Invalid Chunk]"),r=!1;break}ot(e.c,e.f,i,null),Ut(e,i)}4==t&&0==n.length&&(e.h=1,pt(16),r=!1),e.b=e.b&&r,r?0<n.length&&!e.W&&(e.W=!0,(t=e.g).a==e&&t.V&&!t.F&&(t.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ar(t),t.F=!0)):(ot(e.c,e.f,n,"[Invalid Chunked Response]"),Ft(e),Lt(e))}function Dt(e,t){var n=e.D,r=t.indexOf("\n",n);return-1==r?It:(n=Number(t.substring(n,r)),isNaN(n)?Tt:(r+=1)+n>t.length?It:(t=t.substr(r,n),e.D=r+n,t))}function jt(e){e.U=E()+e.P,Rt(e,e.P)}function Rt(e,t){if(null!=e.o)throw Error("WatchDog timer not null");e.o=vt(_(e.Ua,e),t)}function Mt(e){e.o&&(l.clearTimeout(e.o),e.o=null)}function Lt(e){0==e.g.v||e.A||lr(e.g,e)}function Ft(e){Mt(e);var t=e.F;t&&"function"==typeof t.ja&&t.ja(),e.F=null,Ke(e.R),tt(e.J),e.a&&(t=e.a,e.a=null,t.abort(),t.ja())}function Ut(e,t){try{var n=e.g;if(0!=n.v&&(n.a==e||On(n.b,e)))if(n.I=e.N,!e.C&&On(n.b,e)&&3==n.v){try{var r=n.ka.a.parse(t)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.j){if(n.a){if(!(n.a.u+3e3<e.u))break e;cr(n),$n(n)}sr(n),pt(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=vt(_(n.Ra,n),6e3));if(1>=Sn(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else hr(n,11)}else if((e.C||n.a==e)&&cr(n),!A(t))for(t=r=n.ka.a.parse(t),r=0;r<t.length;r++)if(i=t[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=e.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=u.b;!f.a&&(j(l,"spdy")||j(l,"quic")||j(l,"h2"))&&(f.f=f.g,f.a=new Set,f.b&&(xn(f,f.b),f.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Zt(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=E()-e.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=e;if((u=n).la=dr(u,u.C?u.ga:null,u.fa),p.C){kn(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Mt(d),jt(d)),u.a=p}else or(u);0<n.g.length&&er(n)}else"stop"!=i[0]&&"close"!=i[0]||hr(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?hr(n,7):Xn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);ft(4)}catch(g){}}function Vt(e){if(e.K&&"function"==typeof e.K)return e.K();if("string"==typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Wt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"==typeof e)C(e,t,void 0);else{if(e.L&&"function"==typeof e.L)var n=e.L();else if(e.K&&"function"==typeof e.K)n=void 0;else if(p(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=Vt(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Bt(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Bt)for(n=e.L(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function qt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];zt(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)zt(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function zt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(a=kt.prototype).setTimeout=function(e){this.P=e},a.Wa=function(e){e=e.target;var t=this.F;t&&3==Hn(e)?t.f():this.Ca(e)},a.Ca=function(e){try{if(e==this.a)e:{var t=Hn(this.a),n=this.a.ua(),r=this.a.X();if(!(3>t||3==t&&!K&&!this.a.$())){this.A||4!=t||7==n||ft(8==n||0>=r?3:2),Mt(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,it(this.c,this.m,this.l,this.f,this.T,t,i),this.b){if(this.V&&!this.C){t:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(s)){var u=s;break t}}u=null}if(!u){this.b=!1,this.h=3,pt(12),Ft(this),Lt(this);break e}ot(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Ut(this,u)}this.I?(Nt(this,t,o),K&&this.b&&3==t&&(et(this.J,this.R,"tick",this.Va),this.R.start())):(ot(this.c,this.f,o,null),Ut(this,o)),4==t&&Ft(this),this.b&&!this.A&&(4==t?lr(this.g,this):(this.b=!1,jt(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,pt(12)):(this.h=0,pt(13)),Ft(this),Lt(this)}}}catch(h){}},a.Va=function(){if(this.a){var e=Hn(this.a),t=this.a.$();this.D<t.length&&(Mt(this),Nt(this,e,t),this.b&&4!=e&&jt(this))}},a.cancel=function(){this.A=!0,Ft(this)},a.Ua=function(){this.o=null;var e=E();0<=e-this.U?(st(this.c,this.l),2!=this.H&&(ft(3),pt(17)),Ft(this),this.h=2,Lt(this)):Rt(this,this.U-e)},(a=Bt.prototype).K=function(){qt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},a.L=function(){return qt(this),this.a.concat()},a.get=function(e,t){return zt(this.b,e)?this.b[e]:t},a.set=function(e,t){zt(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},a.forEach=function(e,t){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ht=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yt(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Gt(e,t){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,e instanceof Gt){this.a=void 0!==t?t:e.a,Qt(this,e.f),this.j=e.j,Xt(this,e.c),$t(this,e.h),this.g=e.g,t=e.b;var n=new hn;n.c=t.c,t.a&&(n.a=new Bt(t.a),n.b=t.b),Jt(this,n),this.i=e.i}else e&&(n=String(e).match(Ht))?(this.a=!!t,Qt(this,n[1]||"",!0),this.j=rn(n[2]||""),Xt(this,n[3]||"",!0),$t(this,n[4]),this.g=rn(n[5]||"",!0),Jt(this,n[6]||"",!0),this.i=rn(n[7]||"")):(this.a=!!t,this.b=new hn(null,this.a))}function Kt(e){return new Gt(e)}function Qt(e,t,n){e.f=n?rn(t,!0):t,e.f&&(e.f=e.f.replace(/:$/,""))}function Xt(e,t,n){e.c=n?rn(t,!0):t}function $t(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.h=t}else e.h=null}function Jt(e,t,n){t instanceof hn?(e.b=t,bn(e.b,e.a)):(n||(t=on(t,ln)),e.b=new hn(t,e.a))}function Zt(e,t,n){e.b.set(t,n)}function en(e){return Zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^E()).toString(36)),e}function tn(e){return e instanceof Gt?Kt(e):new Gt(e,void 0)}function nn(e,t,n,r){var i=new Gt(null,void 0);return e&&Qt(i,e),t&&Xt(i,t),n&&$t(i,n),r&&(i.g=r),i}function rn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function on(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,sn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function sn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gt.prototype.toString=function(){var e=[],t=this.f;t&&e.push(on(t,an,!0),":");var n=this.c;return(n||"file"==t)&&(e.push("//"),(t=this.j)&&e.push(on(t,an,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&e.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&e.push("/"),e.push(on(n,"/"==n.charAt(0)?cn:un,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.i)&&e.push("#",on(n,fn)),e.join("")};var an=/[#\/\?@]/g,un=/[#\?:]/g,cn=/[#\?]/g,ln=/[#\?@]/g,fn=/#/g;function hn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function pn(e){e.a||(e.a=new Bt,e.b=0,e.c&&Yt(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function dn(e,t){pn(e),t=mn(e,t),zt(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,zt((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&qt(e)))}function vn(e,t){return pn(e),t=mn(e,t),zt(e.a.b,t)}function yn(e,t,n){dn(e,t),0<n.length&&(e.c=null,e.a.set(mn(e,t),P(n)),e.b+=n.length)}function mn(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function bn(e,t){t&&!e.f&&(pn(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(dn(this,t),yn(this,n,e))}),e)),e.f=t}function gn(e,t){this.b=e,this.a=t}function _n(e){this.g=e||wn,e=l.PerformanceNavigationTiming?0<(e=l.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(l.ia&&l.ia.ya&&l.ia.ya()&&l.ia.ya().qb),this.f=e?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(a=hn.prototype).add=function(e,t){pn(this),this.c=null,e=mn(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},a.forEach=function(e,t){pn(this),this.a.forEach((function(n,r){C(n,(function(n){e.call(t,n,r,this)}),this)}),this)},a.L=function(){pn(this);for(var e=this.a.K(),t=this.a.L(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},a.K=function(e){pn(this);var t=[];if("string"==typeof e)vn(this,e)&&(t=I(t,this.a.get(mn(this,e))));else{e=this.a.K();for(var n=0;n<e.length;n++)t=I(t,e[n])}return t},a.set=function(e,t){return pn(this),this.c=null,vn(this,e=mn(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},a.get=function(e,t){return e&&0<(e=this.K(e)).length?String(e[0]):t},a.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.L(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.c=e.join("&")};var wn=10;function En(e){return!!e.b||!!e.a&&e.a.size>=e.f}function Sn(e){return e.b?1:e.a?e.a.size:0}function On(e,t){return e.b?e.b==t:!!e.a&&e.a.has(t)}function xn(e,t){e.a?e.a.add(t):e.b=t}function kn(e,t){e.b&&e.b==t?e.b=null:e.a&&e.a.has(t)&&e.a.delete(t)}function Cn(e){var t,n;if(null!=e.b)return e.c.concat(e.b.s);if(null!=e.a&&0!==e.a.size){var r=e.c;try{for(var i=s(e.a.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.s)}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return P(e.c)}function Tn(){}function In(){this.a=new Tn}function Pn(e,t,n){var r=n||"";try{Wt(e,(function(e,n){var i=e;d(e)&&(i=Re(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function An(e,t){var n=new nt;if(l.Image){var r=new Image;r.onload=w(Nn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(Nn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(Nn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(Nn,n,r,"TestLoadImage: timeout",!1,t),l.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Nn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(u){}}_n.prototype.cancel=function(){var e,t;if(this.c=Cn(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=s(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(u){e={error:u}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.a.clear()}},Tn.prototype.stringify=function(e){return l.JSON.stringify(e,void 0)},Tn.prototype.parse=function(e){return l.JSON.parse(e,void 0)};var Dn=l.JSON.parse;function jn(e){De.call(this),this.headers=new Bt,this.H=e||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Rn,this.D=this.F=!1}S(jn,De);var Rn="",Mn=/^https?$/i,Ln=["POST","PUT"];function Fn(e){return Y&&re(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function Un(e){return"content-type"==e.toLowerCase()}function Vn(e,t){e.b=!1,e.a&&(e.g=!0,e.a.abort(),e.g=!1),e.f=t,e.h=5,Wn(e),qn(e)}function Wn(e){e.u||(e.u=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Bn(e){if(e.b&&void 0!==c&&(!e.s[1]||4!=Hn(e)||2!=e.X()))if(e.l&&4==Hn(e))Qe(e.za,0,e);else if(e.dispatchEvent("readystatechange"),4==Hn(e)){e.b=!1;try{var t,n=e.X();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.B).match(Ht)[1]||null;if(!o&&l.self&&l.self.location){var s=l.self.location.protocol;o=s.substr(0,s.length-1)}i=!Mn.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{e.h=6;try{var a=2<Hn(e)?e.a.statusText:""}catch(p){a=""}e.f=a+" ["+e.X()+"]",Wn(e)}}finally{qn(e)}}}function qn(e,t){if(e.a){zn(e);var n=e.a,r=e.s[0]?f:null;e.a=null,e.s=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(a){}}}function zn(e){e.a&&e.D&&(e.a.ontimeout=null),e.m&&(l.clearTimeout(e.m),e.m=null)}function Hn(e){return e.a?e.a.readyState:0}function Yn(e){var t="";return F(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Gn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Yn(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Zt(e,t,n))}function Kn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Qn(e){this.pa=0,this.g=[],this.c=new nt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Kn("failFast",!1,e),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Kn("baseRetryDelayMs",5e3,e),this.Ma=Kn("retryDelaySeedMs",1e4,e),this.Ja=Kn("forwardChannelMaxRetries",2,e),this.ma=Kn("forwardChannelRequestTimeoutMs",2e4,e),this.Ka=e&&e.g||void 0,this.D=void 0,this.C=e&&e.supportsCrossDomainXhr||!1,this.J="",this.b=new _n(e&&e.concurrentRequestLimit),this.ka=new In,this.da=e&&e.fastHandshake||!1,this.Ga=e&&e.b||!1,e&&e.f&&(this.c.a=!1),e&&e.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&e&&e.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function Xn(e){if(Jn(e),3==e.v){var t=e.R++,n=Kt(e.B);Zt(n,"SID",e.J),Zt(n,"RID",t),Zt(n,"TYPE","terminate"),rr(e,n),(t=new kt(e,e.c,t,void 0)).H=2,t.i=en(Kt(n)),n=!1,l.navigator&&l.navigator.sendBeacon&&(n=l.navigator.sendBeacon(t.i.toString(),"")),!n&&l.Image&&((new Image).src=t.i,n=!0),n||(t.a=vr(t.g,null),t.a.ba(t.i)),t.u=E(),jt(t)}pr(e)}function $n(e){e.a&&(ar(e),e.a.cancel(),e.a=null)}function Jn(e){$n(e),e.j&&(l.clearTimeout(e.j),e.j=null),cr(e),e.b.cancel(),e.h&&("number"==typeof e.h&&l.clearTimeout(e.h),e.h=null)}function Zn(e,t){e.g.push(new gn(e.La++,t)),3==e.v&&er(e)}function er(e){En(e.b)||e.h||(e.h=!0,Be(e.Ba,e),e.u=0)}function tr(e,t){return!(Sn(e.b)>=e.b.f-(e.h?1:0))&&(e.h?(e.g=t.s.concat(e.g),!0):!(1==e.v||2==e.v||e.u>=(e.Ia?0:e.Ja))&&(e.h=vt(_(e.Ba,e,t),fr(e,e.u)),e.u++,!0))}function nr(e,t){var n;n=t?t.f:e.R++;var r=Kt(e.B);Zt(r,"SID",e.J),Zt(r,"RID",n),Zt(r,"AID",e.P),rr(e,r),e.i&&e.l&&Gn(r,e.i,e.l),n=new kt(e,e.c,n,e.u+1),null===e.i&&(n.B=e.l),t&&(e.g=t.s.concat(e.g)),t=ir(e,n,1e3),n.setTimeout(Math.round(.5*e.ma)+Math.round(.5*e.ma*Math.random())),xn(e.b,n),Pt(n,r,t)}function rr(e,t){e.f&&Wt({},(function(e,n){Zt(t,n,e)}))}function ir(e,t,n){n=Math.min(e.g.length,n);var r=e.f?_(e.f.Ha,e.f,e):null;e:for(var i=e.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Pn(l,s,"req"+c+"_")}catch(d){r&&r(l)}}if(a){r=s.join("&");break e}}return e=e.g.splice(0,n),t.s=e,r}function or(e){e.a||e.j||(e.U=1,Be(e.Aa,e),e.o=0)}function sr(e){return!(e.a||e.j||3<=e.o)&&(e.U++,e.j=vt(_(e.Aa,e),fr(e,e.o)),e.o++,!0)}function ar(e){null!=e.s&&(l.clearTimeout(e.s),e.s=null)}function ur(e){e.a=new kt(e,e.c,"rpc",e.U),null===e.i&&(e.a.B=e.l),e.a.O=0;var t=Kt(e.la);Zt(t,"RID","rpc"),Zt(t,"SID",e.J),Zt(t,"CI",e.H?"0":"1"),Zt(t,"AID",e.P),rr(e,t),Zt(t,"TYPE","xmlhttp"),e.i&&e.l&&Gn(t,e.i,e.l),e.D&&e.a.setTimeout(e.D);var n=e.a;e=e.ga,n.H=1,n.i=en(Kt(t)),n.j=null,n.I=!0,At(n,e)}function cr(e){null!=e.m&&(l.clearTimeout(e.m),e.m=null)}function lr(e,t){var n=null;if(e.a==t){cr(e),ar(e),e.a=null;var r=2}else{if(!On(e.b,t))return;n=t.s,kn(e.b,t),r=1}if(e.I=t.N,0!=e.v)if(t.b)if(1==r){n=t.j?t.j.length:0,t=E()-t.u;var i=e.u;(r=ct()).dispatchEvent(new dt(r,n,t,i)),er(e)}else or(e);else if(3==(i=t.h)||0==i&&0<e.I||!(1==r&&tr(e,t)||2==r&&sr(e)))switch(n&&0<n.length&&(t=e.b,t.c=t.c.concat(n)),i){case 1:hr(e,5);break;case 4:hr(e,10);break;case 3:hr(e,6);break;default:hr(e,2)}}function fr(e,t){var n=e.Fa+Math.floor(Math.random()*e.Ma);return e.f||(n*=2),n*t}function hr(e,t){if(e.c.info("Error code "+t),2==t){var n=null;e.f&&(n=null);var r=_(e.Xa,e);n||(n=new Gt("//www.google.com/images/cleardot.gif"),l.location&&"http"==l.location.protocol||Qt(n,"https"),en(n)),An(n.toString(),r)}else pt(2);e.v=0,e.f&&e.f.ra(t),pr(e),Jn(e)}function pr(e){e.v=0,e.I=-1,e.f&&(0==Cn(e.b).length&&0==e.g.length||(e.b.c.length=0,P(e.g),e.g.length=0),e.f.qa())}function dr(e,t,n){var r=tn(n);if(""!=r.c)t&&Xt(r,t+"."+r.c),$t(r,r.h);else{var i=l.location;r=nn(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.W&&F(e.W,(function(e,t){Zt(r,t,e)})),t=e.A,n=e.na,t&&n&&Zt(r,t,n),Zt(r,"VER",e.ha),rr(e,r),r}function vr(e,t){if(t&&!e.C)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new jn(e.Ka)).F=e.C,t}function yr(){}function mr(){if(Y&&!(10<=Number(oe)))throw Error("Environmental error: no available transport.")}function br(e,t){De.call(this),this.a=new Qn(t),this.l=e,this.b=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.a.l=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.a&&(e?e["X-WebChannel-Client-Profile"]=t.a:e={"X-WebChannel-Client-Profile":t.a}),this.a.O=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.a.i=e),this.h=t&&t.supportsCrossDomainXhr||!1,this.g=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.a.A=t,null!==(e=this.b)&&t in e&&t in(e=this.b)&&delete e[t]),this.f=new wr(this)}function gr(e){St.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.c=e)?(e=this.c,this.data=null!==t&&e in t?t[e]:void 0):this.data=t}else this.data=e}function _r(){Ot.call(this),this.status=1}function wr(e){this.a=e}(a=jn.prototype).ba=function(e,t,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+e);t=t?t.toUpperCase():"GET",this.B=e,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?gt(this.H):gt(wt),this.a.onreadystatechange=_(this.za,this);try{this.A=!0,this.a.open(t,String(e),!0),this.A=!1}catch(u){return void Vn(this,u)}e=n||"";var i=new Bt(this.headers);r&&Wt(r,(function(e,t){i.set(t,e)})),r=T(i.L()),n=l.FormData&&e instanceof l.FormData,!(0<=k(Ln,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.a.setRequestHeader(t,e)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{zn(this),0<this.o&&((this.D=Fn(this.a))?(this.a.timeout=this.o,this.a.ontimeout=_(this.xa,this)):this.m=Qe(this.xa,this.o,this)),this.l=!0,this.a.send(e),this.l=!1}catch(u){Vn(this,u)}},a.xa=function(){void 0!==c&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},a.abort=function(e){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),qn(this))},a.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),qn(this,!0)),jn.S.G.call(this)},a.za=function(){this.j||(this.A||this.l||this.g?Bn(this):this.Ta())},a.Ta=function(){Bn(this)},a.X=function(){try{return 2<Hn(this)?this.a.status:-1}catch(r){return-1}},a.$=function(){try{return this.a?this.a.responseText:""}catch(r){return""}},a.Na=function(e){if(this.a){var t=this.a.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Dn(t)}},a.ua=function(){return this.h},a.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(a=Qn.prototype).ha=8,a.v=1,a.Ba=function(e){if(this.h)if(this.h=null,1==this.v){if(!e){this.R=Math.floor(1e5*Math.random()),e=this.R++;var t,n=new kt(this,this.c,e,void 0),r=this.l;if(this.O&&(r?W(r=U(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)e:{for(var i=t=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(t+=o)){t=i;break e}if(4096===t||i===this.g.length-1){t=i+1;break e}}t=1e3}else t=1e3;t=ir(this,n,t),Zt(i=Kt(this.B),"RID",e),Zt(i,"CVER",22),this.A&&Zt(i,"X-HTTP-Session-Id",this.A),rr(this,i),this.i&&r&&Gn(i,this.i,r),xn(this.b,n),this.Ga&&Zt(i,"TYPE","init"),this.da?(Zt(i,"$req",t),Zt(i,"SID","null"),n.V=!0,Pt(n,i,null)):Pt(n,i,t),this.v=2}}else 3==this.v&&(e?nr(this,e):0==this.g.length||En(this.b)||nr(this))},a.Aa=function(){if(this.j=null,ur(this),this.V&&!(this.F||null==this.a||0>=this.N)){var e=2*this.N;this.c.info("BP detection timer enabled: "+e),this.s=vt(_(this.Sa,this),e)}},a.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,$n(this),ur(this))},a.Ra=function(){null!=this.m&&(this.m=null,$n(this),sr(this),pt(19))},a.Xa=function(e){e?(this.c.info("Successfully pinged google.com"),pt(2)):(this.c.info("Failed to ping google.com"),pt(1))},(a=yr.prototype).ta=function(){},a.sa=function(){},a.ra=function(){},a.qa=function(){},a.Ha=function(){},mr.prototype.a=function(e,t){return new br(e,t)},S(br,De),(a=br.prototype).addEventListener=function(e,t,n,r){br.S.addEventListener.call(this,e,t,n,r)},a.removeEventListener=function(e,t,n,r){br.S.removeEventListener.call(this,e,t,n,r)},a.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var e=this.a,t=this.l,n=this.b||void 0;pt(0),e.fa=t,e.W=n||{},e.H=e.T,e.B=dr(e,null,e.fa),er(e)},a.close=function(){Xn(this.a)},a.Pa=function(e){if("string"==typeof e){var t={};t.__data__=e,Zn(this.a,t)}else this.g?((t={}).__data__=Re(e),Zn(this.a,t)):Zn(this.a,e)},a.G=function(){this.a.f=null,delete this.f,Xn(this.a),delete this.a,br.S.G.call(this)},S(gr,St),S(_r,Ot),S(wr,yr),wr.prototype.ta=function(){this.a.dispatchEvent("a")},wr.prototype.sa=function(e){this.a.dispatchEvent(new gr(e))},wr.prototype.ra=function(e){this.a.dispatchEvent(new _r(e))},wr.prototype.qa=function(){this.a.dispatchEvent("b")},mr.prototype.createWebChannel=mr.prototype.a,br.prototype.send=br.prototype.Pa,br.prototype.open=br.prototype.Oa,br.prototype.close=br.prototype.close,yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,mt.COMPLETE="complete",_t.EventType=Et,Et.OPEN="a",Et.CLOSE="b",Et.ERROR="c",Et.MESSAGE="d",De.prototype.listen=De.prototype.va,jn.prototype.listenOnce=jn.prototype.wa,jn.prototype.getLastError=jn.prototype.Qa,jn.prototype.getLastErrorCode=jn.prototype.ua,jn.prototype.getStatus=jn.prototype.X,jn.prototype.getResponseJson=jn.prototype.Na,jn.prototype.getResponseText=jn.prototype.$,jn.prototype.send=jn.prototype.ba;var Er=function(){return new mr};n.createWebChannelTransport=Er;var Sr=yt;n.ErrorCode=Sr;var Or=mt;n.EventType=Or;var xr=_t;n.WebChannel=xr;var kr=jn;n.XhrIo=kr;var Cr={createWebChannelTransport:Er,ErrorCode:Sr,EventType:Or,WebChannel:xr,XhrIo:kr},Tr=Cr;n.default=Tr},{}],eA7g:[function(e,t,n){e("process");var r=e("process");function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(n,"__esModule",{value:!0});var o=e("tslib"),s=e("@firebase/app"),a=e("@firebase/logger"),u=e("@firebase/util"),c=e("@firebase/webchannel-wrapper"),l=e("@firebase/component");var f=function(e){return e&&"object"==i(e)&&"default"in e?e:{default:e}}(s),h={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},p=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return o.__extends(t,e),t}(Error),d=new a.Logger("@firebase/firestore");function v(){return d.logLevel}function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(d.logLevel<=a.LogLevel.DEBUG){var r=t.map(g);d.debug.apply(d,o.__spreadArrays(["Firestore (7.24.0): "+e],r))}}function m(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(d.logLevel<=a.LogLevel.ERROR){var r=t.map(g);d.error.apply(d,o.__spreadArrays(["Firestore (7.24.0): "+e],r))}}function b(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(d.logLevel<=a.LogLevel.WARN){var r=t.map(g);d.warn.apply(d,o.__spreadArrays(["Firestore (7.24.0): "+e],r))}}function g(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function _(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (7.24.0) INTERNAL ASSERTION FAILED: "+e;throw m(t),new Error(t)}function w(e,t){e||_()}function E(e,t){return e}function S(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function O(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function x(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var k=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&_(),void 0===n?n=e.length-t:n>e.length-t&&_(),this.segments=e,this.offset=t,this.t=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.t},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.i(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.o(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.u=function(e){return e=void 0===e?1:e,this.o(this.segments,this.offset+e,this.length-e)},e.prototype.h=function(){return this.o(this.segments,this.offset,this.length-1)},e.prototype.l=function(){return this.segments[this.offset]},e.prototype._=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.m=function(){return 0===this.length},e.prototype.T=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.I=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.A=function(){return this.segments.slice(this.offset,this.limit())},e.i=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.prototype.R=function(){return this.A().join("/")},t.prototype.toString=function(){return this.R()},t.g=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new p(h.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.P=function(){return new t([])},t}(k),T=/^[_a-zA-Z][_a-zA-Z0-9]*$/,I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.o=function(e,n,r){return new t(e,n,r)},t.V=function(e){return T.test(e)},t.prototype.R=function(){return this.A().map((function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.V(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.R()},t.prototype.p=function(){return 1===this.length&&"__name__"===this.get(0)},t.v=function(){return new t(["__name__"])},t.S=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new p(h.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<e.length;){var a=e[i];if("\\"===a){if(i+1===e.length)throw new p(h.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new p(h.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new p(h.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.P=function(){return new t([])},t}(k),P=function(){function e(e){this.path=e}return e.D=function(t){return new e(C.g(t))},e.C=function(t){return new e(C.g(t).u(5))},e.prototype.N=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===C.i(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.i=function(e,t){return C.i(e.path,t.path)},e.F=function(e){return e.length%2==0},e.$=function(t){return new e(new C(t.slice()))},e}();function A(e,t){if(0!==t.length)throw new p(h.INVALID_ARGUMENT,"Function "+e+"() does not support arguments, but was called with "+Q(t.length,"argument")+".")}function N(e,t,n){if(t.length!==n)throw new p(h.INVALID_ARGUMENT,"Function "+e+"() requires "+Q(n,"argument")+", but was called with "+Q(t.length,"argument")+".")}function D(e,t,n){if(t.length<n)throw new p(h.INVALID_ARGUMENT,"Function "+e+"() requires at least "+Q(n,"argument")+", but was called with "+Q(t.length,"argument")+".")}function j(e,t,n,r){if(t.length<n||t.length>r)throw new p(h.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+Q(t.length,"argument")+".")}function R(e,t,n,r){W(e,t,K(n)+" argument",r)}function M(e,t,n,r){void 0!==r&&R(e,t,n,r)}function L(e,t,n,r){W(e,t,n+" option",r)}function F(e,t,n,r){void 0!==r&&L(e,t,n,r)}function U(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(q(u))}var c=q(r);throw new p(h.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function V(e,t,n,r){if(!t.some((function(e){return e===r})))throw new p(h.INVALID_ARGUMENT,"Invalid value "+q(r)+" provided to function "+e+"() for its "+K(n)+" argument. Acceptable values: "+t.join(", "));return r}function W(e,t,n,r){if(!("object"===t?B(r):"non-empty string"===t?"string"==typeof r&&""!==r:i(r)===t)){var o=q(r);throw new p(h.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+o)}}function B(e){return"object"==i(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function q(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==i(e)){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":_()}function z(e,t,n){if(void 0===n)throw new p(h.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+K(t)+" argument, but it was undefined.")}function H(e,t,n){O(t,(function(t,r){if(n.indexOf(t)<0)throw new p(h.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))}))}function Y(e,t,n,r){var i=q(r);return new p(h.INVALID_ARGUMENT,"Function "+e+"() requires its "+K(n)+" argument to be a "+t+", but it was: "+i)}function G(e,t,n){if(n<=0)throw new p(h.INVALID_ARGUMENT,"Function "+e+"() requires its "+K(t)+" argument to be a positive number, but it was: "+n+".")}function K(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function Q(e,t){return e+" "+t+(1===e?"":"s")}function X(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var $=function(){function e(){}return e.k=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=X(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function J(e,t){return e<t?-1:e>t?1:0}function Z(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function ee(e){return e+"\0"}var te=function(){function e(e){this.M=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.M,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.M)},e.prototype.O=function(){return 2*this.M.length},e.prototype.L=function(e){return J(this.M,e.M)},e.prototype.isEqual=function(e){return this.M===e.M},e}();te.B=new te("");var ne=function(){function e(e){this.q=e}return e.fromBase64String=function(t){try{return new e(te.fromBase64String(t))}catch(t){throw new p(h.INVALID_ARGUMENT,"Failed to construct Bytes from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(te.fromUint8Array(t))},e.prototype.toBase64=function(){return this.q.toBase64()},e.prototype.toUint8Array=function(){return this.q.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this.q.isEqual(e.q)},e}();function re(){if("undefined"==typeof Uint8Array)throw new p(h.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function ie(){if("undefined"==typeof atob)throw new p(h.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.fromBase64String=function(e){N("Blob.fromBase64String",arguments,1),R("Blob.fromBase64String","string",1,e),ie();try{return new t(te.fromBase64String(e))}catch(e){throw new p(h.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(N("Blob.fromUint8Array",arguments,1),re(),!(e instanceof Uint8Array))throw Y("Blob.fromUint8Array","Uint8Array",1,e);return new t(te.fromUint8Array(e))},t.prototype.toBase64=function(){return N("Blob.toBase64",arguments,0),ie(),e.prototype.toBase64.call(this)},t.prototype.toUint8Array=function(){return N("Blob.toUint8Array",arguments,0),re(),e.prototype.toUint8Array.call(this)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(ne),se=function(e,t,n,r,i,o){this.U=e,this.persistenceKey=t,this.host=n,this.ssl=r,this.forceLongPolling=i,this.W=o},ae=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"j",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.L=function(e){return J(this.projectId,e.projectId)||J(this.database,e.database)},e}(),ue=function(){function e(e,t){this.K=e,this.G=t,this.H={}}return e.prototype.get=function(e){var t=this.K(e),n=this.H[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.G(s,e))return a}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.K(e),r=this.H[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.G(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.H[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.K(e),n=this.H[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.G(n[r][0],e))return 1===n.length?delete this.H[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){O(this.H,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];e(s,a)}}))},e.prototype.m=function(){return x(this.H)},e}(),ce=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new p(h.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new p(h.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new p(h.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new p(h.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype.Y=function(e){return this.seconds===e.seconds?J(this.nanoseconds,e.nanoseconds):J(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),le=function(){function e(e){this.timestamp=e}return e.J=function(t){return new e(t)},e.min=function(){return new e(new ce(0,0))},e.prototype.L=function(e){return this.timestamp.Y(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.X=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.Z=function(){return this.timestamp},e}();function fe(e){return null==e}function he(e){return 0===e&&1/e==-1/0}function pe(e){return"number"==typeof e&&Number.isInteger(e)&&!he(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var de=function(e,t,n,r,i,o,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.tt=null};function ve(e,t,n,r,i,o,s){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new de(e,t,n,r,i,o,s)}function ye(e){var t=E(e);if(null===t.tt){var n=t.path.R();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.R()+e.op.toString()+at(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return(t=e).field.R()+t.dir;var t})).join(","),fe(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=hr(t.startAt)),t.endAt&&(n+="|ub:",n+=hr(t.endAt)),t.tt=n}return t.tt}function me(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!mr(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!rt(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!dr(e.startAt,t.startAt)&&dr(e.endAt,t.endAt)}function be(e){return P.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ge,_e,we=function(){function e(e,t,n,r,i,o,s){void 0===i&&(i=le.min()),void 0===o&&(o=le.min()),void 0===s&&(s=te.B),this.target=e,this.targetId=t,this.et=n,this.sequenceNumber=r,this.nt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return e.prototype.st=function(t){return new e(this.target,this.targetId,this.et,t,this.nt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.it=function(t,n){return new e(this.target,this.targetId,this.et,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.rt=function(t){return new e(this.target,this.targetId,this.et,this.sequenceNumber,this.nt,t,this.resumeToken)},e}(),Ee=function(e){this.count=e};function Se(e){switch(e){case h.OK:return _();case h.CANCELLED:case h.UNKNOWN:case h.DEADLINE_EXCEEDED:case h.RESOURCE_EXHAUSTED:case h.INTERNAL:case h.UNAVAILABLE:case h.UNAUTHENTICATED:return!1;case h.INVALID_ARGUMENT:case h.NOT_FOUND:case h.ALREADY_EXISTS:case h.PERMISSION_DENIED:case h.FAILED_PRECONDITION:case h.ABORTED:case h.OUT_OF_RANGE:case h.UNIMPLEMENTED:case h.DATA_LOSS:return!0;default:return _()}}function Oe(e){if(void 0===e)return m("GRPC error has no .code"),h.UNKNOWN;switch(e){case ge.OK:return h.OK;case ge.CANCELLED:return h.CANCELLED;case ge.UNKNOWN:return h.UNKNOWN;case ge.DEADLINE_EXCEEDED:return h.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return h.RESOURCE_EXHAUSTED;case ge.INTERNAL:return h.INTERNAL;case ge.UNAVAILABLE:return h.UNAVAILABLE;case ge.UNAUTHENTICATED:return h.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return h.INVALID_ARGUMENT;case ge.NOT_FOUND:return h.NOT_FOUND;case ge.ALREADY_EXISTS:return h.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return h.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return h.FAILED_PRECONDITION;case ge.ABORTED:return h.ABORTED;case ge.OUT_OF_RANGE:return h.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return h.UNIMPLEMENTED;case ge.DATA_LOSS:return h.DATA_LOSS;default:return _()}}(_e=ge||(ge={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";var xe=function(){function e(e,t){this.i=e,this.root=t||Ce.EMPTY}return e.prototype.ot=function(t,n){return new e(this.i,this.root.ot(t,n,this.i).copy(null,null,Ce.at,null,null))},e.prototype.remove=function(t){return new e(this.i,this.root.remove(t,this.i).copy(null,null,Ce.at,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.m();){var n=this.i(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.m();){var r=this.i(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.m=function(){return this.root.m()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.ct=function(){return this.root.ct()},e.prototype.ut=function(){return this.root.ut()},e.prototype.ht=function(e){return this.root.ht(e)},e.prototype.forEach=function(e){this.ht((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.ht((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.lt=function(e){return this.root.lt(e)},e.prototype._t=function(){return new ke(this.root,null,this.i,!1)},e.prototype.ft=function(e){return new ke(this.root,e,this.i,!1)},e.prototype.dt=function(){return new ke(this.root,null,this.i,!0)},e.prototype.wt=function(e){return new ke(this.root,e,this.i,!0)},e}(),ke=function(){function e(e,t,n,r){this.Tt=r,this.Et=[];for(var i=1;!e.m();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.Tt?e.left:e.right;else{if(0===i){this.Et.push(e);break}this.Et.push(e),e=this.Tt?e.right:e.left}}return e.prototype.It=function(){var e=this.Et.pop(),t={key:e.key,value:e.value};if(this.Tt)for(e=e.left;!e.m();)this.Et.push(e),e=e.right;else for(e=e.right;!e.m();)this.Et.push(e),e=e.left;return t},e.prototype.At=function(){return this.Et.length>0},e.prototype.Rt=function(){if(0===this.Et.length)return null;var e=this.Et[this.Et.length-1];return{key:e.key,value:e.value}},e}(),Ce=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.m=function(){return!1},e.prototype.ht=function(e){return this.left.ht(e)||e(this.key,this.value)||this.right.ht(e)},e.prototype.lt=function(e){return this.right.lt(e)||e(this.key,this.value)||this.left.lt(e)},e.prototype.min=function(){return this.left.m()?this:this.left.min()},e.prototype.ct=function(){return this.min().key},e.prototype.ut=function(){return this.right.m()?this.key:this.right.ut()},e.prototype.ot=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.ot(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.ot(e,t,n))).gt()},e.prototype.Pt=function(){if(this.left.m())return e.EMPTY;var t=this;return t.left.yt()||t.left.left.yt()||(t=t.Vt()),(t=t.copy(null,null,null,t.left.Pt(),null)).gt()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.m()||i.left.yt()||i.left.left.yt()||(i=i.Vt()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.yt()&&(i=i.bt()),i.right.m()||i.right.yt()||i.right.left.yt()||(i=i.vt()),0===n(t,i.key)){if(i.right.m())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.Pt())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.gt()},e.prototype.yt=function(){return this.color},e.prototype.gt=function(){var e=this;return e.right.yt()&&!e.left.yt()&&(e=e.St()),e.left.yt()&&e.left.left.yt()&&(e=e.bt()),e.left.yt()&&e.right.yt()&&(e=e.Dt()),e},e.prototype.Vt=function(){var e=this.Dt();return e.right.left.yt()&&(e=(e=(e=e.copy(null,null,null,null,e.right.bt())).St()).Dt()),e},e.prototype.vt=function(){var e=this.Dt();return e.left.left.yt()&&(e=(e=e.bt()).Dt()),e},e.prototype.St=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.bt=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.Dt=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.Ct=function(){var e=this.Nt();return Math.pow(2,e)<=this.size+1},e.prototype.Nt=function(){if(this.yt()&&this.left.yt())throw _();if(this.right.yt())throw _();var e=this.left.Nt();if(e!==this.right.Nt())throw _();return e+(this.yt()?0:1)},e}();Ce.EMPTY=null,Ce.RED=!0,Ce.at=!1,Ce.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw _()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw _()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw _()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw _()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw _()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.ot=function(e,t,n){return new Ce(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.m=function(){return!0},e.prototype.ht=function(e){return!1},e.prototype.lt=function(e){return!1},e.prototype.ct=function(){return null},e.prototype.ut=function(){return null},e.prototype.yt=function(){return!1},e.prototype.Ct=function(){return!0},e.prototype.Nt=function(){return 0},e}());var Te=function(){function e(e){this.i=e,this.data=new xe(this.i)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.ct()},e.prototype.last=function(){return this.data.ut()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.ht((function(t,n){return e(t),!1}))},e.prototype.Ft=function(e,t){for(var n=this.data.ft(e[0]);n.At();){var r=n.It();if(this.i(r.key,e[1])>=0)return;t(r.key)}},e.prototype.xt=function(e,t){var n;for(n=void 0!==t?this.data.ft(t):this.data._t();n.At();)if(!e(n.It().key))return},e.prototype.$t=function(e){var t=this.data.ft(e);return t.At()?t.It().key:null},e.prototype._t=function(){return new Ie(this.data._t())},e.prototype.ft=function(e){return new Ie(this.data.ft(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).ot(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.m=function(){return this.data.m()},e.prototype.kt=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data._t(),r=t.data._t();n.At();){var i=n.It().key,o=r.It().key;if(0!==this.i(i,o))return!1}return!0},e.prototype.A=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.i);return n.data=t,n},e}(),Ie=function(){function e(e){this.Mt=e}return e.prototype.It=function(){return this.Mt.It().key},e.prototype.At=function(){return this.Mt.At()},e}(),Pe=new xe(P.i);function Ae(){return Pe}function Ne(){return Ae()}var De=new xe(P.i);function je(){return De}var Re=new xe(P.i),Me=new Te(P.i);function Le(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=Me,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Fe=new Te(J);function Ue(){return Fe}var Ve=function(){function e(e){this.i=e?function(t,n){return e(t,n)||P.i(t.key,n.key)}:function(e,t){return P.i(e.key,t.key)},this.Ot=je(),this.Lt=new xe(this.i)}return e.Bt=function(t){return new e(t.i)},e.prototype.has=function(e){return null!=this.Ot.get(e)},e.prototype.get=function(e){return this.Ot.get(e)},e.prototype.first=function(){return this.Lt.ct()},e.prototype.last=function(){return this.Lt.ut()},e.prototype.m=function(){return this.Lt.m()},e.prototype.indexOf=function(e){var t=this.Ot.get(e);return t?this.Lt.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.Lt.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.Lt.ht((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.Ot.ot(e.key,e),t.Lt.ot(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.Ot.remove(e),this.Lt.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.Lt._t(),r=t.Lt._t();n.At();){var i=n.It().key,o=r.It().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.i=this.i,r.Ot=t,r.Lt=n,r},e}(),We=function(){function e(){this.qt=new xe(P.i)}return e.prototype.track=function(e){var t=e.doc.key,n=this.qt.get(t);n?0!==e.type&&3===n.type?this.qt=this.qt.ot(t,e):3===e.type&&1!==n.type?this.qt=this.qt.ot(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.qt=this.qt.ot(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.qt=this.qt.ot(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.qt=this.qt.remove(t):1===e.type&&2===n.type?this.qt=this.qt.ot(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.qt=this.qt.ot(t,{type:2,doc:e.doc}):_():this.qt=this.qt.ot(t,e)},e.prototype.Ut=function(){var e=[];return this.qt.ht((function(t,n){e.push(n)})),e},e}(),Be=function(){function e(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.Qt=n,this.docChanges=r,this.Wt=i,this.fromCache=o,this.jt=s,this.Kt=a}return e.Gt=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,Ve.Bt(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.Wt.m()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.jt===e.jt&&this.Wt.isEqual(e.Wt)&&$n(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.Qt.isEqual(e.Qt)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),qe=function(){function e(e,t,n,r,i){this.nt=e,this.zt=t,this.Ht=n,this.Yt=r,this.Jt=i}return e.Xt=function(t,n){var r=new Map;return r.set(t,ze.Zt(t,n)),new e(le.min(),r,Ue(),Ae(),Le())},e}(),ze=function(){function e(e,t,n,r,i){this.resumeToken=e,this.te=t,this.ee=n,this.ne=r,this.se=i}return e.Zt=function(t,n){return new e(te.B,n,Le(),Le(),Le())},e}(),He=function(e,t,n,r){this.ie=e,this.removedTargetIds=t,this.key=n,this.re=r},Ye=function(e,t){this.targetId=e,this.oe=t},Ge=function(e,t,n,r){void 0===n&&(n=te.B),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},Ke=function(){function e(){this.ae=0,this.ce=$e(),this.ue=te.B,this.he=!1,this.le=!0}return Object.defineProperty(e.prototype,"te",{get:function(){return this.he},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.ue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_e",{get:function(){return 0!==this.ae},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fe",{get:function(){return this.le},enumerable:!1,configurable:!0}),e.prototype.de=function(e){e.O()>0&&(this.le=!0,this.ue=e)},e.prototype.we=function(){var e=Le(),t=Le(),n=Le();return this.ce.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:_()}})),new ze(this.ue,this.he,e,t,n)},e.prototype.me=function(){this.le=!1,this.ce=$e()},e.prototype.Te=function(e,t){this.le=!0,this.ce=this.ce.ot(e,t)},e.prototype.Ee=function(e){this.le=!0,this.ce=this.ce.remove(e)},e.prototype.Ie=function(){this.ae+=1},e.prototype.Ae=function(){this.ae-=1},e.prototype.Re=function(){this.le=!0,this.he=!0},e}(),Qe=function(){function e(e){this.ge=e,this.Pe=new Map,this.ye=Ae(),this.Ve=Xe(),this.pe=new Te(J)}return e.prototype.be=function(e){for(var t=0,n=e.ie;t<n.length;t++){var r=n[t];e.re instanceof Rn?this.ve(r,e.re):e.re instanceof Mn&&this.Se(r,e.key,e.re)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){var s=o[i];this.Se(s,e.key,e.re)}},e.prototype.De=function(e){var t=this;this.Ce(e,(function(n){var r=t.Ne(n);switch(e.state){case 0:t.Fe(n)&&r.de(e.resumeToken);break;case 1:r.Ae(),r._e||r.me(),r.de(e.resumeToken);break;case 2:r.Ae(),r._e||t.removeTarget(n);break;case 3:t.Fe(n)&&(r.Re(),r.de(e.resumeToken));break;case 4:t.Fe(n)&&(t.xe(n),r.de(e.resumeToken));break;default:_()}}))},e.prototype.Ce=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Pe.forEach((function(e,r){n.Fe(r)&&t(r)}))},e.prototype.$e=function(e){var t=e.targetId,n=e.oe.count,r=this.ke(t);if(r){var i=r.target;if(be(i))if(0===n){var o=new P(i.path);this.Se(t,o,new Mn(o,le.min()))}else w(1===n);else this.Me(t)!==n&&(this.xe(t),this.pe=this.pe.add(t))}},e.prototype.Oe=function(e){var t=this,n=new Map;this.Pe.forEach((function(r,i){var o=t.ke(i);if(o){if(r.te&&be(o.target)){var s=new P(o.target.path);null!==t.ye.get(s)||t.Le(i,s)||t.Se(i,s,new Mn(s,e))}r.fe&&(n.set(i,r.we()),r.me())}}));var r=Le();this.Ve.forEach((function(e,n){var i=!0;n.xt((function(e){var n=t.ke(e);return!n||2===n.et||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new qe(e,n,this.pe,this.ye,r);return this.ye=Ae(),this.Ve=Xe(),this.pe=new Te(J),i},e.prototype.ve=function(e,t){if(this.Fe(e)){var n=this.Le(e,t.key)?2:0;this.Ne(e).Te(t.key,n),this.ye=this.ye.ot(t.key,t),this.Ve=this.Ve.ot(t.key,this.Be(t.key).add(e))}},e.prototype.Se=function(e,t,n){if(this.Fe(e)){var r=this.Ne(e);this.Le(e,t)?r.Te(t,1):r.Ee(t),this.Ve=this.Ve.ot(t,this.Be(t).delete(e)),n&&(this.ye=this.ye.ot(t,n))}},e.prototype.removeTarget=function(e){this.Pe.delete(e)},e.prototype.Me=function(e){var t=this.Ne(e).we();return this.ge.qe(e).size+t.ee.size-t.se.size},e.prototype.Ie=function(e){this.Ne(e).Ie()},e.prototype.Ne=function(e){var t=this.Pe.get(e);return t||(t=new Ke,this.Pe.set(e,t)),t},e.prototype.Be=function(e){var t=this.Ve.get(e);return t||(t=new Te(J),this.Ve=this.Ve.ot(e,t)),t},e.prototype.Fe=function(e){var t=null!==this.ke(e);return t||y("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ke=function(e){var t=this.Pe.get(e);return t&&t._e?null:this.ge.Ue(e)},e.prototype.xe=function(e){var t=this;this.Pe.set(e,new Ke),this.ge.qe(e).forEach((function(n){t.Se(e,n,null)}))},e.prototype.Le=function(e,t){return this.ge.qe(e).has(t)},e}();function Xe(){return new xe(P.i)}function $e(){return new xe(P.i)}function Je(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ze(e){var t=e.mapValue.fields.__previous_value__;return Je(t)?Ze(t):t}function et(e){var t=ct(e.mapValue.fields.__local_write_time__.timestampValue);return new ce(t.seconds,t.nanos)}var tt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nt(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Je(e)?4:10:_()}function rt(e,t){var n=nt(e);if(n!==nt(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return et(e).isEqual(et(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ct(e.timestampValue),r=ct(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ft(e.bytesValue).isEqual(ft(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return lt(e.geoPointValue.latitude)===lt(t.geoPointValue.latitude)&&lt(e.geoPointValue.longitude)===lt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return lt(e.integerValue)===lt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=lt(e.doubleValue),r=lt(t.doubleValue);return n===r?he(n)===he(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Z(e.arrayValue.values||[],t.arrayValue.values||[],rt);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(S(n)!==S(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!rt(n[i],r[i])))return!1;return!0}(e,t);default:return _()}}function it(e,t){return void 0!==(e.values||[]).find((function(e){return rt(e,t)}))}function ot(e,t){var n=nt(e),r=nt(t);if(n!==r)return J(n,r);switch(n){case 0:return 0;case 1:return J(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=lt(e.integerValue||e.doubleValue),r=lt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return st(e.timestampValue,t.timestampValue);case 4:return st(et(e),et(t));case 5:return J(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ft(e),r=ft(t);return n.L(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=J(n[i],r[i]);if(0!==o)return o}return J(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=J(lt(e.latitude),lt(t.latitude));return 0!==n?n:J(lt(e.longitude),lt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=ot(n[i],r[i]);if(o)return o}return J(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=J(r[s],o[s]);if(0!==a)return a;var u=ot(n[r[s]],i[o[s]]);if(0!==u)return u}return J(r.length,o.length)}(e.mapValue,t.mapValue);default:throw _()}}function st(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return J(e,t);var n=ct(e),r=ct(t),i=J(n.seconds,r.seconds);return 0!==i?i:J(n.nanos,r.nanos)}function at(e){return ut(e)}function ut(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ct(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ft(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,P.C(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=ut(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+ut(e.fields[o])}return t+"}"}(e.mapValue):_();var t,n}function ct(e){if(w(!!e),"string"==typeof e){var t=0,n=tt.exec(e);if(w(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:lt(e.seconds),nanos:lt(e.nanos)}}function lt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ft(e){return"string"==typeof e?te.fromBase64String(e):te.fromUint8Array(e)}function ht(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.R()}}function pt(e){return!!e&&"integerValue"in e}function dt(e){return!!e&&"arrayValue"in e}function vt(e){return!!e&&"nullValue"in e}function yt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function mt(e){return!!e&&"mapValue"in e}var bt={asc:"ASCENDING",desc:"DESCENDING"},gt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_t=function(e,t){this.U=e,this.Qe=t};function wt(e){return{integerValue:""+e}}function Et(e,t){if(e.Qe){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:he(t)?"-0":t}}function St(e,t){return pe(t)?wt(t):Et(e,t)}function Ot(e,t){return e.Qe?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function xt(e,t){return e.Qe?t.toBase64():t.toUint8Array()}function kt(e,t){return Ot(e,t.Z())}function Ct(e){return w(!!e),le.J(function(e){var t=ct(e);return new ce(t.seconds,t.nanos)}(e))}function Tt(e,t){return function(e){return new C(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).R()}function It(e){var t=C.g(e);return w(Jt(t)),t}function Pt(e,t){return Tt(e.U,t.path)}function At(e,t){var n=It(t);return w(n.get(1)===e.U.projectId),w(!n.get(3)&&!e.U.database||n.get(3)===e.U.database),new P(Rt(n))}function Nt(e,t){return Tt(e.U,t)}function Dt(e){var t=It(e);return 4===t.length?C.P():Rt(t)}function jt(e){return new C(["projects",e.U.projectId,"databases",e.U.database]).R()}function Rt(e){return w(e.length>4&&"documents"===e.get(4)),e.u(5)}function Mt(e,t,n){return{name:Pt(e,t),fields:n.proto.mapValue.fields}}function Lt(e,t){var n;if(t instanceof Sn)n={update:Mt(e,t.key,t.value)};else if(t instanceof In)n={delete:Pt(e,t.key)};else if(t instanceof On)n={update:Mt(e,t.key,t.data),updateMask:$t(t.We)};else if(t instanceof kn)n={transform:{document:Pt(e,t.key),fieldTransforms:t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof rn)return{fieldPath:t.field.R(),setToServerValue:"REQUEST_TIME"};if(n instanceof on)return{fieldPath:t.field.R(),appendMissingElements:{values:n.elements}};if(n instanceof an)return{fieldPath:t.field.R(),removeAllFromArray:{values:n.elements}};if(n instanceof cn)return{fieldPath:t.field.R(),increment:n.je};throw _()}(0,e)}))}};else{if(!(t instanceof Pn))return _();n={verify:Pt(e,t.key)}}return t.Ge.Ke||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:kt(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:_()}(e,t.Ge)),n}function Ft(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?vn.updateTime(Ct(e.updateTime)):void 0!==e.exists?vn.exists(e.exists):vn.ze()}(t.currentDocument):vn.ze();if(t.update){t.update.name;var r=At(e,t.update.name),i=new An({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new hn(t.map((function(e){return I.S(e)})))}(t.updateMask);return new On(r,i,o,n)}return new Sn(r,i,n)}if(t.delete){var s=At(e,t.delete);return new In(s,n)}if(t.transform){var a=At(e,t.transform.document),u=t.transform.fieldTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)w("REQUEST_TIME"===t.setToServerValue),n=new rn;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new on(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new an(i)}else"increment"in t?n=new cn(e,t.increment):_();var o=I.S(t.fieldPath);return new pn(o,n)}(e,t)}));return w(!0===n.exists),new kn(a,u)}if(t.verify){var c=At(e,t.verify);return new Pn(c,n)}return _()}function Ut(e,t){return{documents:[Nt(e,t.path)]}}function Vt(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Nt(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Nt(e,r.h()),n.structuredQuery.from=[{collectionId:r._()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(yt(e.value))return{unaryFilter:{field:Gt(e.field),op:"IS_NAN"}};if(vt(e.value))return{unaryFilter:{field:Gt(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(yt(e.value))return{unaryFilter:{field:Gt(e.field),op:"IS_NOT_NAN"}};if(vt(e.value))return{unaryFilter:{field:Gt(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gt(e.field),op:Yt(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Gt(e.field),direction:Ht(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(e,t){return e.Qe||fe(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=qt(t.startAt)),t.endAt&&(n.structuredQuery.endAt=qt(t.endAt)),n}function Wt(e){var t=Dt(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,o=null;if(r>0){w(1===r);var s=n.from[0];s.allDescendants?o=s.collectionId:t=t.child(s.collectionId)}var a=[];n.where&&(a=Bt(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new vr(Kt(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var c=null;n.limit&&(c=function(e){var t;return fe(t="object"==i(e)?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=zt(n.startAt));var f=null;return n.endAt&&(f=zt(n.endAt)),Gn(Un(t,o,u,a,c,"F",l,f))}function Bt(e){return e?void 0!==e.unaryFilter?[Xt(e)]:void 0!==e.fieldFilter?[Qt(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Bt(e)})).reduce((function(e,t){return e.concat(t)})):_():[]}function qt(e){return{before:e.before,values:e.position}}function zt(e){var t=!!e.before,n=e.values||[];return new fr(n,t)}function Ht(e){return bt[e]}function Yt(e){return gt[e]}function Gt(e){return{fieldPath:e.R()}}function Kt(e){return I.S(e.fieldPath)}function Qt(e){return nr.create(Kt(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _()}}(e.fieldFilter.op),e.fieldFilter.value)}function Xt(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Kt(e.unaryFilter.field);return nr.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Kt(e.unaryFilter.field);return nr.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Kt(e.unaryFilter.field);return nr.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Kt(e.unaryFilter.field);return nr.create(i,"!=",{nullValue:"NULL_VALUE"});default:return _()}}function $t(e){var t=[];return e.fields.forEach((function(e){return t.push(e.R())})),{fieldPaths:t}}function Jt(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var Zt=function(){this.He=void 0};function en(e,t,n){return e instanceof rn?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof on?sn(e,t):e instanceof an?un(e,t):function(e,t){var n=nn(e,t),r=ln(n)+ln(e.je);return pt(n)&&pt(e.je)?wt(r):Et(e.serializer,r)}(e,t)}function tn(e,t,n){return e instanceof on?sn(e,t):e instanceof an?un(e,t):n}function nn(e,t){return e instanceof cn?pt(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t}(Zt),on=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return o.__extends(t,e),t}(Zt);function sn(e,t){for(var n=fn(t),r=function(e){n.some((function(t){return rt(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var an=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return o.__extends(t,e),t}(Zt);function un(e,t){for(var n=fn(t),r=function(e){n=n.filter((function(t){return!rt(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var cn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).serializer=t,r.je=n,r}return o.__extends(t,e),t}(Zt);function ln(e){return lt(e.integerValue||e.doubleValue)}function fn(e){return dt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var hn=function(){function e(e){this.fields=e,e.sort(I.i)}return e.prototype.Ye=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].T(e))return!0;return!1},e.prototype.isEqual=function(e){return Z(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),pn=function(e,t){this.field=e,this.transform=t},dn=function(e,t){this.version=e,this.transformResults=t},vn=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.ze=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"Ke",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function yn(e,t){return void 0!==e.updateTime?t instanceof Rn&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t instanceof Rn}var mn=function(){};function bn(e,t,n){return e instanceof Sn?function(e,t,n){return new Rn(e.key,n.version,e.value,{hasCommittedMutations:!0})}(e,0,n):e instanceof On?function(e,t,n){if(!yn(e.Ge,t))return new Ln(e.key,n.version);var r=xn(e,t);return new Rn(e.key,n.version,r,{hasCommittedMutations:!0})}(e,t,n):e instanceof kn?function(e,t,n){if(w(null!=n.transformResults),!yn(e.Ge,t))return new Ln(e.key,n.version);var r=Cn(e,t),i=function(e,t,n){var r=[];w(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],s=o.transform,a=null;t instanceof Rn&&(a=t.field(o.field)),r.push(tn(s,a,n[i]))}return r}(e.fieldTransforms,t,n.transformResults),o=n.version,s=Tn(e,r.data(),i);return new Rn(e.key,o,s,{hasCommittedMutations:!0})}(e,t,n):function(e,t,n){return new Mn(e.key,n.version,{hasCommittedMutations:!0})}(e,0,n)}function gn(e,t,n,r){return e instanceof Sn?function(e,t){if(!yn(e.Ge,t))return t;var n=En(t);return new Rn(e.key,n,e.value,{Je:!0})}(e,t):e instanceof On?function(e,t){if(!yn(e.Ge,t))return t;var n=En(t),r=xn(e,t);return new Rn(e.key,n,r,{Je:!0})}(e,t):e instanceof kn?function(e,t,n,r){if(!yn(e.Ge,t))return t;var i=Cn(e,t),o=function(e,t,n,r){for(var i=[],o=0,s=e;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Rn&&(c=n.field(a.field)),null===c&&r instanceof Rn&&(c=r.field(a.field)),i.push(en(u,c,t))}return i}(e.fieldTransforms,n,t,r),s=Tn(e,i.data(),o);return new Rn(e.key,i.version,s,{Je:!0})}(e,t,r,n):function(e,t){return yn(e.Ge,t)?new Mn(e.key,le.min()):t}(e,t)}function _n(e,t){return e instanceof kn?function(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],s=t instanceof Rn?t.field(o.field):void 0,a=nn(o.transform,s||null);null!=a&&(n=null==n?(new Nn).set(o.field,a):n.set(o.field,a))}return n?n.Xe():null}(e,t):null}function wn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.Ge.isEqual(t.Ge)&&(0===e.type?e.value.isEqual(t.value):1===e.type?e.data.isEqual(t.data)&&e.We.isEqual(t.We):2!==e.type||Z(e.fieldTransforms,e.fieldTransforms,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof on&&t instanceof on||e instanceof an&&t instanceof an?Z(e.elements,t.elements,rt):e instanceof cn&&t instanceof cn?rt(e.je,t.je):e instanceof rn&&t instanceof rn}(e.transform,t.transform)}(e,t)})))}function En(e){return e instanceof Rn?e.version:le.min()}var Sn=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).key=t,i.value=n,i.Ge=r,i.type=0,i}return o.__extends(t,e),t}(mn),On=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this)||this).key=t,o.data=n,o.We=r,o.Ge=i,o.type=1,o}return o.__extends(t,e),t}(mn);function xn(e,t){return function(e,t){var n=new Nn(t);return e.We.fields.forEach((function(t){if(!t.m()){var r=e.data.field(t);null!==r?n.set(t,r):n.delete(t)}})),n.Xe()}(e,t instanceof Rn?t.data():An.empty())}var kn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.fieldTransforms=n,r.type=2,r.Ge=vn.exists(!0),r}return o.__extends(t,e),t}(mn);function Cn(e,t){return t}function Tn(e,t,n){for(var r=new Nn(t),i=0;i<e.fieldTransforms.length;i++){var o=e.fieldTransforms[i];r.set(o.field,n[i])}return r.Xe()}var In=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ge=n,r.type=3,r}return o.__extends(t,e),t}(mn),Pn=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.Ge=n,r.type=4,r}return o.__extends(t,e),t}(mn),An=function(){function e(e){this.proto=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.m())return this.proto;for(var t=this.proto,n=0;n<e.length-1;++n){if(!t.mapValue.fields)return null;if(!mt(t=t.mapValue.fields[e.get(n)]))return null}return(t=(t.mapValue.fields||{})[e._()])||null},e.prototype.isEqual=function(e){return rt(this.proto,e.proto)},e}(),Nn=function(){function e(e){void 0===e&&(e=An.empty()),this.Ze=e,this.tn=new Map}return e.prototype.set=function(e,t){return this.en(e,t),this},e.prototype.delete=function(e){return this.en(e,null),this},e.prototype.en=function(e,t){for(var n=this.tn,r=0;r<e.length-1;++r){var i=e.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===nt(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(e._(),t)},e.prototype.Xe=function(){var e=this.nn(I.P(),this.tn);return null!=e?new An(e):this.Ze},e.prototype.nn=function(e,t){var n=this,r=!1,i=this.Ze.field(e),o=mt(i)?Object.assign({},i.mapValue.fields):{};return t.forEach((function(t,i){if(t instanceof Map){var s=n.nn(e.child(i),t);null!=s&&(o[i]=s,r=!0)}else null!==t?(o[i]=t,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},e}();function Dn(e){var t=[];return O(e.fields||{},(function(e,n){var r=new I([e]);if(mt(n)){var i=Dn(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];t.push(r.child(a))}}else t.push(r)})),new hn(t)}var jn=function(e,t){this.key=e,this.version=t},Rn=function(e){function t(t,n,r,i){var o=this;return(o=e.call(this,t,n)||this).sn=r,o.Je=!!i.Je,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return o.__extends(t,e),t.prototype.field=function(e){return this.sn.field(e)},t.prototype.data=function(){return this.sn},t.prototype.rn=function(){return this.sn.proto},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.Je===e.Je&&this.hasCommittedMutations===e.hasCommittedMutations&&this.sn.isEqual(e.sn)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.sn.toString()+", {hasLocalMutations: "+this.Je+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.Je||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t}(jn),Mn=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return o.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(jn),Ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(jn),Fn=function(e,t,n,r,i,o,s,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.on=n,this.filters=r,this.limit=i,this.an=o,this.startAt=s,this.endAt=a,this.cn=null,this.un=null,this.startAt,this.endAt};function Un(e,t,n,r,i,o,s,a){return new Fn(e,t,n,r,i,o,s,a)}function Vn(e){return new Fn(e)}function Wn(e){return!fe(e.limit)&&"F"===e.an}function Bn(e){return!fe(e.limit)&&"L"===e.an}function qn(e){return e.on.length>0?e.on[0].field:null}function zn(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.hn())return r.field}return null}function Hn(e){return null!==e.collectionGroup}function Yn(e){var t=E(e);if(null===t.cn){t.cn=[];var n=zn(t),r=qn(t);if(null!==n&&null===r)n.p()||t.cn.push(new vr(n)),t.cn.push(new vr(I.v(),"asc"));else{for(var i=!1,o=0,s=t.on;o<s.length;o++){var a=s[o];t.cn.push(a),a.field.p()&&(i=!0)}if(!i){var u=t.on.length>0?t.on[t.on.length-1].dir:"asc";t.cn.push(new vr(I.v(),u))}}}return t.cn}function Gn(e){var t=E(e);if(!t.un)if("F"===t.an)t.un=ve(t.path,t.collectionGroup,Yn(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Yn(t);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new vr(o.field,s))}var a=t.endAt?new fr(t.endAt.position,!t.endAt.before):null,u=t.startAt?new fr(t.startAt.position,!t.startAt.before):null;t.un=ve(t.path,t.collectionGroup,n,t.filters,t.limit,a,u)}return t.un}function Kn(e,t,n){return new Fn(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qn(e,t){return new Fn(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),e.limit,e.an,t,e.endAt)}function Xn(e,t){return new Fn(e.path,e.collectionGroup,e.on.slice(),e.filters.slice(),e.limit,e.an,e.startAt,t)}function $n(e,t){return me(Gn(e),Gn(t))&&e.an===t.an}function Jn(e){return ye(Gn(e))+"|lt:"+e.an}function Zn(e){return"Query(target="+function(e){var t=e.path.R();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.R()+" "+t.op+" "+at(t.value);var t})).join(", ")+"]"),fe(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return(t=e).field.R()+" ("+t.dir+")";var t})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+hr(e.startAt)),e.endAt&&(t+=", endAt: "+hr(e.endAt)),"Target("+t+")"}(Gn(e))+"; limitType="+e.an+")"}function er(e,t){return function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.N(e.collectionGroup)&&e.path.T(n):P.F(e.path)?e.path.isEqual(n):e.path.I(n)}(e,t)&&function(e,t){for(var n=0,r=e.on;n<r.length;n++){var i=r[n];if(!i.field.p()&&null===t.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!pr(e.startAt,Yn(e),t)||e.endAt&&pr(e.endAt,Yn(e),t))}(e,t)}function tr(e){return function(t,n){for(var r=!1,i=0,o=Yn(e);i<o.length;i++){var s=o[i],a=yr(s,t,n);if(0!==a)return a;r=r||s.field.p()}return 0}}var nr=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return o.__extends(t,e),t.create=function(e,n,r){if(e.p())return"in"===n||"not-in"===n?this.ln(e,n,r):new rr(e,n,r);if(vt(r)){if("=="!==n&&"!="!==n)throw new p(h.INVALID_ARGUMENT,"Invalid query. Null only supports '==' and '!=' comparisons.");return new t(e,n,r)}if(yt(r)){if("=="!==n&&"!="!==n)throw new p(h.INVALID_ARGUMENT,"Invalid query. NaN only supports '==' and '!=' comparisons.");return new t(e,n,r)}return"array-contains"===n?new ar(e,r):"in"===n?new ur(e,r):"not-in"===n?new cr(e,r):"array-contains-any"===n?new lr(e,r):new t(e,n,r)},t.ln=function(e,t,n){return"in"===t?new ir(e,n):new or(e,n)},t.prototype.matches=function(e){var t=e.field(this.field);return"!="===this.op?null!==t&&this._n(ot(t,this.value)):null!==t&&nt(this.value)===nt(t)&&this._n(ot(t,this.value))},t.prototype._n=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _()}},t.prototype.hn=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),rr=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=P.C(r.referenceValue),i}return o.__extends(t,e),t.prototype.matches=function(e){var t=P.i(e.key,this.key);return this._n(t)},t}(nr),ir=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=sr("in",n),r}return o.__extends(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(nr),or=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=sr("not-in",n),r}return o.__extends(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(nr);function sr(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return P.C(e.referenceValue)}))}var ar=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return o.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return dt(t)&&it(t.arrayValue,this.value)},t}(nr),ur=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return o.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return null!==t&&it(this.value.arrayValue,t)},t}(nr),cr=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return o.__extends(t,e),t.prototype.matches=function(e){if(it(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.field(this.field);return null!==t&&!it(this.value.arrayValue,t)},t}(nr),lr=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return o.__extends(t,e),t.prototype.matches=function(e){var t=this,n=e.field(this.field);return!(!dt(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return it(t.value.arrayValue,e)}))},t}(nr),fr=function(e,t){this.position=e,this.before=t};function hr(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return at(e)})).join(",")}function pr(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],s=e.position[i];if(r=o.field.p()?P.i(P.C(s.referenceValue),n.key):ot(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function dr(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!rt(e.position[n],t.position[n]))return!1;return!0}var vr=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function yr(e,t,n){var r=e.field.p()?P.i(t.key,n.key):function(e,t,n){var r=t.field(e),i=n.field(e);return null!==r&&null!==i?ot(r,i):_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return _()}}function mr(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var br=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},gr=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.fn=e,this.dn=t,this.wn=n,this.mn=r,this.Tn=i,this.En=0,this.In=null,this.An=Date.now(),this.reset()}return e.prototype.reset=function(){this.En=0},e.prototype.Rn=function(){this.En=this.Tn},e.prototype.gn=function(e){var t=this;this.cancel();var n=Math.floor(this.En+this.Pn()),r=Math.max(0,Date.now()-this.An),i=Math.max(0,n-r);i>0&&y("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.En+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.In=this.fn.yn(this.dn,i,(function(){return t.An=Date.now(),e()})),this.En*=this.mn,this.En<this.wn&&(this.En=this.wn),this.En>this.Tn&&(this.En=this.Tn)},e.prototype.Vn=function(){null!==this.In&&(this.In.pn(),this.In=null)},e.prototype.cancel=function(){null!==this.In&&(this.In.cancel(),this.In=null)},e.prototype.Pn=function(){return(Math.random()-.5)*this.En},e}(),_r=function(){function e(e){var t=this;this.bn=null,this.vn=null,this.result=void 0,this.error=void 0,this.Sn=!1,this.Dn=!1,e((function(e){t.Sn=!0,t.result=e,t.bn&&t.bn(e)}),(function(e){t.Sn=!0,t.error=e,t.vn&&t.vn(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.Dn&&_(),this.Dn=!0,this.Sn?this.error?this.Cn(n,this.error):this.Nn(t,this.result):new e((function(e,i){r.bn=function(n){r.Nn(t,n).next(e,i)},r.vn=function(t){r.Cn(n,t).next(e,i)}}))},e.prototype.Fn=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.xn=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.Nn=function(t,n){return t?this.xn((function(){return t(n)})):e.resolve(n)},e.prototype.Cn=function(t,n){return t?this.xn((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.$n=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.kn=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.$n(r)},e}(),wr=function(){function e(t,n,r){this.name=t,this.version=n,this.Mn=r,12.2===e.On(u.getUA())&&m("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return y("SimpleDb","Removing database:",e),Cr(window.indexedDB.deleteDatabase(e)).Fn()},e.Ln=function(){if("undefined"==typeof indexedDB)return!1;if(e.Bn())return!0;var t=u.getUA(),n=e.On(t),r=0<n&&n<10,i=e.qn(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.Bn=function(){var e;return void 0!==r&&"YES"===(null===(e=r.env)||void 0===e?void 0:e.Un)},e.Qn=function(e,t){return e.store(t)},e.On=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.qn=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Wn=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(y("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Sr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new p(h.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Sr(e,n))},i.onupgradeneeded=function(e){y("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Mn.createOrUpgrade(t,i.transaction,e.oldVersion,n.version).next((function(){y("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.jn&&(this.db.onversionchange=function(e){return n.jn(e)}),this.db)]}}))}))},e.prototype.Kn=function(e){this.jn=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return o.__awaiter(this,void 0,void 0,(function(){var s,a,u,c,l;return o.__generator(this,(function(f){switch(f.label){case 0:s="readonly"===t,a=0,u=function(){var t,i,u,l,f;return o.__generator(this,(function(o){switch(o.label){case 0:++a,o.label=1;case 1:return o.trys.push([1,4,,5]),[4,c.Wn(e)];case 2:return c.db=o.sent(),t=xr.open(c.db,e,s?"readonly":"readwrite",n),i=r(t).catch((function(e){return t.abort(e),_r.reject(e)})).Fn(),u={},i.catch((function(){})),[4,t.Gn];case 3:return[2,(u.value=(o.sent(),i),u)];case 4:return l=o.sent(),f="FirebaseError"!==l.name&&a<3,y("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),c.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},c=this,f.label=1;case 1:return[5,u()];case 2:if("object"==i(l=f.sent()))return[2,l.value];f.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),Er=function(){function e(e){this.zn=e,this.Hn=!1,this.Yn=null}return Object.defineProperty(e.prototype,"Sn",{get:function(){return this.Hn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Jn",{get:function(){return this.Yn},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.zn=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Hn=!0},e.prototype.Xn=function(e){this.Yn=e},e.prototype.delete=function(){return Cr(this.zn.delete())},e}(),Sr=function(e){function t(t,n){var r=this;return(r=e.call(this,h.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return o.__extends(t,e),t}(p);function Or(e){return"IndexedDbTransactionError"===e.name}var xr=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.Zn=new br,this.transaction.oncomplete=function(){n.Zn.resolve()},this.transaction.onabort=function(){t.error?n.Zn.reject(new Sr(e,t.error)):n.Zn.resolve()},this.transaction.onerror=function(t){var r=Ir(t.target.error);n.Zn.reject(new Sr(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Sr(n,t)}},Object.defineProperty(e.prototype,"Gn",{get:function(){return this.Zn.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.Zn.reject(e),this.aborted||(y("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new kr(t)},e}(),kr=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(y("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(y("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Cr(n)},e.prototype.add=function(e){return y("SimpleDb","ADD",this.store.name,e,e),Cr(this.store.add(e))},e.prototype.get=function(e){var t=this;return Cr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),y("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return y("SimpleDb","DELETE",this.store.name,e),Cr(this.store.delete(e))},e.prototype.count=function(){return y("SimpleDb","COUNT",this.store.name),Cr(this.store.count())},e.prototype.ts=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.es(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.ns=function(e,t){y("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.ss=!1;var r=this.cursor(n);return this.es(r,(function(e,t,n){return n.delete()}))},e.prototype.rs=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.es(r,t)},e.prototype.os=function(e){var t=this.cursor({});return new _r((function(n,r){t.onerror=function(e){var t=Ir(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.es=function(e,t){var n=[];return new _r((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new Er(i),s=t(i.primaryKey,i.value,o);if(s instanceof _r){var a=s.catch((function(e){return o.done(),_r.reject(e)}));n.push(a)}o.Sn?r():null===o.Jn?i.continue():i.continue(o.Jn)}else r()}})).next((function(){return _r.$n(n)}))},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.ss?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Cr(e){return new _r((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Ir(e.target.error);n(t)}}))}var Tr=!1;function Ir(e){var t=wr.On(u.getUA());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new p("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Tr||(Tr=!0,setTimeout((function(){throw r}),0)),r}}return e}function Pr(){return"undefined"!=typeof window?window:null}function Ar(){return"undefined"!=typeof document?document:null}var Nr=function(){function e(e,t,n,r,i){this.cs=e,this.dn=t,this.us=n,this.op=r,this.hs=i,this.ls=new br,this.then=this.ls.promise.then.bind(this.ls.promise),this.ls.promise.catch((function(e){}))}return e._s=function(t,n,r,i,o){var s=new e(t,n,Date.now()+r,i,o);return s.start(r),s},e.prototype.start=function(e){var t=this;this.fs=setTimeout((function(){return t.ds()}),e)},e.prototype.pn=function(){return this.ds()},e.prototype.cancel=function(e){null!==this.fs&&(this.clearTimeout(),this.ls.reject(new p(h.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.ds=function(){var e=this;this.cs.ws((function(){return null!==e.fs?(e.clearTimeout(),e.op().then((function(t){return e.ls.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.fs&&(this.hs(this),clearTimeout(this.fs),this.fs=null)},e}(),Dr=function(){function e(){var e=this;this.Ts=Promise.resolve(),this.Es=[],this.Is=!1,this.As=[],this.Rs=null,this.gs=!1,this.Ps=[],this.ys=new gr(this,"async_queue_retry"),this.Vs=function(){var t=Ar();t&&y("AsyncQueue","Visibility state changed to  ",t.visibilityState),e.ys.Vn()};var t=Ar();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vs)}return Object.defineProperty(e.prototype,"ps",{get:function(){return this.Is},enumerable:!1,configurable:!0}),e.prototype.ws=function(e){this.enqueue(e)},e.prototype.bs=function(e){this.vs(),this.Ss(e)},e.prototype.Ds=function(){if(!this.Is){this.Is=!0;var e=Ar();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Vs)}},e.prototype.enqueue=function(e){return this.vs(),this.Is?new Promise((function(e){})):this.Ss(e)},e.prototype.Cs=function(e){var t=this;this.ws((function(){return t.Es.push(e),t.Ns()}))},e.prototype.Ns=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(0===this.Es.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Es[0]()];case 2:return n.sent(),this.Es.shift(),this.ys.reset(),[3,4];case 3:if(!Or(e=n.sent()))throw e;return y("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.Es.length>0&&this.ys.gn((function(){return t.Ns()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Ss=function(e){var t=this,n=this.Ts.then((function(){return t.gs=!0,e().catch((function(e){throw t.Rs=e,t.gs=!1,m("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gs=!1,e}))}));return this.Ts=n,n},e.prototype.yn=function(e,t,n){var r=this;this.vs(),this.Ps.indexOf(e)>-1&&(t=0);var i=Nr._s(this,e,t,n,(function(e){return r.Fs(e)}));return this.As.push(i),i},e.prototype.vs=function(){this.Rs&&_()},e.prototype.xs=function(){},e.prototype.$s=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return[4,e=this.Ts];case 1:t.sent(),t.label=2;case 2:if(e!==this.Ts)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.ks=function(e){for(var t=0,n=this.As;t<n.length;t++)if(n[t].dn===e)return!0;return!1},e.prototype.Ms=function(e){var t=this;return this.$s().then((function(){t.As.sort((function(e,t){return e.us-t.us}));for(var n=0,r=t.As;n<r.length;n++){var i=r[n];if(i.pn(),"all"!==e&&i.dn===e)break}return t.$s()}))},e.prototype.Os=function(e){this.Ps.push(e)},e.prototype.Fs=function(e){var t=this.As.indexOf(e);this.As.splice(t,1)},e}();function jr(e,t){if(m("AsyncQueue",t+": "+e),Or(e))return new p(h.UNAVAILABLE,t+": "+e);throw e}var Rr=function(){this.Ls=void 0,this.listeners=[]},Mr=function(){this.Bs=new ue((function(e){return Jn(e)}),$n),this.onlineState="Unknown",this.qs=new Set};function Lr(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:if(n=E(e),r=t.query,i=!1,(s=n.Bs.get(r))||(i=!0,s=new Rr),!i)return[3,4];o.label=1;case 1:return o.trys.push([1,3,,4]),a=s,[4,n.Us(r)];case 2:return a.Ls=o.sent(),[3,4];case 3:return u=o.sent(),c=jr(u,"Initialization of query '"+Zn(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.Bs.set(r,s),s.listeners.push(t),t.Qs(n.onlineState),s.Ls&&t.Ws(s.Ls)&&Wr(n),[2]}}))}))}function Fr(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a;return o.__generator(this,(function(o){return n=E(e),r=t.query,i=!1,(s=n.Bs.get(r))&&(a=s.listeners.indexOf(t))>=0&&(s.listeners.splice(a,1),i=0===s.listeners.length),i?[2,(n.Bs.delete(r),n.js(r))]:[2]}))}))}function Ur(e,t){for(var n=E(e),r=!1,i=0,o=t;i<o.length;i++){var s=o[i],a=s.query,u=n.Bs.get(a);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Ws(s)&&(r=!0);u.Ls=s}}r&&Wr(n)}function Vr(e,t,n){var r=E(e),i=r.Bs.get(t);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.Bs.delete(t)}function Wr(e){e.qs.forEach((function(e){e.next()}))}var Br=function(){function e(e,t,n){this.query=e,this.Ks=t,this.Gs=!1,this.zs=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Ws=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new Be(e.query,e.docs,e.Qt,t,e.Wt,e.fromCache,e.jt,!0)}var o=!1;return this.Gs?this.Hs(e)&&(this.Ks.next(e),o=!0):this.Ys(e,this.onlineState)&&(this.Js(e),o=!0),this.zs=e,o},e.prototype.onError=function(e){this.Ks.error(e)},e.prototype.Qs=function(e){this.onlineState=e;var t=!1;return this.zs&&!this.Gs&&this.Ys(this.zs,e)&&(this.Js(this.zs),t=!0),t},e.prototype.Ys=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.Xs&&n||e.docs.m()&&"Offline"!==t)},e.prototype.Hs=function(e){if(e.docChanges.length>0)return!0;var t=this.zs&&this.zs.hasPendingWrites!==e.hasPendingWrites;return!(!e.jt&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.Js=function(e){e=Be.Gt(e.query,e.docs,e.Wt,e.fromCache),this.Gs=!0,this.Ks.next(e)},e}(),qr=function(){function e(e){this.uid=e}return e.prototype.Zs=function(){return null!=this.uid},e.prototype.ti=function(){return this.Zs()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();qr.UNAUTHENTICATED=new qr(null),qr.ei=new qr("google-credentials-uid"),qr.ni=new qr("first-party-uid");var zr=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.si=function(e){return n.ii(e)},this.ri=function(e){return t.oi(e)})}return e.prototype.ii=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.ri&&this.ri(e),e},e}();function Hr(e,t){return"firestore_clients_"+e+"_"+t}function Yr(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.Zs()&&(r+="_"+t.uid),r}function Gr(e,t){return"firestore_targets_"+e+"_"+t}zr.ai=-1;var Kr=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.ci=function(t,n,r){var o=JSON.parse(r),s="object"==i(o)&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==i(o.error)),a=void 0;return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(a=new p(o.error.code,o.error.message)),s?new e(t,n,o.state,a):(m("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Qr=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.ci=function(t,n){var r=JSON.parse(n),o="object"==i(r)&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==i(r.error)),s=void 0;return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new p(r.error.code,r.error.message)),o?new e(t,r.state,s):(m("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.ui=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Xr=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.ci=function(t,n){for(var r=JSON.parse(n),o="object"==i(r)&&r.activeTargetIds instanceof Array,s=Ue(),a=0;o&&a<r.activeTargetIds.length;++a)o=pe(r.activeTargetIds[a]),s=s.add(r.activeTargetIds[a]);return o?new e(t,s):(m("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),$r=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.ci=function(t){var n=JSON.parse(t);return"object"==i(n)&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(m("SharedClientState","Failed to parse online state: "+t),null)},e}(),Jr=function(){function e(){this.activeTargetIds=Ue()}return e.prototype.hi=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.li=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.ui=function(){var e={activeTargetIds:this.activeTargetIds.A(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),Zr=function(){function e(e,t,n,r,i){this.window=e,this.fn=t,this.persistenceKey=n,this._i=r,this.fi=null,this.di=null,this.si=null,this.wi=this.mi.bind(this),this.Ti=new xe(J),this.Ei=!1,this.Ii=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ai=Hr(this.persistenceKey,this._i),this.Ri=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Ti=this.Ti.ot(this._i,new Jr),this.gi=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pi=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.yi=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Vi=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.wi)}return e.Ln=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n,r,i,s,a,u,c,l,f,h=this;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,this.fi.pi()];case 1:for(e=o.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this._i&&(i=this.getItem(Hr(this.persistenceKey,r)))&&(s=Xr.ci(r,i))&&(this.Ti=this.Ti.ot(s.clientId,s));for(this.bi(),(a=this.storage.getItem(this.Vi))&&(u=this.vi(a))&&this.Si(u),c=0,l=this.Ii;c<l.length;c++)f=l[c],this.mi(f);return this.Ii=[],this.window.addEventListener("unload",(function(){return h.Di()})),this.Ei=!0,[2]}}))}))},e.prototype.oi=function(e){this.setItem(this.Ri,JSON.stringify(e))},e.prototype.Ci=function(){return this.Ni(this.Ti)},e.prototype.Fi=function(e){var t=!1;return this.Ti.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.xi=function(e){this.$i(e,"pending")},e.prototype.ki=function(e,t,n){this.$i(e,t,n),this.Mi(e)},e.prototype.Oi=function(e){var t="not-current";if(this.Fi(e)){var n=this.storage.getItem(Gr(this.persistenceKey,e));if(n){var r=Qr.ci(e,n);r&&(t=r.state)}}return this.Li.hi(e),this.bi(),t},e.prototype.Bi=function(e){this.Li.li(e),this.bi()},e.prototype.qi=function(e){return this.Li.activeTargetIds.has(e)},e.prototype.Ui=function(e){this.removeItem(Gr(this.persistenceKey,e))},e.prototype.Qi=function(e,t,n){this.Wi(e,t,n)},e.prototype.ji=function(e,t,n){var r=this;t.forEach((function(e){r.Mi(e)})),this.currentUser=e,n.forEach((function(e){r.xi(e)}))},e.prototype.Ki=function(e){this.Gi(e)},e.prototype.Di=function(){this.Ei&&(this.window.removeEventListener("storage",this.wi),this.removeItem(this.Ai),this.Ei=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return y("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){y("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){y("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.mi=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(y("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ai)return void m("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.fn.Cs((function(){return o.__awaiter(t,void 0,void 0,(function(){var e,t,r,i,s,a;return o.__generator(this,(function(o){if(this.Ei){if(null!==n.key)if(this.gi.test(n.key)){if(null==n.newValue)return e=this.zi(n.key),[2,this.Hi(e,null)];if(t=this.Yi(n.key,n.newValue))return[2,this.Hi(t.clientId,t)]}else if(this.Pi.test(n.key)){if(null!==n.newValue&&(r=this.Ji(n.key,n.newValue)))return[2,this.Xi(r)]}else if(this.yi.test(n.key)){if(null!==n.newValue&&(i=this.Zi(n.key,n.newValue)))return[2,this.tr(i)]}else if(n.key===this.Vi){if(null!==n.newValue&&(s=this.vi(n.newValue)))return[2,this.Si(s)]}else n.key===this.Ri&&(a=function(e){var t=zr.ai;if(null!=e)try{var n=JSON.parse(e);w("number"==typeof n),t=n}catch(e){m("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==zr.ai&&this.si(a)}else this.Ii.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Li",{get:function(){return this.Ti.get(this._i)},enumerable:!1,configurable:!0}),e.prototype.bi=function(){this.setItem(this.Ai,this.Li.ui())},e.prototype.$i=function(e,t,n){var r=new Kr(this.currentUser,e,t,n),i=Yr(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ui())},e.prototype.Mi=function(e){var t=Yr(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Gi=function(e){var t={clientId:this._i,onlineState:e};this.storage.setItem(this.Vi,JSON.stringify(t))},e.prototype.Wi=function(e,t,n){var r=Gr(this.persistenceKey,e),i=new Qr(e,t,n);this.setItem(r,i.ui())},e.prototype.zi=function(e){var t=this.gi.exec(e);return t?t[1]:null},e.prototype.Yi=function(e,t){var n=this.zi(e);return Xr.ci(n,t)},e.prototype.Ji=function(e,t){var n=this.Pi.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Kr.ci(new qr(i),r,t)},e.prototype.Zi=function(e,t){var n=this.yi.exec(e),r=Number(n[1]);return Qr.ci(r,t)},e.prototype.vi=function(e){return $r.ci(e)},e.prototype.Xi=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.fi.er(e.batchId,e.state,e.error)]:(y("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.tr=function(e){return this.fi.nr(e.targetId,e.state,e.error)},e.prototype.Hi=function(e,t){var n=this,r=t?this.Ti.ot(e,t):this.Ti.remove(e),i=this.Ni(this.Ti),o=this.Ni(r),s=[],a=[];return o.forEach((function(e){i.has(e)||s.push(e)})),i.forEach((function(e){o.has(e)||a.push(e)})),this.fi.sr(s,a).then((function(){n.Ti=r}))},e.prototype.Si=function(e){this.Ti.get(e.clientId)&&this.di(e.onlineState)},e.prototype.Ni=function(e){var t=Ue();return e.forEach((function(e,n){t=t.kt(n.activeTargetIds)})),t},e}(),ei=function(){function e(){this.ir=new Jr,this.rr={},this.di=null,this.si=null}return e.prototype.xi=function(e){},e.prototype.ki=function(e,t,n){},e.prototype.Oi=function(e){return this.ir.hi(e),this.rr[e]||"not-current"},e.prototype.Qi=function(e,t,n){this.rr[e]=t},e.prototype.Bi=function(e){this.ir.li(e)},e.prototype.qi=function(e){return this.ir.activeTargetIds.has(e)},e.prototype.Ui=function(e){delete this.rr[e]},e.prototype.Ci=function(){return this.ir.activeTargetIds},e.prototype.Fi=function(e){return this.ir.activeTargetIds.has(e)},e.prototype.start=function(){return this.ir=new Jr,Promise.resolve()},e.prototype.ji=function(e,t,n){},e.prototype.Ki=function(e){},e.prototype.Di=function(){},e.prototype.oi=function(e){},e}(),ti=function(){function e(e,t,n,r){this.batchId=e,this.ar=t,this.baseMutations=n,this.mutations=r}return e.prototype.cr=function(e,t,n){for(var r=n.ur,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(e)&&(t=bn(o,t,r[i]))}return t},e.prototype.hr=function(e,t){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(e)&&(t=gn(i,t,t,this.ar))}for(var o=t,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(e)&&(t=gn(u,t,o,this.ar))}return t},e.prototype.lr=function(e){var t=this,n=e;return this.mutations.forEach((function(r){var i=t.hr(r.key,e.get(r.key));i&&(n=n.ot(r.key,i))})),n},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Le())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Z(this.mutations,e.mutations,(function(e,t){return wn(e,t)}))&&Z(this.baseMutations,e.baseMutations,(function(e,t){return wn(e,t)}))},e}(),ni=function(){function e(e,t,n,r){this.batch=e,this._r=t,this.ur=n,this.dr=r}return e.from=function(t,n,r){w(t.mutations.length===r.length);for(var i=Re,o=t.mutations,s=0;s<o.length;s++)i=i.ot(o[s].key,r[s].version);return new e(t,n,r,i)},e}(),ri=function(){function e(){this.wr=new ue((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.mr=!1}return Object.defineProperty(e.prototype,"readTime",{get:function(){return this.Tr},set:function(e){this.Tr=e},enumerable:!1,configurable:!0}),e.prototype.Er=function(e,t){this.Ir(),this.readTime=t,this.wr.set(e.key,e)},e.prototype.Ar=function(e,t){this.Ir(),t&&(this.readTime=t),this.wr.set(e,null)},e.prototype.Rr=function(e,t){this.Ir();var n=this.wr.get(t);return void 0!==n?_r.resolve(n):this.gr(e,t)},e.prototype.getEntries=function(e,t){return this.Pr(e,t)},e.prototype.apply=function(e){return this.Ir(),this.mr=!0,this.yr(e)},e.prototype.Ir=function(){},e}(),ii="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",oi=function(){function e(){this.Vr=[]}return e.prototype.pr=function(e){this.Vr.push(e)},e.prototype.br=function(){this.Vr.forEach((function(e){return e()}))},e}(),si=function(){function e(e,t,n){this.vr=e,this.Sr=t,this.Dr=n}return e.prototype.Cr=function(e,t){var n=this;return this.Sr.Nr(e,t).next((function(r){return n.Fr(e,t,r)}))},e.prototype.Fr=function(e,t,n){return this.vr.Rr(e,t).next((function(e){for(var r=0,i=n;r<i.length;r++)e=i[r].hr(t,e);return e}))},e.prototype.$r=function(e,t,n){var r=Ne();return t.forEach((function(e,t){for(var i=0,o=n;i<o.length;i++)t=o[i].hr(e,t);r=r.ot(e,t)})),r},e.prototype.kr=function(e,t){var n=this;return this.vr.getEntries(e,t).next((function(t){return n.Mr(e,t)}))},e.prototype.Mr=function(e,t){var n=this;return this.Sr.Or(e,t).next((function(r){var i=n.$r(e,t,r),o=Ae();return i.forEach((function(e,t){t||(t=new Mn(e,le.min())),o=o.ot(e,t)})),o}))},e.prototype.Lr=function(e,t,n){return function(e){return P.F(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Br(e,t.path):Hn(t)?this.qr(e,t,n):this.Ur(e,t,n)},e.prototype.Br=function(e,t){return this.Cr(e,new P(t)).next((function(e){var t=je();return e instanceof Rn&&(t=t.ot(e.key,e)),t}))},e.prototype.qr=function(e,t,n){var r=this,i=t.collectionGroup,o=je();return this.Dr.Qr(e,i).next((function(s){return _r.forEach(s,(function(s){var a=function(e,t){return new Fn(t,null,e.on.slice(),e.filters.slice(),e.limit,e.an,e.startAt,e.endAt)}(t,s.child(i));return r.Ur(e,a,n).next((function(e){e.forEach((function(e,t){o=o.ot(e,t)}))}))})).next((function(){return o}))}))},e.prototype.Ur=function(e,t,n){var r,i,o=this;return this.vr.Lr(e,t,n).next((function(n){return r=n,o.Sr.Wr(e,t)})).next((function(t){return i=t,o.jr(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),f=gn(u,l,l,o.ar);r=f instanceof Rn?r.ot(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(e,n){er(t,n)||(r=r.remove(e))})),r}))},e.prototype.jr=function(e,t,n){for(var r=Le(),i=0,o=t;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof On&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.vr.getEntries(e,r).next((function(e){return e.forEach((function(e,t){null!==t&&t instanceof Rn&&(c=c.ot(e,t))})),c}))},e}(),ai=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.Kr=n,this.Gr=r}return e.zr=function(t,n){for(var r=Le(),i=Le(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new e(t,n.fromCache,r,i)},e}();function ui(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=J(n,i);return 0===s?J(r,o):s}var ci=function(){function e(e){this.Hr=e,this.buffer=new Te(ui),this.Yr=0}return e.prototype.Jr=function(){return++this.Yr},e.prototype.Xr=function(e){var t=[e,this.Jr()];if(this.buffer.size<this.Hr)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ui(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),li={Zr:!1,eo:0,no:0,so:0},fi=function(){function e(e,t,n){this.io=e,this.ro=t,this.oo=n}return e.ao=function(t){return new e(t,e.co,e.uo)},e}();fi.ho=-1,fi.lo=1048576,fi._o=41943040,fi.co=10,fi.uo=1e3,fi.fo=new fi(fi._o,fi.co,fi.uo),fi.do=new fi(fi.ho,0,0);var hi=function(){function e(e,t){this.wo=e,this.cs=t,this.mo=!1,this.To=null}return e.prototype.start=function(e){this.wo.params.io!==fi.ho&&this.Eo(e)},e.prototype.stop=function(){this.To&&(this.To.cancel(),this.To=null)},Object.defineProperty(e.prototype,"Ei",{get:function(){return null!==this.To},enumerable:!1,configurable:!0}),e.prototype.Eo=function(e){var t=this,n=this.mo?3e5:6e4;y("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.To=this.cs.yn("lru_garbage_collection",n,(function(){return o.__awaiter(t,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.To=null,this.mo=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.Io(this.wo)];case 2:return n.sent(),[3,7];case 3:return Or(t=n.sent())?(y("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,No(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Eo(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),pi=function(){function e(e,t){this.Ao=e,this.params=t}return e.prototype.Ro=function(e,t){return this.Ao.Po(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.yo=function(e,t){var n=this;if(0===t)return _r.resolve(zr.ai);var r=new ci(t);return this.Ao.Ce(e,(function(e){return r.Xr(e.sequenceNumber)})).next((function(){return n.Ao.Vo(e,(function(e){return r.Xr(e)}))})).next((function(){return r.maxValue}))},e.prototype.po=function(e,t,n){return this.Ao.po(e,t,n)},e.prototype.bo=function(e,t){return this.Ao.bo(e,t)},e.prototype.vo=function(e,t){var n=this;return this.params.io===fi.ho?(y("LruGarbageCollector","Garbage collection skipped; disabled"),_r.resolve(li)):this.So(e).next((function(r){return r<n.params.io?(y("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.io),li):n.Do(e,t)}))},e.prototype.So=function(e){return this.Ao.So(e)},e.prototype.Do=function(e,t){var n,r,i,o,s,u,c,l=this,f=Date.now();return this.Ro(e,this.params.ro).next((function(t){return t>l.params.oo?(y("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.oo+" from "+t),r=l.params.oo):r=t,o=Date.now(),l.yo(e,r)})).next((function(r){return n=r,s=Date.now(),l.po(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.bo(e,n)})).next((function(e){return c=Date.now(),v()<=a.LogLevel.DEBUG&&y("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),_r.resolve({Zr:!0,eo:r,no:i,so:e})}))},e}();function di(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=yi(t)),t=vi(e.get(n),t);return yi(t)}function vi(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function yi(e){return e+"\x01\x01"}function mi(e){var t=e.length;if(w(t>=2),2===t)return w("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),C.P();for(var n=t-2,r=[],i="",o=0;o<t;){var s=e.indexOf("\x01",o);switch((s<0||s>n)&&_(),e.charAt(s+1)){case"\x01":var a=e.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=e.substring(o,s),i+="\0";break;case"\x11":i+=e.substring(o,s+1);break;default:_()}o=s+2}return new C(r)}var bi=function(e){this.Co=e};function gi(e,t){if(t.document)return function(e,t,n){var r=At(e,t.name),i=Ct(t.updateTime),o=new An({mapValue:{fields:t.fields}});return new Rn(r,i,o,{hasCommittedMutations:!!n})}(e.Co,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=P.$(t.noDocument.path),r=Oi(t.noDocument.readTime);return new Mn(n,r,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var i=P.$(t.unknownDocument.path),o=Oi(t.unknownDocument.version);return new Ln(i,o)}return _()}function _i(e,t,n){var r=wi(n),i=t.key.path.h().A();if(t instanceof Rn){var o=function(e,t){return{name:Pt(e,t.key),fields:t.rn().mapValue.fields,updateTime:Ot(e,t.version.Z())}}(e.Co,t),s=t.hasCommittedMutations;return new Xi(null,null,o,s,r,i)}if(t instanceof Mn){var a=t.key.path.A(),u=Si(t.version),c=t.hasCommittedMutations;return new Xi(null,new Ki(a,u),null,c,r,i)}if(t instanceof Ln){var l=t.key.path.A(),f=Si(t.version);return new Xi(new Qi(l,f),null,null,!0,r,i)}return _()}function wi(e){var t=e.Z();return[t.seconds,t.nanoseconds]}function Ei(e){var t=new ce(e[0],e[1]);return le.J(t)}function Si(e){var t=e.Z();return new qi(t.seconds,t.nanoseconds)}function Oi(e){var t=new ce(e.seconds,e.nanoseconds);return le.J(t)}function xi(e,t){var n=(t.baseMutations||[]).map((function(t){return Ft(e.Co,t)})),r=t.mutations.map((function(t){return Ft(e.Co,t)})),i=ce.fromMillis(t.localWriteTimeMs);return new ti(t.batchId,i,n,r)}function ki(e){var t,n,r=Oi(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Oi(e.lastLimboFreeSnapshotVersion):le.min();return void 0!==e.query.documents?(w(1===(n=e.query).documents.length),t=Gn(Vn(Dt(n.documents[0])))):t=Wt(e.query),new we(t,e.targetId,0,e.lastListenSequenceNumber,r,i,te.fromBase64String(e.resumeToken))}function Ci(e,t){var n,r=Si(t.nt),i=Si(t.lastLimboFreeSnapshotVersion);n=be(t.target)?Ut(e.Co,t.target):Vt(e.Co,t.target);var o=t.resumeToken.toBase64();return new Ji(t.targetId,ye(t.target),r,o,t.sequenceNumber,i,n)}var Ti=function(){function e(e,t,n,r){this.userId=e,this.serializer=t,this.Dr=n,this.No=r,this.Fo={}}return e.xo=function(t,n,r,i){return w(""!==t.uid),new e(t.Zs()?t.uid:"",n,r,i)},e.prototype.$o=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ai(e).rs({index:Yi.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.ko=function(e,t,n,r){var i=this,o=Ni(e),s=Ai(e);return s.add({}).next((function(a){w("number"==typeof a);for(var u=new ti(a,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Lt(e.Co,t)})),i=n.mutations.map((function(t){return Lt(e.Co,t)}));return new Yi(t,n.batchId,n.ar.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],f=new Te((function(e,t){return J(e.R(),t.R())})),h=0,p=r;h<p.length;h++){var d=p[h],v=Gi.key(i.userId,d.key.path,a);f=f.add(d.key.path.h()),l.push(s.put(c)),l.push(o.put(v,Gi.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Dr.Mo(e,t))})),e.pr((function(){i.Fo[a]=u.keys()})),_r.$n(l).next((function(){return u}))}))},e.prototype.Oo=function(e,t){var n=this;return Ai(e).get(t).next((function(e){return e?(w(e.userId===n.userId),xi(n.serializer,e)):null}))},e.prototype.Lo=function(e,t){var n=this;return this.Fo[t]?_r.resolve(this.Fo[t]):this.Oo(e,t).next((function(e){if(e){var r=e.keys();return n.Fo[t]=r,r}return null}))},e.prototype.Bo=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Ai(e).rs({index:Yi.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(w(t.batchId>=r),o=xi(n.serializer,t)),i.done()})).next((function(){return o}))},e.prototype.qo=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Ai(e).rs({index:Yi.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.Uo=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ai(e).ts(Yi.userMutationsIndex,n).next((function(e){return e.map((function(e){return xi(t.serializer,e)}))}))},e.prototype.Nr=function(e,t){var n=this,r=Gi.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Ni(e).rs({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=mi(u);if(a===n.userId&&t.path.isEqual(l))return Ai(e).get(c).next((function(e){if(!e)throw _();w(e.userId===n.userId),o.push(xi(n.serializer,e))}));s.done()})).next((function(){return o}))},e.prototype.Or=function(e,t){var n=this,r=new Te(J),i=[];return t.forEach((function(t){var o=Gi.prefixForPath(n.userId,t.path),s=IDBKeyRange.lowerBound(o),a=Ni(e).rs({range:s},(function(e,i,o){var s=e[0],a=e[1],u=e[2],c=mi(a);s===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),_r.$n(i).next((function(){return n.Qo(e,r)}))},e.prototype.Wr=function(e,t){var n=this,r=t.path,i=r.length+1,o=Gi.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Te(J);return Ni(e).rs({range:s},(function(e,t,o){var s=e[0],u=e[1],c=e[2],l=mi(u);s===n.userId&&r.T(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.Qo(e,a)}))},e.prototype.Qo=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(Ai(e).get(t).next((function(e){if(null===e)throw _();w(e.userId===n.userId),r.push(xi(n.serializer,e))})))})),_r.$n(i).next((function(){return r}))},e.prototype.Wo=function(e,t){var n=this;return Pi(e.jo,this.userId,t).next((function(r){return e.pr((function(){n.Ko(t.batchId)})),_r.forEach(r,(function(t){return n.No.Go(e,t)}))}))},e.prototype.Ko=function(e){delete this.Fo[e]},e.prototype.zo=function(e){var t=this;return this.$o(e).next((function(n){if(!n)return _r.resolve();var r=IDBKeyRange.lowerBound(Gi.prefixForUser(t.userId)),i=[];return Ni(e).rs({range:r},(function(e,n,r){if(e[0]===t.userId){var o=mi(e[1]);i.push(o)}else r.done()})).next((function(){w(0===i.length)}))}))},e.prototype.Ho=function(e,t){return Ii(e,this.userId,t)},e.prototype.Yo=function(e){var t=this;return Di(e).get(this.userId).next((function(e){return e||new Hi(t.userId,-1,"")}))},e}();function Ii(e,t,n){var r=Gi.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ni(e).rs({range:o,ss:!0},(function(e,n,r){var o=e[0],a=e[1];e[2],o===t&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Pi(e,t,n){var r=e.store(Yi.store),i=e.store(Gi.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.rs({range:s},(function(e,t,n){return a++,n.delete()}));o.push(u.next((function(){w(1===a)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],p=Gi.key(t,h.key.path,n.batchId);o.push(i.delete(p)),c.push(h.key)}return _r.$n(o).next((function(){return c}))}function Ai(e){return vo.Qn(e,Yi.store)}function Ni(e){return vo.Qn(e,Gi.store)}function Di(e){return vo.Qn(e,Hi.store)}var ji=function(){function e(e,t){this.serializer=e,this.Dr=t}return e.prototype.Er=function(e,t,n){return Li(e).put(Fi(t),n)},e.prototype.Ar=function(e,t){var n=Li(e),r=Fi(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Jo(e,r)}))},e.prototype.Rr=function(e,t){var n=this;return Li(e).get(Fi(t)).next((function(e){return n.Xo(e)}))},e.prototype.Zo=function(e,t){var n=this;return Li(e).get(Fi(t)).next((function(e){var t=n.Xo(e);return t?{ta:t,size:Ui(e)}:null}))},e.prototype.getEntries=function(e,t){var n=this,r=Ne();return this.ea(e,t,(function(e,t){var i=n.Xo(t);r=r.ot(e,i)})).next((function(){return r}))},e.prototype.na=function(e,t){var n=this,r=Ne(),i=new xe(P.i);return this.ea(e,t,(function(e,t){var o=n.Xo(t);o?(r=r.ot(e,o),i=i.ot(e,Ui(t))):(r=r.ot(e,null),i=i.ot(e,0))})).next((function(){return{sa:r,ia:i}}))},e.prototype.ea=function(e,t,n){if(t.m())return _r.resolve();var r=IDBKeyRange.bound(t.first().path.A(),t.last().path.A()),i=t._t(),o=i.It();return Li(e).rs({range:r},(function(e,t,r){for(var s=P.$(e);o&&P.i(o,s)<0;)n(o,null),o=i.It();o&&o.isEqual(s)&&(n(o,t),o=i.At()?i.It():null),o?r.Xn(o.path.A()):r.done()})).next((function(){for(;o;)n(o,null),o=i.At()?i.It():null}))},e.prototype.Lr=function(e,t,n){var r=this,i=je(),o=t.path.length+1,s={};if(n.isEqual(le.min())){var a=t.path.A();s.range=IDBKeyRange.lowerBound(a)}else{var u=t.path.A(),c=wi(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=Xi.collectionReadTimeIndex}return Li(e).rs(s,(function(e,n,s){if(e.length===o){var a=gi(r.serializer,n);t.path.T(a.key.path)?a instanceof Rn&&er(t,a)&&(i=i.ot(a.key,a)):s.done()}})).next((function(){return i}))},e.prototype.ra=function(e){return new Ri(this,!!e&&e.oa)},e.prototype.aa=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Mi(e).get($i.key).next((function(e){return w(!!e),e}))},e.prototype.Jo=function(e,t){return Mi(e).put($i.key,t)},e.prototype.Xo=function(e){if(e){var t=gi(this.serializer,e);return t instanceof Mn&&t.version.isEqual(le.min())?null:t}return null},e}(),Ri=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).ca=t,r.oa=n,r.ua=new ue((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return o.__extends(t,e),t.prototype.yr=function(e){var t=this,n=[],r=0,i=new Te((function(e,t){return J(e.R(),t.R())}));return this.wr.forEach((function(o,s){var a=t.ua.get(o);if(s){var u=_i(t.ca.serializer,s,t.readTime);i=i.add(o.path.h());var c=Ui(u);r+=c-a,n.push(t.ca.Er(e,o,u))}else if(r-=a,t.oa){var l=_i(t.ca.serializer,new Mn(o,le.min()),t.readTime);n.push(t.ca.Er(e,o,l))}else n.push(t.ca.Ar(e,o))})),i.forEach((function(r){n.push(t.ca.Dr.Mo(e,r))})),n.push(this.ca.updateMetadata(e,r)),_r.$n(n)},t.prototype.gr=function(e,t){var n=this;return this.ca.Zo(e,t).next((function(e){return null===e?(n.ua.set(t,0),null):(n.ua.set(t,e.size),e.ta)}))},t.prototype.Pr=function(e,t){var n=this;return this.ca.na(e,t).next((function(e){var t=e.sa;return e.ia.forEach((function(e,t){n.ua.set(e,t)})),t}))},t}(ri);function Mi(e){return vo.Qn(e,$i.store)}function Li(e){return vo.Qn(e,Xi.store)}function Fi(e){return e.path.A()}function Ui(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw _();t=e.noDocument}return JSON.stringify(t).length}var Vi=function(){function e(){this.ha=new Wi}return e.prototype.Mo=function(e,t){return this.ha.add(t),_r.resolve()},e.prototype.Qr=function(e,t){return _r.resolve(this.ha.getEntries(t))},e}(),Wi=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e._(),n=e.h(),r=this.index[t]||new Te(C.i),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e._(),n=e.h(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new Te(C.i)).A()},e}(),Bi=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;w(n<r&&n>=0&&r<=10);var o=new xr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(zi.store)}(e),function(e){e.createObjectStore(Hi.store,{keyPath:Hi.keyPath}),e.createObjectStore(Yi.store,{keyPath:Yi.keyPath,autoIncrement:!0}).createIndex(Yi.userMutationsIndex,Yi.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Gi.store)}(e),no(e),function(e){e.createObjectStore(Xi.store)}(e));var s=_r.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(Zi.store),e.deleteObjectStore(Ji.store),e.deleteObjectStore(eo.store)}(e),no(e)),s=s.next((function(){return e=o.store(eo.store),t=new eo(0,0,le.min().Z(),0),e.put(eo.key,t);var e,t}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(e,t){return t.store(Yi.store).ts().next((function(n){e.deleteObjectStore(Yi.store),e.createObjectStore(Yi.store,{keyPath:Yi.keyPath,autoIncrement:!0}).createIndex(Yi.userMutationsIndex,Yi.userMutationsKeyPath,{unique:!0});var r=t.store(Yi.store),i=n.map((function(e){return r.put(e)}));return _r.$n(i)}))}(e,o)}))),s=s.next((function(){!function(e){e.createObjectStore(ro.store,{keyPath:ro.keyPath})}(e)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(e){e.createObjectStore($i.store)}(e),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(e,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(Xi.store);t.createIndex(Xi.readTimeIndex,Xi.readTimeIndexPath,{unique:!1}),t.createIndex(Xi.collectionReadTimeIndex,Xi.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Xi.store).rs((function(e,n){t+=Ui(n)})).next((function(){var n=new $i(t);return e.store($i.store).put($i.key,n)}))},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Hi.store),r=e.store(Yi.store);return n.ts().next((function(n){return _r.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.ts(Yi.userMutationsIndex,i).next((function(r){return _r.forEach(r,(function(r){w(r.userId===n.userId);var i=xi(t.serializer,r);return Pi(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ensureSequenceNumbers=function(e){var t=e.store(Zi.store),n=e.store(Xi.store);return e.store(eo.store).get(eo.key).next((function(e){var r=[];return n.rs((function(n,i){var o=new C(n),s=[0,di(o)];r.push(t.get(s).next((function(n){return n?_r.resolve():function(n){return t.put(new Zi(0,di(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return _r.$n(r)}))}))},e.prototype.createCollectionParentIndex=function(e,t){e.createObjectStore(to.store,{keyPath:to.keyPath});var n=t.store(to.store),r=new Wi,i=function(e){if(r.add(e)){var t=e._(),i=e.h();return n.put({collectionId:t,parent:di(i)})}};return t.store(Xi.store).rs({ss:!0},(function(e,t){var n=new C(e);return i(n.h())})).next((function(){return t.store(Gi.store).rs({ss:!0},(function(e,t){e[0];var n=e[1],r=(e[2],mi(n));return i(r.h())}))}))},e.prototype.rewriteCanonicalIds=function(e){var t=this,n=e.store(Ji.store);return n.rs((function(e,r){var i=ki(r),o=Ci(t.serializer,i);return n.put(o)}))},e}(),qi=function(e,t){this.seconds=e,this.nanoseconds=t},zi=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};zi.store="owner",zi.key="owner";var Hi=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};Hi.store="mutationQueues",Hi.keyPath="userId";var Yi=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Yi.store="mutations",Yi.keyPath="batchId",Yi.userMutationsIndex="userMutationsIndex",Yi.userMutationsKeyPath=["userId","batchId"];var Gi=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,di(t)]},e.key=function(e,t,n){return[e,di(t),n]},e}();Gi.store="documentMutations",Gi.PLACEHOLDER=new Gi;var Ki=function(e,t){this.path=e,this.readTime=t},Qi=function(e,t){this.path=e,this.version=t},Xi=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Xi.store="remoteDocuments",Xi.readTimeIndex="readTimeIndex",Xi.readTimeIndexPath="readTime",Xi.collectionReadTimeIndex="collectionReadTimeIndex",Xi.collectionReadTimeIndexPath=["parentPath","readTime"];var $i=function(e){this.byteSize=e};$i.store="remoteDocumentGlobal",$i.key="remoteDocumentGlobalKey";var Ji=function(e,t,n,r,i,o,s){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Ji.store="targets",Ji.keyPath="targetId",Ji.queryTargetsIndexName="queryTargetsIndex",Ji.queryTargetsKeyPath=["canonicalId","targetId"];var Zi=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};Zi.store="targetDocuments",Zi.keyPath=["targetId","path"],Zi.documentTargetsIndex="documentTargetsIndex",Zi.documentTargetsKeyPath=["path","targetId"];var eo=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};eo.key="targetGlobalKey",eo.store="targetGlobal";var to=function(e,t){this.collectionId=e,this.parent=t};function no(e){e.createObjectStore(Zi.store,{keyPath:Zi.keyPath}).createIndex(Zi.documentTargetsIndex,Zi.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Ji.store,{keyPath:Ji.keyPath}).createIndex(Ji.queryTargetsIndexName,Ji.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(eo.store)}to.store="collectionParents",to.keyPath=["collectionId","parent"];var ro=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ro.store="clientMetadata",ro.keyPath="clientId";var io=o.__spreadArrays(o.__spreadArrays(o.__spreadArrays([Hi.store,Yi.store,Gi.store,Xi.store,Ji.store,zi.store,eo.store,Zi.store],[ro.store]),[$i.store]),[to.store]),oo=function(){function e(){this.la=new Wi}return e.prototype.Mo=function(e,t){var n=this;if(!this.la.has(t)){var r=t._(),i=t.h();e.pr((function(){n.la.add(t)}));var o={collectionId:r,parent:di(i)};return so(e).put(o)}return _r.resolve()},e.prototype.Qr=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[ee(t),""],!1,!0);return so(e).ts(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(mi(o.parent))}return n}))},e}();function so(e){return vo.Qn(e,to.store)}var ao=function(){function e(e){this._a=e}return e.prototype.next=function(){return this._a+=2,this._a},e.fa=function(){return new e(0)},e.da=function(){return new e(-1)},e}(),uo=function(){function e(e,t){this.No=e,this.serializer=t}return e.prototype.wa=function(e){var t=this;return this.ma(e).next((function(n){var r=new ao(n.highestTargetId);return n.highestTargetId=r.next(),t.Ta(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.Ea=function(e){return this.ma(e).next((function(e){return le.J(new ce(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.Ia=function(e){return this.ma(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.Aa=function(e,t,n){var r=this;return this.ma(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.Z()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Ta(e,i)}))},e.prototype.Ra=function(e,t){var n=this;return this.ga(e,t).next((function(){return n.ma(e).next((function(r){return r.targetCount+=1,n.Pa(t,r),n.Ta(e,r)}))}))},e.prototype.ya=function(e,t){return this.ga(e,t)},e.prototype.Va=function(e,t){var n=this;return this.pa(e,t.targetId).next((function(){return co(e).delete(t.targetId)})).next((function(){return n.ma(e)})).next((function(t){return w(t.targetCount>0),t.targetCount-=1,n.Ta(e,t)}))},e.prototype.po=function(e,t,n){var r=this,i=0,o=[];return co(e).rs((function(s,a){var u=ki(a);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.Va(e,u)))})).next((function(){return _r.$n(o)})).next((function(){return i}))},e.prototype.Ce=function(e,t){return co(e).rs((function(e,n){var r=ki(n);t(r)}))},e.prototype.ma=function(e){return lo(e).get(eo.key).next((function(e){return w(null!==e),e}))},e.prototype.Ta=function(e,t){return lo(e).put(eo.key,t)},e.prototype.ga=function(e,t){return co(e).put(Ci(this.serializer,t))},e.prototype.Pa=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.ba=function(e){return this.ma(e).next((function(e){return e.targetCount}))},e.prototype.va=function(e,t){var n=ye(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return co(e).rs({range:r,index:Ji.queryTargetsIndexName},(function(e,n,r){var o=ki(n);me(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.Sa=function(e,t,n){var r=this,i=[],o=fo(e);return t.forEach((function(t){var s=di(t.path);i.push(o.put(new Zi(n,s))),i.push(r.No.Da(e,n,t))})),_r.$n(i)},e.prototype.Ca=function(e,t,n){var r=this,i=fo(e);return _r.forEach(t,(function(t){var o=di(t.path);return _r.$n([i.delete([n,o]),r.No.Na(e,n,t)])}))},e.prototype.pa=function(e,t){var n=fo(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.Fa=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fo(e),i=Le();return r.rs({range:n,ss:!0},(function(e,t,n){var r=mi(e[1]),o=new P(r);i=i.add(o)})).next((function(){return i}))},e.prototype.Ho=function(e,t){var n=di(t.path),r=IDBKeyRange.bound([n],[ee(n)],!1,!0),i=0;return fo(e).rs({index:Zi.documentTargetsIndex,ss:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.Ue=function(e,t){return co(e).get(t).next((function(e){return e?ki(e):null}))},e}();function co(e){return vo.Qn(e,Ji.store)}function lo(e){return vo.Qn(e,eo.store)}function fo(e){return vo.Qn(e,Zi.store)}var ho="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",po=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jo=t,r.xa=n,r}return o.__extends(t,e),t}(oi),vo=function(){function e(t,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.fn=o,this.window=s,this.document=a,this.$a=c,this.ka=l,this.Ma=null,this.Oa=!1,this.isPrimary=!1,this.networkEnabled=!0,this.La=null,this.inForeground=!1,this.Ba=null,this.qa=null,this.Ua=Number.NEGATIVE_INFINITY,this.Qa=function(e){return Promise.resolve()},!e.Ln())throw new p(h.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.No=new bo(this,i),this.Wa=n+"main",this.serializer=new bi(u),this.ja=new wr(this.Wa,10,new Bi(this.serializer)),this.Ka=new uo(this.No,this.serializer),this.Dr=new oo,this.vr=function(e,t){return new ji(e,t)}(this.serializer,this.Dr),this.window&&this.window.localStorage?this.Ga=this.window.localStorage:(this.Ga=null,!1===l&&m("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.Qn=function(e,t){if(e instanceof po)return wr.Qn(e.jo,t);throw _()},e.prototype.start=function(){var e=this;return this.za().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new p(h.FAILED_PRECONDITION,ho);return e.Ha(),e.Ya(),e.Ja(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Ka.Ia(t)}))})).then((function(t){e.Ma=new zr(t,e.$a)})).then((function(){e.Oa=!0})).catch((function(t){return e.ja&&e.ja.close(),Promise.reject(t)}))},e.prototype.Xa=function(e){var t=this;return this.Qa=function(n){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){return this.Ei?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.Za=function(e){var t=this;this.ja.Kn((function(n){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.tc=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.fn.ws((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.Ei?[4,this.za()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.za=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return mo(t).put(new ro(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.ec(t).next((function(t){t||(e.isPrimary=!1,e.fn.Cs((function(){return e.Qa(!1)})))}))})).next((function(){return e.nc(t)})).next((function(n){return e.isPrimary&&!n?e.sc(t).next((function(){return!1})):!!n&&e.ic(t).next((function(){return!0}))}))})).catch((function(t){if(Or(t))return y("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return y("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.fn.Cs((function(){return e.Qa(t)})),e.isPrimary=t}))},e.prototype.ec=function(e){var t=this;return yo(e).get(zi.key).next((function(e){return _r.resolve(t.rc(e))}))},e.prototype.oc=function(e){return mo(e).delete(this.clientId)},e.prototype.ac=function(){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s=this;return o.__generator(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.cc(this.Ua,18e5)?[3,2]:(this.Ua=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var n=e.Qn(t,ro.store);return n.ts().next((function(e){var t=s.uc(e,18e5),r=e.filter((function(e){return-1===t.indexOf(e)}));return _r.forEach(r,(function(e){return n.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Ga)for(n=0,r=t;n<r.length;n++)i=r[n],this.Ga.removeItem(this.hc(i.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.Ja=function(){var e=this;this.qa=this.fn.yn("client_metadata_refresh",4e3,(function(){return e.za().then((function(){return e.ac()})).then((function(){return e.Ja()}))}))},e.prototype.rc=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.nc=function(e){var t=this;return this.ka?_r.resolve(!0):yo(e).get(zi.key).next((function(n){if(null!==n&&t.cc(n.leaseTimestampMs,5e3)&&!t.lc(n.ownerId)){if(t.rc(n)&&t.networkEnabled)return!0;if(!t.rc(n)){if(!n.allowTabSynchronization)throw new p(h.FAILED_PRECONDITION,ho);return!1}}return!(!t.networkEnabled||!t.inForeground)||mo(e).ts().next((function(e){return void 0===t.uc(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&y("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.Di=function(){return o.__awaiter(this,void 0,void 0,(function(){var e=this;return o.__generator(this,(function(t){switch(t.label){case 0:return this.Oa=!1,this._c(),this.qa&&(this.qa.cancel(),this.qa=null),this.fc(),this.dc(),[4,this.ja.runTransaction("shutdown","readwrite",[zi.store,ro.store],(function(t){var n=new po(t,zr.ai);return e.sc(n).next((function(){return e.oc(n)}))}))];case 1:return t.sent(),this.ja.close(),this.wc(),[2]}}))}))},e.prototype.uc=function(e,t){var n=this;return e.filter((function(e){return n.cc(e.updateTimeMs,t)&&!n.lc(e.clientId)}))},e.prototype.pi=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return mo(t).ts().next((function(t){return e.uc(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),e.prototype.mc=function(e){return Ti.xo(e,this.serializer,this.Dr,this.No)},e.prototype.Tc=function(){return this.Ka},e.prototype.Ec=function(){return this.vr},e.prototype.Ic=function(){return this.Dr},e.prototype.runTransaction=function(e,t,n){var r=this;y("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.ja.runTransaction(e,o,io,(function(o){return i=new po(o,r.Ma?r.Ma.next():zr.ai),"readwrite-primary"===t?r.ec(i).next((function(e){return!!e||r.nc(i)})).next((function(t){if(!t)throw m("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.fn.Cs((function(){return r.Qa(!1)})),new p(h.FAILED_PRECONDITION,ii);return n(i)})).next((function(e){return r.ic(i).next((function(){return e}))})):r.Ac(i).next((function(){return n(i)}))})).then((function(e){return i.br(),e}))},e.prototype.Ac=function(e){var t=this;return yo(e).get(zi.key).next((function(e){if(null!==e&&t.cc(e.leaseTimestampMs,5e3)&&!t.lc(e.ownerId)&&!t.rc(e)&&!(t.ka||t.allowTabSynchronization&&e.allowTabSynchronization))throw new p(h.FAILED_PRECONDITION,ho)}))},e.prototype.ic=function(e){var t=new zi(this.clientId,this.allowTabSynchronization,Date.now());return yo(e).put(zi.key,t)},e.Ln=function(){return wr.Ln()},e.prototype.sc=function(e){var t=this,n=yo(e);return n.get(zi.key).next((function(e){return t.rc(e)?(y("IndexedDbPersistence","Releasing primary lease."),n.delete(zi.key)):_r.resolve()}))},e.prototype.cc=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(m("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.Ha=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ba=function(){e.fn.ws((function(){return e.inForeground="visible"===e.document.visibilityState,e.za()}))},this.document.addEventListener("visibilitychange",this.Ba),this.inForeground="visible"===this.document.visibilityState)},e.prototype.fc=function(){this.Ba&&(this.document.removeEventListener("visibilitychange",this.Ba),this.Ba=null)},e.prototype.Ya=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.La=function(){t._c(),t.fn.ws((function(){return t.Di()}))},this.window.addEventListener("unload",this.La))},e.prototype.dc=function(){this.La&&(this.window.removeEventListener("unload",this.La),this.La=null)},e.prototype.lc=function(e){var t;try{var n=null!==(null===(t=this.Ga)||void 0===t?void 0:t.getItem(this.hc(e)));return y("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return m("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype._c=function(){if(this.Ga)try{this.Ga.setItem(this.hc(this.clientId),String(Date.now()))}catch(o){m("Failed to set zombie client id.",o)}},e.prototype.wc=function(){if(this.Ga)try{this.Ga.removeItem(this.hc(this.clientId))}catch(o){}},e.prototype.hc=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function yo(e){return vo.Qn(e,zi.store)}function mo(e){return vo.Qn(e,ro.store)}var bo=function(){function e(e,t){this.db=e,this.wo=new pi(this,t)}return e.prototype.Po=function(e){var t=this.Rc(e);return this.db.Tc().ba(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.Rc=function(e){var t=0;return this.Vo(e,(function(e){t++})).next((function(){return t}))},e.prototype.Ce=function(e,t){return this.db.Tc().Ce(e,t)},e.prototype.Vo=function(e,t){return this.gc(e,(function(e,n){return t(n)}))},e.prototype.Da=function(e,t,n){return go(e,n)},e.prototype.Na=function(e,t,n){return go(e,n)},e.prototype.po=function(e,t,n){return this.db.Tc().po(e,t,n)},e.prototype.Go=function(e,t){return go(e,t)},e.prototype.Pc=function(e,t){return function(e,t){var n=!1;return Di(e).os((function(r){return Ii(e,r,t).next((function(e){return e&&(n=!0),_r.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.bo=function(e,t){var n=this,r=this.db.Ec().ra(),i=[],o=0;return this.gc(e,(function(s,a){if(a<=t){var u=n.Pc(e,s).next((function(t){if(!t)return o++,r.Rr(e,s).next((function(){return r.Ar(s),fo(e).delete([0,di(s.path)])}))}));i.push(u)}})).next((function(){return _r.$n(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.st(e.xa);return this.db.Tc().ya(e,n)},e.prototype.yc=function(e,t){return go(e,t)},e.prototype.gc=function(e,t){var n,r=fo(e),i=zr.ai;return r.rs({index:Zi.documentTargetsIndex},(function(e,r){var o=e[0],s=(e[1],r.path),a=r.sequenceNumber;0===o?(i!==zr.ai&&t(new P(mi(n)),i),i=a,n=s):i=zr.ai})).next((function(){i!==zr.ai&&t(new P(mi(n)),i)}))},e.prototype.So=function(e){return this.db.Ec().aa(e)},e}();function go(e,t){return fo(e).put(function(e,t){return new Zi(0,di(e.path),t)}(t,e.xa))}function _o(e,t){var n=e.projectId;return e.j||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var wo=function(){function e(e,t,n){this.persistence=e,this.Vc=t,this.bc=new xe(J),this.vc=new ue((function(e){return ye(e)}),me),this.Sc=le.min(),this.Sr=e.mc(n),this.Dc=e.Ec(),this.Ka=e.Tc(),this.Cc=new si(this.Dc,this.Sr,this.persistence.Ic()),this.Vc.Nc(this.Cc)}return e.prototype.Io=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.vo(n,t.bc)}))},e}();function Eo(e,t){var n=E(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Dc.ra({oa:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),s=_r.resolve();return o.forEach((function(e){s=s.next((function(){return r.Rr(t,e)})).next((function(t){var o=t,s=n.dr.get(e);w(null!==s),(!o||o.version.L(s)<0)&&(o=i.cr(e,o,n))&&r.Er(o,n._r)}))})),s.next((function(){return e.Sr.Wo(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Sr.zo(e)})).next((function(){return n.Cc.kr(e,r)}))}))}function So(e){var t=E(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ka.Ea(e)}))}function Oo(e,t){var n=E(e),r=t.nt,i=n.bc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.Dc.ra({oa:!0});i=n.bc;var s=[];t.zt.forEach((function(t,o){var a=i.get(o);if(a){s.push(n.Ka.Ca(e,t.se,o).next((function(){return n.Ka.Sa(e,t.ee,o)})));var u=t.resumeToken;if(u.O()>0){var c=a.it(u,r).st(e.xa);i=i.ot(o,c),function(e,t,n){return w(t.resumeToken.O()>0),0===e.resumeToken.O()||t.nt.X()-e.nt.X()>=3e8||n.ee.size+n.ne.size+n.se.size>0}(a,c,t)&&s.push(n.Ka.ya(e,c))}}}));var a=Ae(),u=Le();if(t.Yt.forEach((function(e,t){u=u.add(e)})),s.push(o.getEntries(e,u).next((function(i){t.Yt.forEach((function(u,c){var l=i.get(u);c instanceof Mn&&c.version.isEqual(le.min())?(o.Ar(u,r),a=a.ot(u,c)):null==l||c.version.L(l.version)>0||0===c.version.L(l.version)&&l.hasPendingWrites?(o.Er(c,r),a=a.ot(u,c)):y("LocalStore","Ignoring outdated watch update for ",u,". Current version:",l.version," Watch version:",c.version),t.Jt.has(u)&&s.push(n.persistence.No.yc(e,u))}))}))),!r.isEqual(le.min())){var c=n.Ka.Ea(e).next((function(t){return n.Ka.Aa(e,e.xa,r)}));s.push(c)}return _r.$n(s).next((function(){return o.apply(e)})).next((function(){return n.Cc.Mr(e,a)}))})).then((function(e){return n.bc=i,e}))}function xo(e,t){var n=E(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Sr.Bo(e,t)}))}function ko(e,t){var n=E(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ka.va(e,t).next((function(i){return i?(r=i,_r.resolve(r)):n.Ka.wa(e).next((function(i){return r=new we(t,i,0,e.xa),n.Ka.Ra(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.bc.get(e.targetId);return(null===r||e.nt.L(r.nt)>0)&&(n.bc=n.bc.ot(e.targetId,e),n.vc.set(t,e.targetId)),e}))}function Co(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a;return o.__generator(this,(function(o){switch(o.label){case 0:r=E(e),i=r.bc.get(t),s=n?"readwrite":"readwrite-primary",o.label=1;case 1:return o.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,(function(e){return r.persistence.No.removeTarget(e,i)}))];case 2:o.sent(),o.label=3;case 3:return[3,5];case 4:if(!Or(a=o.sent()))throw a;return y("LocalStore","Failed to update sequence numbers for target "+t+": "+a),[3,5];case 5:return r.bc=r.bc.remove(t),r.vc.delete(i.target),[2]}}))}))}function To(e,t,n){var r=E(e),i=le.min(),o=Le();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=E(e),i=r.vc.get(n);return void 0!==i?_r.resolve(r.bc.get(i)):r.Ka.va(t,n)}(r,e,Gn(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ka.Fa(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.Vc.Lr(e,t,n?i:le.min(),n?o:Le())})).next((function(e){return{documents:e,Fc:o}}))}))}function Io(e,t){var n=E(e),r=E(n.Ka),i=n.bc.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Ue(e,t).next((function(e){return e?e.target:null}))}))}function Po(e){var t=E(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=E(e),i=Ae(),o=wi(n),s=Li(t),a=IDBKeyRange.lowerBound(o,!0);return s.rs({index:Xi.readTimeIndex,range:a},(function(e,t){var n=gi(r.serializer,t);i=i.ot(n.key,n),o=t.readTime})).next((function(){return{xc:i,readTime:Ei(o)}}))}(t.Dc,e,t.Sc)})).then((function(e){var n=e.xc,r=e.readTime;return t.Sc=r,n}))}function Ao(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){return[2,(t=E(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Li(e),n=le.min();return t.rs({index:Xi.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Ei(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.Sc=e}))]}))}))}function No(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){if(e.code!==h.FAILED_PRECONDITION||e.message!==ii)throw e;return y("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}var Do=function(){function e(){this.$c=new Te(jo.kc),this.Mc=new Te(jo.Oc)}return e.prototype.m=function(){return this.$c.m()},e.prototype.Da=function(e,t){var n=new jo(e,t);this.$c=this.$c.add(n),this.Mc=this.Mc.add(n)},e.prototype.Lc=function(e,t){var n=this;e.forEach((function(e){return n.Da(e,t)}))},e.prototype.Na=function(e,t){this.Bc(new jo(e,t))},e.prototype.qc=function(e,t){var n=this;e.forEach((function(e){return n.Na(e,t)}))},e.prototype.Uc=function(e){var t=this,n=new P(new C([])),r=new jo(n,e),i=new jo(n,e+1),o=[];return this.Mc.Ft([r,i],(function(e){t.Bc(e),o.push(e.key)})),o},e.prototype.Qc=function(){var e=this;this.$c.forEach((function(t){return e.Bc(t)}))},e.prototype.Bc=function(e){this.$c=this.$c.delete(e),this.Mc=this.Mc.delete(e)},e.prototype.Wc=function(e){var t=new P(new C([])),n=new jo(t,e),r=new jo(t,e+1),i=Le();return this.Mc.Ft([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.Ho=function(e){var t=new jo(e,0),n=this.$c.$t(t);return null!==n&&e.isEqual(n.key)},e}(),jo=function(){function e(e,t){this.key=e,this.jc=t}return e.kc=function(e,t){return P.i(e.key,t.key)||J(e.jc,t.jc)},e.Oc=function(e,t){return J(e.jc,t.jc)||P.i(e.key,t.key)},e}(),Ro=function(e,t){this.user=t,this.type="OAuth",this.Kc={},this.Kc.Authorization="Bearer "+e},Mo=function(){function e(){this.Gc=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.zc=function(){},e.prototype.Hc=function(e){this.Gc=e,e(qr.UNAUTHENTICATED)},e.prototype.Yc=function(){this.Gc=null},e}(),Lo=function(){function e(e){var t=this;this.Jc=null,this.currentUser=qr.UNAUTHENTICATED,this.Xc=!1,this.Zc=0,this.Gc=null,this.forceRefresh=!1,this.Jc=function(){t.Zc++,t.currentUser=t.tu(),t.Xc=!0,t.Gc&&t.Gc(t.currentUser)},this.Zc=0,this.auth=e.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.Jc):(this.Jc(null),e.get().then((function(e){t.auth=e,t.Jc&&t.auth.addAuthTokenListener(t.Jc)}),(function(){})))}return e.prototype.getToken=function(){var e=this,t=this.Zc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.Zc!==t?(y("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(w("string"==typeof n.accessToken),new Ro(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.zc=function(){this.forceRefresh=!0},e.prototype.Hc=function(e){this.Gc=e,this.Xc&&e(this.currentUser)},e.prototype.Yc=function(){this.auth&&this.auth.removeAuthTokenListener(this.Jc),this.Jc=null,this.Gc=null},e.prototype.tu=function(){var e=this.auth&&this.auth.getUid();return w(null===e||"string"==typeof e),new qr(e)},e}(),Fo=function(){function e(e,t){this.eu=e,this.nu=t,this.type="FirstParty",this.user=qr.ni}return Object.defineProperty(e.prototype,"Kc",{get:function(){var e={"X-Goog-AuthUser":this.nu},t=this.eu.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),e},enumerable:!1,configurable:!0}),e}(),Uo=function(){function e(e,t){this.eu=e,this.nu=t}return e.prototype.getToken=function(){return Promise.resolve(new Fo(this.eu,this.nu))},e.prototype.Hc=function(e){e(qr.ni)},e.prototype.Yc=function(){},e.prototype.zc=function(){},e}(),Vo=function(){function e(e,t,n,r,i,o){this.fn=e,this.su=n,this.iu=r,this.ru=i,this.listener=o,this.state=0,this.ou=0,this.au=null,this.stream=null,this.ys=new gr(e,t)}return e.prototype.cu=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.uu=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.hu()},e.prototype.stop=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.cu()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.lu=function(){this.state=0,this.ys.reset()},e.prototype._u=function(){var e=this;this.uu()&&null===this.au&&(this.au=this.fn.yn(this.su,6e4,(function(){return e.fu()})))},e.prototype.du=function(e){this.wu(),this.stream.send(e)},e.prototype.fu=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.uu()?[2,this.close(0)]:[2]}))}))},e.prototype.wu=function(){this.au&&(this.au.cancel(),this.au=null)},e.prototype.close=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return this.wu(),this.ys.cancel(),this.ou++,3!==e?this.ys.reset():t&&t.code===h.RESOURCE_EXHAUSTED?(m(t.toString()),m("Using maximum backoff delay to prevent overloading the backend."),this.ys.Rn()):t&&t.code===h.UNAUTHENTICATED&&this.ru.zc(),null!==this.stream&&(this.mu(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Tu(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.mu=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.Eu(this.ou),n=this.ou;this.ru.getToken().then((function(t){e.ou===n&&e.Iu(t)}),(function(n){t((function(){var t=new p(h.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Au(t)}))}))},e.prototype.Iu=function(e){var t=this,n=this.Eu(this.ou);this.stream=this.Ru(e),this.stream.gu((function(){n((function(){return t.state=2,t.listener.gu()}))})),this.stream.Tu((function(e){n((function(){return t.Au(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.hu=function(){var e=this;this.state=4,this.ys.gn((function(){return o.__awaiter(e,void 0,void 0,(function(){return o.__generator(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.Au=function(e){return y("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.Eu=function(e){var t=this;return function(n){t.fn.ws((function(){return t.ou===e?n():(y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Wo=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return o.__extends(t,e),t.prototype.Ru=function(e){return this.iu.Pu("Listen",e)},t.prototype.onMessage=function(e){this.ys.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:_()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.Qe?(w(void 0===t||"string"==typeof t),te.fromBase64String(t||"")):(w(void 0===t||t instanceof Uint8Array),te.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){var t=void 0===e.code?h.UNKNOWN:Oe(e.code);return new p(t,e.message||"")}(s);n=new Ge(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=At(e,u.document.name),l=Ct(u.document.updateTime),f=new An({mapValue:{fields:u.document.fields}}),d=new Rn(c,l,f,{}),v=u.targetIds||[],y=u.removedTargetIds||[];n=new He(v,y,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var b=At(e,m.document),g=m.readTime?Ct(m.readTime):le.min(),E=new Mn(b,g),S=m.removedTargetIds||[];n=new He([],S,E.key,E)}else if("documentRemove"in t){t.documentRemove;var O=t.documentRemove;O.document;var x=At(e,O.document),k=O.removedTargetIds||[];n=new He([],k,x,null)}else{if(!("filter"in t))return _();t.filter;var C=t.filter;C.targetId;var T=C.count||0,I=new Ee(T),P=C.targetId;n=new Ye(P,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return le.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?le.min():t.readTime?Ct(t.readTime):le.min()}(e);return this.listener.yu(t,n)},t.prototype.Vu=function(e){var t={};t.database=jt(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=be(r)?{documents:Ut(e,r)}:{query:Vt(e,r)}).targetId=t.targetId,t.resumeToken.O()>0&&(n.resumeToken=xt(e,t.resumeToken)),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _()}}(0,t.et);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.du(t)},t.prototype.pu=function(e){var t={};t.database=jt(this.serializer),t.removeTarget=e,this.du(t)},t}(Vo),Bo=function(e){function t(t,n,r,i,o){var s=this;return(s=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.bu=!1,s}return o.__extends(t,e),Object.defineProperty(t.prototype,"vu",{get:function(){return this.bu},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.bu=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.mu=function(){this.bu&&this.Su([])},t.prototype.Ru=function(e){return this.iu.Pu("Write",e)},t.prototype.onMessage=function(e){if(w(!!e.streamToken),this.lastStreamToken=e.streamToken,this.bu){this.ys.reset();var t=function(e,t){return e&&e.length>0?(w(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ct(e.updateTime):Ct(t);n.isEqual(le.min())&&(n=Ct(t));var r=null;return e.transformResults&&e.transformResults.length>0&&(r=e.transformResults),new dn(n,r)}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ct(e.commitTime);return this.listener.Du(n,t)}return w(!e.writeResults||0===e.writeResults.length),this.bu=!0,this.listener.Cu()},t.prototype.Nu=function(){var e={};e.database=jt(this.serializer),this.du(e)},t.prototype.Su=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Lt(t.serializer,e)}))};this.du(n)},t}(Vo),qo=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.iu=n,i.serializer=r,i.Fu=!1,i}return o.__extends(t,e),t.prototype.xu=function(){if(this.Fu)throw new p(h.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.$u=function(e,t,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.$u(e,t,n,i)})).catch((function(e){throw e.code===h.UNAUTHENTICATED&&r.credentials.zc(),e}))},t.prototype.ku=function(e,t,n){var r=this;return this.xu(),this.credentials.getToken().then((function(i){return r.iu.ku(e,t,n,i)})).catch((function(e){throw e.code===h.UNAUTHENTICATED&&r.credentials.zc(),e}))},t.prototype.terminate=function(){this.Fu=!1},t}((function(){})),zo=function(){function e(e,t){this.cs=e,this.di=t,this.state="Unknown",this.Mu=0,this.Ou=null,this.Lu=!0}return e.prototype.Bu=function(){var e=this;0===this.Mu&&(this.qu("Unknown"),this.Ou=this.cs.yn("online_state_timeout",1e4,(function(){return e.Ou=null,e.Uu("Backend didn't respond within 10 seconds."),e.qu("Offline"),Promise.resolve()})))},e.prototype.Qu=function(e){"Online"===this.state?this.qu("Unknown"):(this.Mu++,this.Mu>=1&&(this.Wu(),this.Uu("Connection failed 1 times. Most recent error: "+e.toString()),this.qu("Offline")))},e.prototype.set=function(e){this.Wu(),this.Mu=0,"Online"===e&&(this.Lu=!1),this.qu(e)},e.prototype.qu=function(e){e!==this.state&&(this.state=e,this.di(e))},e.prototype.Uu=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Lu?(m(t),this.Lu=!1):y("OnlineStateTracker",t)},e.prototype.Wu=function(){null!==this.Ou&&(this.Ou.cancel(),this.Ou=null)},e}(),Ho=function(e,t,n,r,i){var s=this;this.ju=e,this.Ku=t,this.cs=n,this.Gu={},this.zu=[],this.Hu=new Map,this.Yu=new Set,this.Ju=[],this.Xu=i,this.Xu.Zu((function(e){n.ws((function(){return o.__awaiter(s,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return ts(this)?(y("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return(t=E(e)).Yu.add(4),[4,Go(t)];case 1:return n.sent(),t.th.set("Unknown"),t.Yu.delete(4),[4,Yo(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.th=new zo(n,r)};function Yo(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!ts(e))return[3,4];t=0,n=e.Ju,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Go(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:t=0,n=e.Ju,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Ko(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return t=E(e),y("RemoteStore","RemoteStore shutting down."),t.Yu.add(5),[4,Go(t)];case 1:return n.sent(),t.Xu.Di(),t.th.set("Unknown"),[2]}}))}))}function Qo(e,t){var n=E(e);n.Hu.has(t.targetId)||(n.Hu.set(t.targetId,t),es(n)?Zo(n):ys(n).uu()&&$o(n,t))}function Xo(e,t){var n=E(e),r=ys(n);n.Hu.delete(t),r.uu()&&Jo(n,t),0===n.Hu.size&&(r.uu()?r._u():ts(n)&&n.th.set("Unknown"))}function $o(e,t){e.eh.Ie(t.targetId),ys(e).Vu(t)}function Jo(e,t){e.eh.Ie(t),ys(e).pu(t)}function Zo(e){e.eh=new Qe({qe:function(t){return e.Gu.qe(t)},Ue:function(t){return e.Hu.get(t)||null}}),ys(e).start(),e.th.Bu()}function es(e){return ts(e)&&!ys(e).cu()&&e.Hu.size>0}function ts(e){return 0===E(e).Yu.size}function ns(e){e.eh=void 0}function rs(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return e.Hu.forEach((function(t,n){$o(e,t)})),[2]}))}))}function is(e,t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){return ns(e),es(e)?(e.th.Qu(t),Zo(e)):e.th.set("Unknown"),[2]}))}))}function os(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s;return o.__generator(this,(function(a){switch(a.label){case 0:if(e.th.set("Online"),!(t instanceof Ge&&2===t.state&&t.cause))return[3,6];a.label=1;case 1:return a.trys.push([1,3,,5]),[4,function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:n=t.cause,r=0,i=t.targetIds,o.label=1;case 1:return r<i.length?(s=i[r],e.Hu.has(s)?[4,e.Gu.nh(s,n)]:[3,3]):[3,5];case 2:o.sent(),e.Hu.delete(s),e.eh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return a.sent(),[3,5];case 3:return r=a.sent(),y("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,ss(e,r)];case 4:return a.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof He?e.eh.be(t):t instanceof Ye?e.eh.$e(t):e.eh.De(t),n.isEqual(le.min()))return[3,13];a.label=7;case 7:return a.trys.push([7,11,,13]),[4,So(e.ju)];case 8:return i=a.sent(),n.L(i)>=0?[4,function(e,t){var n=e.eh.Oe(t);return n.zt.forEach((function(n,r){if(n.resumeToken.O()>0){var i=e.Hu.get(r);i&&e.Hu.set(r,i.it(n.resumeToken,t))}})),n.Ht.forEach((function(t){var n=e.Hu.get(t);if(n){e.Hu.set(t,n.it(te.B,n.nt)),Jo(e,t);var r=new we(n.target,t,1,n.sequenceNumber);$o(e,r)}})),e.Gu.sh(n)}(e,n)]:[3,10];case 9:a.sent(),a.label=10;case 10:return[3,13];case 11:return y("RemoteStore","Failed to raise snapshot:",s=a.sent()),[4,ss(e,s)];case 12:return a.sent(),[3,13];case 13:return[2]}}))}))}function ss(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r=this;return o.__generator(this,(function(i){switch(i.label){case 0:if(!Or(t))throw t;return e.Yu.add(1),[4,Go(e)];case 1:return i.sent(),e.th.set("Offline"),n||(n=function(){return So(e.ju)}),e.cs.Cs((function(){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return y("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Yu.delete(1),[4,Yo(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function as(e,t){return t().catch((function(n){return ss(e,n,t)}))}function us(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:t=E(e),n=ms(t),r=t.zu.length>0?t.zu[t.zu.length-1].batchId:-1,o.label=1;case 1:if(!function(e){return ts(e)&&e.zu.length<10}(t))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,xo(t.ju,r)];case 3:return null===(i=o.sent())?(0===t.zu.length&&n._u(),[3,7]):(r=i.batchId,function(e,t){e.zu.push(t);var n=ms(e);n.uu()&&n.vu&&n.Su(t.mutations)}(t,i),[3,6]);case 4:return s=o.sent(),[4,ss(t,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return cs(t)&&ls(t),[2]}}))}))}function cs(e){return ts(e)&&!ms(e).cu()&&e.zu.length>0}function ls(e){ms(e).start()}function fs(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){return ms(e).Nu(),[2]}))}))}function hs(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){for(t=ms(e),n=0,r=e.zu;n<r.length;n++)i=r[n],t.Su(i.mutations);return[2]}))}))}function ps(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return r=e.zu.shift(),i=ni.from(r,t,n),[4,as(e,(function(){return e.Gu.ih(i)}))];case 1:return o.sent(),[4,us(e)];case 2:return o.sent(),[2]}}))}))}function ds(e,t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return t&&ms(e).vu?[4,function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return Se(r=t.code)&&r!==h.ABORTED?(n=e.zu.shift(),ms(e).lu(),[4,as(e,(function(){return e.Gu.rh(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,us(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return cs(e)&&ls(e),[2]}}))}))}function vs(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return n=E(e),t?(n.Yu.delete(2),[4,Yo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Yu.add(2),[4,Go(n)]);case 3:r.sent(),n.th.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function ys(e){var t=this;return e.oh||(e.oh=function(e,t,n){var r=E(e);return r.xu(),new Wo(t,r.iu,r.credentials,r.serializer,n)}(e.Ku,e.cs,{gu:rs.bind(null,e),Tu:is.bind(null,e),yu:os.bind(null,e)}),e.Ju.push((function(n){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return n?(e.oh.lu(),es(e)?Zo(e):e.th.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.oh.stop()];case 2:t.sent(),ns(e),t.label=3;case 3:return[2]}}))}))}))),e.oh}function ms(e){var t=this;return e.ah||(e.ah=function(e,t,n){var r=E(e);return r.xu(),new Bo(t,r.iu,r.credentials,r.serializer,n)}(e.Ku,e.cs,{gu:fs.bind(null,e),Tu:ds.bind(null,e),Cu:hs.bind(null,e),Du:ps.bind(null,e)}),e.Ju.push((function(n){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return n?(e.ah.lu(),[4,us(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.ah.stop()];case 3:t.sent(),e.zu.length>0&&(y("RemoteStore","Stopping write stream with "+e.zu.length+" pending writes"),e.zu=[]),t.label=4;case 4:return[2]}}))}))}))),e.ah}var bs=function(e){this.key=e},gs=function(e){this.key=e},_s=function(){function e(e,t){this.query=e,this.uh=t,this.hh=null,this.te=!1,this.lh=Le(),this.Wt=Le(),this._h=tr(e),this.fh=new Ve(this._h)}return Object.defineProperty(e.prototype,"dh",{get:function(){return this.uh},enumerable:!1,configurable:!0}),e.prototype.wh=function(e,t){var n=this,r=t?t.mh:new We,i=t?t.fh:this.fh,o=t?t.Wt:this.Wt,s=i,a=!1,u=Wn(this.query)&&i.size===this.query.limit?i.last():null,c=Bn(this.query)&&i.size===this.query.limit?i.first():null;if(e.ht((function(e,t){var l=i.get(e),f=t instanceof Rn?t:null;f&&(f=er(n.query,f)?f:null);var h=!!l&&n.Wt.has(l.key),p=!!f&&(f.Je||n.Wt.has(f.key)&&f.hasCommittedMutations),d=!1;l&&f?l.data().isEqual(f.data())?h!==p&&(r.track({type:3,doc:f}),d=!0):n.Th(l,f)||(r.track({type:2,doc:f}),d=!0,(u&&n._h(f,u)>0||c&&n._h(f,c)<0)&&(a=!0)):!l&&f?(r.track({type:0,doc:f}),d=!0):l&&!f&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(f?(s=s.add(f),o=p?o.add(e):o.delete(e)):(s=s.delete(e),o=o.delete(e)))})),Wn(this.query)||Bn(this.query))for(;s.size>this.query.limit;){var l=Wn(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fh:s,mh:r,Eh:a,Wt:o}},e.prototype.Th=function(e,t){return e.Je&&t.hasCommittedMutations&&!t.Je},e.prototype.yr=function(e,t,n){var r=this,i=this.fh;this.fh=e.fh,this.Wt=e.Wt;var o=e.mh.Ut();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _()}};return n(e)-n(t)}(e.type,t.type)||r._h(e.doc,t.doc)})),this.Ih(n);var s=t?this.Ah():[],a=0===this.lh.size&&this.te?1:0,u=a!==this.hh;return this.hh=a,0!==o.length||u?{snapshot:new Be(this.query,e.fh,i,o,e.Wt,0===a,u,!1),Rh:s}:{Rh:s}},e.prototype.Qs=function(e){return this.te&&"Offline"===e?(this.te=!1,this.yr({fh:this.fh,mh:new We,Wt:this.Wt,Eh:!1},!1)):{Rh:[]}},e.prototype.gh=function(e){return!this.uh.has(e)&&!!this.fh.has(e)&&!this.fh.get(e).Je},e.prototype.Ih=function(e){var t=this;e&&(e.ee.forEach((function(e){return t.uh=t.uh.add(e)})),e.ne.forEach((function(e){})),e.se.forEach((function(e){return t.uh=t.uh.delete(e)})),this.te=e.te)},e.prototype.Ah=function(){var e=this;if(!this.te)return[];var t=this.lh;this.lh=Le(),this.fh.forEach((function(t){e.gh(t.key)&&(e.lh=e.lh.add(t.key))}));var n=[];return t.forEach((function(t){e.lh.has(t)||n.push(new gs(t))})),this.lh.forEach((function(e){t.has(e)||n.push(new bs(e))})),n},e.prototype.Ph=function(e){this.uh=e.Fc,this.lh=Le();var t=this.wh(e.documents);return this.yr(t,!0)},e.prototype.yh=function(){return Be.Gt(this.query,this.fh,this.Wt,0===this.hh)},e}(),ws=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Es=function(e){this.key=e,this.Vh=!1},Ss=function(){function e(e,t,n,r,i,o){this.ju=e,this.ph=t,this.bh=n,this.Sh=r,this.currentUser=i,this.Dh=o,this.Ch={},this.Nh=new ue((function(e){return Jn(e)}),$n),this.Fh=new Map,this.xh=[],this.$h=new xe(P.i),this.kh=new Map,this.Mh=new Do,this.Oh={},this.Lh=new Map,this.Bh=ao.da(),this.onlineState="Unknown",this.qh=void 0}return Object.defineProperty(e.prototype,"Uh",{get:function(){return!0===this.qh},enumerable:!1,configurable:!0}),e}();function Os(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u;return o.__generator(this,(function(o){switch(o.label){case 0:return n=Xs(e),(s=n.Nh.get(t))?(r=s.targetId,n.Sh.Oi(r),i=s.view.yh(),[3,4]):[3,1];case 1:return[4,ko(n.ju,Gn(t))];case 2:return a=o.sent(),u=n.Sh.Oi(a.targetId),r=a.targetId,[4,xs(n,t,r,"current"===u)];case 3:i=o.sent(),n.Uh&&Qo(n.ph,a),o.label=4;case 4:return[2,i]}}))}))}function xs(e,t,n,r){return o.__awaiter(this,void 0,void 0,(function(){var i,s,a,u,c,l;return o.__generator(this,(function(f){switch(f.label){case 0:return e.Qh=function(t,n,r){return function(e,t,n,r){return o.__awaiter(this,void 0,void 0,(function(){var i,s,a;return o.__generator(this,(function(o){switch(o.label){case 0:return(i=t.view.wh(n)).Eh?[4,To(e.ju,t.query,!1).then((function(e){var n=e.documents;return t.view.wh(n,i)}))]:[3,2];case 1:i=o.sent(),o.label=2;case 2:return s=r&&r.zt.get(t.targetId),a=t.view.yr(i,e.Uh,s),[2,(Ms(e,t.targetId,a.Rh),a.snapshot)]}}))}))}(e,t,n,r)},[4,To(e.ju,t,!0)];case 1:return i=f.sent(),s=new _s(t,i.Fc),a=s.wh(i.documents),u=ze.Zt(n,r&&"Offline"!==e.onlineState),c=s.yr(a,e.Uh,u),Ms(e,n,c.Rh),l=new ws(t,n,s),[2,(e.Nh.set(t,l),e.Fh.has(n)?e.Fh.get(n).push(t):e.Fh.set(n,[t]),c.snapshot)]}}))}))}function ks(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return n=E(e),r=n.Nh.get(t),(i=n.Fh.get(r.targetId)).length>1?[2,(n.Fh.set(r.targetId,i.filter((function(e){return!$n(e,t)}))),void n.Nh.delete(t))]:n.Uh?(n.Sh.Bi(r.targetId),n.Sh.Fi(r.targetId)?[3,2]:[4,Co(n.ju,r.targetId,!1).then((function(){n.Sh.Ui(r.targetId),Xo(n.ph,r.targetId),js(n,r.targetId)})).catch(No)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return js(n,r.targetId),[4,Co(n.ju,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Cs(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r;return o.__generator(this,(function(i){switch(i.label){case 0:n=E(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Oo(n.ju,t)];case 2:return r=i.sent(),t.zt.forEach((function(e,t){var r=n.kh.get(t);r&&(w(e.ee.size+e.ne.size+e.se.size<=1),e.ee.size>0?r.Vh=!0:e.ne.size>0?w(r.Vh):e.se.size>0&&(w(r.Vh),r.Vh=!1))})),[4,Us(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,No(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ts(e,t,n){var r=E(e);if(r.Uh&&0===n||!r.Uh&&1===n){var i=[];r.Nh.forEach((function(e,n){var r=n.view.Qs(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=E(e);n.onlineState=t;var r=!1;n.Bs.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Qs(t)&&(r=!0)})),r&&Wr(n)}(r.bh,t),i.length&&r.Ch.yu(i),r.onlineState=t,r.Uh&&r.Sh.Ki(t)}}function Is(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:return(r=E(e)).Sh.Qi(t,"rejected",n),i=r.kh.get(t),(s=i&&i.key)?(a=(a=new xe(P.i)).ot(s,new Mn(s,le.min())),u=Le().add(s),c=new qe(le.min(),new Map,new Te(J),a,u),[4,Cs(r,c)]):[3,2];case 1:return o.sent(),r.$h=r.$h.remove(s),r.kh.delete(t),Fs(r),[3,4];case 2:return[4,Co(r.ju,t,!1).then((function(){return js(r,t,n)})).catch(No)];case 3:o.sent(),o.label=4;case 4:return[2]}}))}))}function Ps(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:n=E(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Eo(n.ju,t)];case 2:return i=o.sent(),Ds(n,r,null),Ns(n,r),n.Sh.ki(r,"acknowledged"),[4,Us(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,No(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function As(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i;return o.__generator(this,(function(o){switch(o.label){case 0:r=E(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=E(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Sr.Oo(e,t).next((function(t){return w(null!==t),r=t.keys(),n.Sr.Wo(e,t)})).next((function(){return n.Sr.zo(e)})).next((function(){return n.Cc.kr(e,r)}))}))}(r.ju,t)];case 2:return i=o.sent(),Ds(r,t,n),Ns(r,t),r.Sh.ki(t,"rejected",n),[4,Us(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,No(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ns(e,t){(e.Lh.get(t)||[]).forEach((function(e){e.resolve()})),e.Lh.delete(t)}function Ds(e,t,n){var r=E(e),i=r.Oh[r.currentUser.ti()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.Oh[r.currentUser.ti()]=i}}function js(e,t,n){void 0===n&&(n=null),e.Sh.Bi(t);for(var r=0,i=e.Fh.get(t);r<i.length;r++){var o=i[r];e.Nh.delete(o),n&&e.Ch.Wh(o,n)}e.Fh.delete(t),e.Uh&&e.Mh.Uc(t).forEach((function(t){e.Mh.Ho(t)||Rs(e,t)}))}function Rs(e,t){var n=e.$h.get(t);null!==n&&(Xo(e.ph,n),e.$h=e.$h.remove(t),e.kh.delete(n),Fs(e))}function Ms(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof bs?(e.Mh.Da(o.key,t),Ls(e,o)):o instanceof gs?(y("SyncEngine","Document no longer in limbo: "+o.key),e.Mh.Na(o.key,t),e.Mh.Ho(o.key)||Rs(e,o.key)):_()}}function Ls(e,t){var n=t.key;e.$h.get(n)||(y("SyncEngine","New document in limbo: "+n),e.xh.push(n),Fs(e))}function Fs(e){for(;e.xh.length>0&&e.$h.size<e.Dh;){var t=e.xh.shift(),n=e.Bh.next();e.kh.set(n,new Es(t)),e.$h=e.$h.ot(t,n),Qo(e.ph,new we(Gn(Vn(t.path)),n,2,zr.ai))}}function Us(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a;return o.__generator(this,(function(u){switch(u.label){case 0:return r=E(e),i=[],s=[],a=[],r.Nh.m()?[3,3]:(r.Nh.forEach((function(e,o){a.push(r.Qh(o,t,n).then((function(e){if(e){r.Uh&&r.Sh.Qi(o.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=ai.zr(o.targetId,e);s.push(t)}})))})),[4,Promise.all(a)]);case 1:return u.sent(),r.Ch.yu(i),[4,function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,l,f;return o.__generator(this,(function(o){switch(o.label){case 0:n=E(e),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _r.forEach(t,(function(t){return _r.forEach(t.Kr,(function(r){return n.persistence.No.Da(e,t.targetId,r)})).next((function(){return _r.forEach(t.Gr,(function(r){return n.persistence.No.Na(e,t.targetId,r)}))}))}))}))];case 2:return o.sent(),[3,4];case 3:if(!Or(r=o.sent()))throw r;return y("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=t;i<s.length;i++)a=s[i],u=a.targetId,a.fromCache||(c=n.bc.get(u),l=c.nt,f=c.rt(l),n.bc=n.bc.ot(u,f));return[2]}}))}))}(r.ju,s)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Vs(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return(n=E(e)).currentUser.isEqual(t)?[3,3]:(y("SyncEngine","User change. New user:",t.ti()),[4,function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return n=E(e),r=n.Sr,i=n.Cc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n.Sr.Uo(e).next((function(s){return o=s,r=n.persistence.mc(t),i=new si(n.Dc,r,n.persistence.Ic()),r.Uo(e)})).next((function(t){for(var n=[],r=[],s=Le(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];s=s.add(h.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];r.push(v.batchId);for(var y=0,m=v.mutations;y<m.length;y++){var b=m[y];s=s.add(b.key)}}return i.kr(e,s).next((function(e){return{jh:e,Kh:n,Gh:r}}))}))}))];case 1:return s=o.sent(),[2,(n.Sr=r,n.Cc=i,n.Vc.Nc(n.Cc),s)]}}))}))}(n.ju,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.Lh.forEach((function(e){e.forEach((function(e){e.reject(new p(h.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Lh.clear()}(n),n.Sh.ji(t,r.Kh,r.Gh),[4,Us(n,r.jh)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Ws(e,t){var n=E(e),r=n.kh.get(t);if(r&&r.Vh)return Le().add(r.key);var i=Le(),o=n.Fh.get(t);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=a[s],c=n.Nh.get(u);i=i.kt(c.view.dh)}return i}function Bs(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,To((n=E(e)).ju,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ph(r),[2,(n.Uh&&Ms(n,t.targetId,i.Rh),i)]}}))}))}function qs(e,t,n,r){return o.__awaiter(this,void 0,void 0,(function(){var i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,function(e,t){var n=E(e),r=E(n.Sr);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Lo(e,t).next((function(t){return t?n.Cc.kr(e,t):_r.resolve(null)}))}))}((i=E(e)).ju,t)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,us(i.ph)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ds(i,t,r||null),Ns(i,t),function(e,t){E(E(e).Sr).Ko(t)}(i.ju,t)):_(),o.label=4;case 4:return[4,Us(i,s)];case 5:return o.sent(),[3,7];case 6:y("SyncEngine","Cannot apply mutation batch with id: "+t),o.label=7;case 7:return[2]}}))}))}function zs(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,l;return o.__generator(this,(function(o){switch(o.label){case 0:return Xs(n=E(e)),$s(n),!0!==t||!0===n.qh?[3,3]:(r=n.Sh.Ci(),[4,Hs(n,r.A())]);case 1:return i=o.sent(),n.qh=!0,[4,vs(n.ph,!0)];case 2:for(o.sent(),s=0,a=i;s<a.length;s++)u=a[s],Qo(n.ph,u);return[3,7];case 3:return!1!==t||!1===n.qh?[3,7]:(c=[],l=Promise.resolve(),n.Fh.forEach((function(e,t){n.Sh.qi(t)?c.push(t):l=l.then((function(){return js(n,t),Co(n.ju,t,!0)})),Xo(n.ph,t)})),[4,l]);case 4:return o.sent(),[4,Hs(n,c)];case 5:return o.sent(),function(e){var t=E(n);t.kh.forEach((function(e,n){Xo(t.ph,n)})),t.Mh.Qc(),t.kh=new Map,t.$h=new xe(P.i)}(),n.qh=!1,[4,vs(n.ph,!1)];case 6:o.sent(),o.label=7;case 7:return[2]}}))}))}function Hs(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u,c,l,f,h,p,d,v,y;return o.__generator(this,(function(o){switch(o.label){case 0:n=E(e),r=[],i=[],s=0,a=t,o.label=1;case 1:return s<a.length?(u=a[s],c=void 0,(l=n.Fh.get(u))&&0!==l.length?[4,ko(n.ju,Gn(l[0]))]:[3,7]):[3,13];case 2:c=o.sent(),f=0,h=l,o.label=3;case 3:return f<h.length?(p=h[f],d=n.Nh.get(p),[4,Bs(n,d)]):[3,6];case 4:(v=o.sent()).snapshot&&i.push(v.snapshot),o.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Io(n.ju,u)];case 8:return y=o.sent(),[4,ko(n.ju,y)];case 9:return c=o.sent(),[4,xs(n,Ys(y),u,!1)];case 10:o.sent(),o.label=11;case 11:r.push(c),o.label=12;case 12:return s++,[3,1];case 13:return[2,(n.Ch.yu(i),r)]}}))}))}function Ys(e){return Un(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Gs(e){var t=E(e);return E(E(t.ju).persistence).pi()}function Ks(e,t,n,r){return o.__awaiter(this,void 0,void 0,(function(){var i,s,a;return o.__generator(this,(function(o){switch(o.label){case 0:return(i=E(e)).qh?(y("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Fh.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Po(i.ju)];case 3:return s=o.sent(),a=qe.Xt(t,"current"===n),[4,Us(i,s,a)];case 4:return o.sent(),[3,8];case 5:return[4,Co(i.ju,t,!0)];case 6:return o.sent(),js(i,t,r),[3,8];case 7:_(),o.label=8;case 8:return[2]}}))}))}function Qs(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c,l,f,h,p;return o.__generator(this,(function(d){switch(d.label){case 0:if(!(r=Xs(e)).qh)return[3,10];i=0,s=t,d.label=1;case 1:return i<s.length?(a=s[i],r.Fh.has(a)?(y("SyncEngine","Adding an already active target "+a),[3,5]):[4,Io(r.ju,a)]):[3,6];case 2:return u=d.sent(),[4,ko(r.ju,u)];case 3:return c=d.sent(),[4,xs(r,Ys(u),c.targetId,!1)];case 4:d.sent(),Qo(r.ph,c),d.label=5;case 5:return i++,[3,1];case 6:l=function(e){return o.__generator(this,(function(t){switch(t.label){case 0:return r.Fh.has(e)?[4,Co(r.ju,e,!1).then((function(){Xo(r.ph,e),js(r,e)})).catch(No)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},f=0,h=n,d.label=7;case 7:return f<h.length?(p=h[f],[5,l(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function Xs(e){var t=E(e);return t.ph.Gu.sh=Cs.bind(null,t),t.ph.Gu.qe=Ws.bind(null,t),t.ph.Gu.nh=Is.bind(null,t),t.Ch.yu=Ur.bind(null,t.bh),t.Ch.Wh=Vr.bind(null,t.bh),t}function $s(e){var t=E(e);return t.ph.Gu.ih=Ps.bind(null,t),t.ph.Gu.rh=As.bind(null,t),t}var Js=function(){function e(){}return e.prototype.Nc=function(e){this.zh=e},e.prototype.Lr=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.on.length||1===e.on.length&&e.on[0].field.p())}(t)||n.isEqual(le.min())?this.Hh(e,t):this.zh.kr(e,r).next((function(o){var s=i.Yh(t,o);return(Wn(t)||Bn(t))&&i.Eh(t.an,s,r,n)?i.Hh(e,t):(v()<=a.LogLevel.DEBUG&&y("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Zn(t)),i.zh.Lr(e,t,n).next((function(e){return s.forEach((function(t){e=e.ot(t.key,t)})),e})))}))},e.prototype.Yh=function(e,t){var n=new Te(tr(e));return t.forEach((function(t,r){r instanceof Rn&&er(e,r)&&(n=n.add(r))})),n},e.prototype.Eh=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.L(r)>0)},e.prototype.Hh=function(e,t){return v()<=a.LogLevel.DEBUG&&y("IndexFreeQueryEngine","Using full collection scan to execute query:",Zn(t)),this.zh.Lr(e,t,le.min())},e}(),Zs=function(){function e(e,t){this.Dr=e,this.No=t,this.Sr=[],this.Jh=1,this.Xh=new Te(jo.kc)}return e.prototype.$o=function(e){return _r.resolve(0===this.Sr.length)},e.prototype.ko=function(e,t,n,r){var i=this.Jh;this.Jh++,this.Sr.length>0&&this.Sr[this.Sr.length-1];var o=new ti(i,t,n,r);this.Sr.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xh=this.Xh.add(new jo(u.key,i)),this.Dr.Mo(e,u.key.path.h())}return _r.resolve(o)},e.prototype.Oo=function(e,t){return _r.resolve(this.Zh(t))},e.prototype.Bo=function(e,t){var n=t+1,r=this.tl(n),i=r<0?0:r;return _r.resolve(this.Sr.length>i?this.Sr[i]:null)},e.prototype.qo=function(){return _r.resolve(0===this.Sr.length?-1:this.Jh-1)},e.prototype.Uo=function(e){return _r.resolve(this.Sr.slice())},e.prototype.Nr=function(e,t){var n=this,r=new jo(t,0),i=new jo(t,Number.POSITIVE_INFINITY),o=[];return this.Xh.Ft([r,i],(function(e){var t=n.Zh(e.jc);o.push(t)})),_r.resolve(o)},e.prototype.Or=function(e,t){var n=this,r=new Te(J);return t.forEach((function(e){var t=new jo(e,0),i=new jo(e,Number.POSITIVE_INFINITY);n.Xh.Ft([t,i],(function(e){r=r.add(e.jc)}))})),_r.resolve(this.el(r))},e.prototype.Wr=function(e,t){var n=t.path,r=n.length+1,i=n;P.F(i)||(i=i.child(""));var o=new jo(new P(i),0),s=new Te(J);return this.Xh.xt((function(e){var t=e.key.path;return!!n.T(t)&&(t.length===r&&(s=s.add(e.jc)),!0)}),o),_r.resolve(this.el(s))},e.prototype.el=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Zh(e);null!==r&&n.push(r)})),n},e.prototype.Wo=function(e,t){var n=this;w(0===this.nl(t.batchId,"removed")),this.Sr.shift();var r=this.Xh;return _r.forEach(t.mutations,(function(i){var o=new jo(i.key,t.batchId);return r=r.delete(o),n.No.Go(e,i.key)})).next((function(){n.Xh=r}))},e.prototype.Ko=function(e){},e.prototype.Ho=function(e,t){var n=new jo(t,0),r=this.Xh.$t(n);return _r.resolve(t.isEqual(r&&r.key))},e.prototype.zo=function(e){return this.Sr.length,_r.resolve()},e.prototype.nl=function(e,t){return this.tl(e)},e.prototype.tl=function(e){return 0===this.Sr.length?0:e-this.Sr[0].batchId},e.prototype.Zh=function(e){var t=this.tl(e);return t<0||t>=this.Sr.length?null:this.Sr[t]},e}(),ea=function(){function e(e,t){this.Dr=e,this.sl=t,this.docs=new xe(P.i),this.size=0}return e.prototype.Er=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.sl(t);return this.docs=this.docs.ot(r,{ta:t,size:s,readTime:n}),this.size+=s-o,this.Dr.Mo(e,r.path.h())},e.prototype.Ar=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.Rr=function(e,t){var n=this.docs.get(t);return _r.resolve(n?n.ta:null)},e.prototype.getEntries=function(e,t){var n=this,r=Ne();return t.forEach((function(e){var t=n.docs.get(e);r=r.ot(e,t?t.ta:null)})),_r.resolve(r)},e.prototype.Lr=function(e,t,n){for(var r=je(),i=new P(t.path.child("")),o=this.docs.ft(i);o.At();){var s=o.It(),a=s.key,u=s.value,c=u.ta,l=u.readTime;if(!t.path.T(a.path))break;l.L(n)<=0||c instanceof Rn&&er(t,c)&&(r=r.ot(c.key,c))}return _r.resolve(r)},e.prototype.il=function(e,t){return _r.forEach(this.docs,(function(e){return t(e)}))},e.prototype.ra=function(e){return new ta(this)},e.prototype.aa=function(e){return _r.resolve(this.size)},e}(),ta=function(e){function t(t){var n=this;return(n=e.call(this)||this).ca=t,n}return o.__extends(t,e),t.prototype.yr=function(e){var t=this,n=[];return this.wr.forEach((function(r,i){i?n.push(t.ca.Er(e,i,t.readTime)):t.ca.Ar(r)})),_r.$n(n)},t.prototype.gr=function(e,t){return this.ca.Rr(e,t)},t.prototype.Pr=function(e,t){return this.ca.getEntries(e,t)},t}(ri),na=function(){function e(e){this.persistence=e,this.rl=new ue((function(e){return ye(e)}),me),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.ol=0,this.al=new Do,this.targetCount=0,this.cl=ao.fa()}return e.prototype.Ce=function(e,t){return this.rl.forEach((function(e,n){return t(n)})),_r.resolve()},e.prototype.Ea=function(e){return _r.resolve(this.lastRemoteSnapshotVersion)},e.prototype.Ia=function(e){return _r.resolve(this.ol)},e.prototype.wa=function(e){return this.highestTargetId=this.cl.next(),_r.resolve(this.highestTargetId)},e.prototype.Aa=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ol&&(this.ol=t),_r.resolve()},e.prototype.ga=function(e){this.rl.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.cl=new ao(t),this.highestTargetId=t),e.sequenceNumber>this.ol&&(this.ol=e.sequenceNumber)},e.prototype.Ra=function(e,t){return this.ga(t),this.targetCount+=1,_r.resolve()},e.prototype.ya=function(e,t){return this.ga(t),_r.resolve()},e.prototype.Va=function(e,t){return this.rl.delete(t.target),this.al.Uc(t.targetId),this.targetCount-=1,_r.resolve()},e.prototype.po=function(e,t,n){var r=this,i=0,o=[];return this.rl.forEach((function(s,a){a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r.rl.delete(s),o.push(r.pa(e,a.targetId)),i++)})),_r.$n(o).next((function(){return i}))},e.prototype.ba=function(e){return _r.resolve(this.targetCount)},e.prototype.va=function(e,t){var n=this.rl.get(t)||null;return _r.resolve(n)},e.prototype.Sa=function(e,t,n){return this.al.Lc(t,n),_r.resolve()},e.prototype.Ca=function(e,t,n){this.al.qc(t,n);var r=this.persistence.No,i=[];return r&&t.forEach((function(t){i.push(r.Go(e,t))})),_r.$n(i)},e.prototype.pa=function(e,t){return this.al.Uc(t),_r.resolve()},e.prototype.Fa=function(e,t){var n=this.al.Wc(t);return _r.resolve(n)},e.prototype.Ho=function(e,t){return _r.resolve(this.al.Ho(t))},e}(),ra=function(){function e(e){var t=this;this.ul={},this.Ma=new zr(0),this.Oa=!1,this.Oa=!0,this.No=e(this),this.Ka=new na(this),this.Dr=new Vi,this.vr=function(e,n){return new ea(e,(function(e){return t.No.hl(e)}))}(this.Dr)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.Di=function(){return this.Oa=!1,Promise.resolve()},Object.defineProperty(e.prototype,"Ei",{get:function(){return this.Oa},enumerable:!1,configurable:!0}),e.prototype.Za=function(){},e.prototype.tc=function(){},e.prototype.Ic=function(){return this.Dr},e.prototype.mc=function(e){var t=this.ul[e.ti()];return t||(t=new Zs(this.Dr,this.No),this.ul[e.ti()]=t),t},e.prototype.Tc=function(){return this.Ka},e.prototype.Ec=function(){return this.vr},e.prototype.runTransaction=function(e,t,n){var r=this;y("MemoryPersistence","Starting transaction:",e);var i=new ia(this.Ma.next());return this.No.ll(),n(i).next((function(e){return r.No._l(i).next((function(){return e}))})).Fn().then((function(e){return i.br(),e}))},e.prototype.fl=function(e,t){return _r.kn(Object.values(this.ul).map((function(n){return function(){return n.Ho(e,t)}})))},e}(),ia=function(e){function t(t){var n=this;return(n=e.call(this)||this).xa=t,n}return o.__extends(t,e),t}(oi),oa=function(){function e(e){this.persistence=e,this.dl=new Do,this.wl=null}return e.ml=function(t){return new e(t)},Object.defineProperty(e.prototype,"Tl",{get:function(){if(this.wl)return this.wl;throw _()},enumerable:!1,configurable:!0}),e.prototype.Da=function(e,t,n){return this.dl.Da(n,t),this.Tl.delete(n.toString()),_r.resolve()},e.prototype.Na=function(e,t,n){return this.dl.Na(n,t),this.Tl.add(n.toString()),_r.resolve()},e.prototype.Go=function(e,t){return this.Tl.add(t.toString()),_r.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.dl.Uc(t.targetId).forEach((function(e){return n.Tl.add(e.toString())}));var r=this.persistence.Tc();return r.Fa(e,t.targetId).next((function(e){e.forEach((function(e){return n.Tl.add(e.toString())}))})).next((function(){return r.Va(e,t)}))},e.prototype.ll=function(){this.wl=new Set},e.prototype._l=function(e){var t=this,n=this.persistence.Ec().ra();return _r.forEach(this.Tl,(function(r){var i=P.D(r);return t.El(e,i).next((function(e){e||n.Ar(i)}))})).next((function(){return t.wl=null,n.apply(e)}))},e.prototype.yc=function(e,t){var n=this;return this.El(e,t).next((function(e){e?n.Tl.delete(t.toString()):n.Tl.add(t.toString())}))},e.prototype.hl=function(e){return 0},e.prototype.El=function(e,t){var n=this;return _r.kn([function(){return _r.resolve(n.dl.Ho(t))},function(){return n.persistence.Tc().Ho(e,t)},function(){return n.persistence.fl(e,t)}])},e}(),sa=function(){function e(e){this.Il=e.Il,this.Al=e.Al}return e.prototype.gu=function(e){this.Rl=e},e.prototype.Tu=function(e){this.gl=e},e.prototype.onMessage=function(e){this.Pl=e},e.prototype.close=function(){this.Al()},e.prototype.send=function(e){this.Il(e)},e.prototype.yl=function(){this.Rl()},e.prototype.Vl=function(e){this.gl(e)},e.prototype.pl=function(e){this.Pl(e)},e}(),aa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ua=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.W=t.W,n}return o.__extends(t,e),t.prototype.Nl=function(e,t,n,r){return new Promise((function(i,o){var s=new c.XhrIo;s.listenOnce(c.EventType.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case c.ErrorCode.NO_ERROR:var t=s.getResponseJson();y("Connection","XHR received:",JSON.stringify(t)),i(t);break;case c.ErrorCode.TIMEOUT:y("Connection",'RPC "'+e+'" timed out'),o(new p(h.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:var n=s.getStatus();if(y("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(e){var t=r.status.toLowerCase().replace("_","-");return Object.values(h).indexOf(t)>=0?t:h.UNKNOWN}();o(new p(a,r.message))}else o(new p(h.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new p(h.UNAVAILABLE,"Connection failed."));break;default:_()}}finally{y("Connection",'RPC "'+e+'" completed.')}}));var a=JSON.stringify(r);s.send(t,"POST",a,n,15)}))},t.prototype.Pu=function(e,t){var n=[this.vl,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=c.createWebChannelTransport(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.U.projectId+"/databases/"+this.U.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.W};this.Cl(i.initMessageHeaders,t),u.isMobileCordova()||u.isReactNative()||u.isElectron()||u.isIE()||u.isUWP()||u.isBrowserExtension()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");y("Connection","Creating WebChannel: "+o,i);var s=r.createWebChannel(o,i),a=!1,l=!1,f=new sa({Il:function(e){l?y("Connection","Not sending because WebChannel is closed:",e):(a||(y("Connection","Opening WebChannel transport."),s.open(),a=!0),y("Connection","WebChannel sending:",e),s.send(e))},Al:function(){return s.close()}}),d=function(e,t){s.listen(e,(function(e){try{t(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c.WebChannel.EventType.OPEN,(function(){l||y("Connection","WebChannel transport opened.")})),d(c.WebChannel.EventType.CLOSE,(function(){l||(l=!0,y("Connection","WebChannel transport closed"),f.Vl())})),d(c.WebChannel.EventType.ERROR,(function(e){l||(l=!0,b("Connection","WebChannel transport errored:",e),f.Vl(new p(h.UNAVAILABLE,"The operation could not be completed")))})),d(c.WebChannel.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];w(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){y("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=ge[o];if(void 0!==t)return Oe(t)}(),u=i.message;void 0===a&&(a=h.INTERNAL,u="Unknown error status: "+o+" with message "+i.message),l=!0,f.Vl(new p(a,u)),s.close()}else y("Connection","WebChannel received:",n),f.pl(n)}})),setTimeout((function(){f.yl()}),0),f},t}(function(){function e(e){this.bl=e,this.U=e.U;var t=e.ssl?"https":"http";this.vl=t+"://"+e.host,this.Sl="projects/"+this.U.projectId+"/databases/"+this.U.database+"/documents"}return e.prototype.$u=function(e,t,n,r){var i=this.Dl(e,t);y("RestConnection","Sending: ",i,n);var o={};return this.Cl(o,r),this.Nl(e,i,o,n).then((function(e){return y("RestConnection","Received: ",e),e}),(function(t){throw b("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.ku=function(e,t,n,r){return this.$u(e,t,n,r)},e.prototype.Cl=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/7.24.0",e["Content-Type"]="text/plain",t)for(var n in t.Kc)t.Kc.hasOwnProperty(n)&&(e[n]=t.Kc[n])},e.prototype.Dl=function(e,t){var n=aa[e];return this.vl+"/v1/"+t+":"+n},e}()),ca=function(){function e(){var e=this;this.Fl=function(){return e.xl()},this.$l=function(){return e.kl()},this.Ml=[],this.Ol()}return e.prototype.Zu=function(e){this.Ml.push(e)},e.prototype.Di=function(){window.removeEventListener("online",this.Fl),window.removeEventListener("offline",this.$l)},e.prototype.Ol=function(){window.addEventListener("online",this.Fl),window.addEventListener("offline",this.$l)},e.prototype.xl=function(){y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.Ml;e<t.length;e++)(0,t[e])(0)},e.prototype.kl=function(){y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.Ml;e<t.length;e++)(0,t[e])(1)},e.Ln=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),la=function(){function e(){}return e.prototype.Zu=function(e){},e.prototype.Di=function(){},e}();function fa(e){return new _t(e,!0)}var ha="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",pa=function(){function e(){}return e.prototype.initialize=function(e){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return this.Sh=this.Ll(e),this.persistence=this.Bl(e),[4,this.persistence.start()];case 1:return t.sent(),this.ql=this.Ul(e),this.ju=this.Ql(e),[2]}}))}))},e.prototype.Ul=function(e){return null},e.prototype.Ql=function(e){return t=this.persistence,n=new Js,r=e.Wl,new wo(t,n,r);var t,n,r},e.prototype.Bl=function(e){if(e.persistenceSettings.jl)throw new p(h.FAILED_PRECONDITION,ha);return new ra(oa.ml)},e.prototype.Ll=function(e){return new ei},e.prototype.terminate=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.ql&&this.ql.stop(),[4,this.Sh.Di()];case 1:return e.sent(),[4,this.persistence.Di()];case 2:return e.sent(),[2]}}))}))},e.prototype.clearPersistence=function(e,t){throw new p(h.FAILED_PRECONDITION,ha)},e}(),da=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.initialize=function(t){return o.__awaiter(this,void 0,void 0,(function(){var n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Kl.fi,this.Sh instanceof Zr?(this.Sh.fi={er:qs.bind(null,n),nr:Ks.bind(null,n),sr:Qs.bind(null,n),pi:Gs.bind(null,n)},[4,this.Sh.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Xa((function(e){return o.__awaiter(r,void 0,void 0,(function(){return o.__generator(this,(function(t){switch(t.label){case 0:return[4,zs(this.Kl.fi,e)];case 1:return t.sent(),this.ql&&(e&&!this.ql.Ei?this.ql.start(this.ju):e||this.ql.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Ll=function(e){if(e.persistenceSettings.jl&&e.persistenceSettings.synchronizeTabs){var t=Pr();if(!Zr.Ln(t))throw new p(h.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=_o(e.bl.U,e.bl.persistenceKey);return new Zr(t,e.cs,n,e.clientId,e.Wl)}return new ei},t}(function(e){function t(t){var n=this;return(n=e.call(this)||this).Kl=t,n}return o.__extends(t,e),t.prototype.initialize=function(t){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(n){switch(n.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return n.sent(),[4,Ao(this.ju)];case 2:return n.sent(),[4,this.Kl.initialize(this,t)];case 3:return n.sent(),[4,$s(this.Kl.fi)];case 4:return n.sent(),[4,us(this.Kl.ph)];case 5:return n.sent(),[2]}}))}))},t.prototype.Ul=function(e){var t=this.persistence.No.wo;return new hi(t,e.cs)},t.prototype.Bl=function(e){var t=_o(e.bl.U,e.bl.persistenceKey),n=fa(e.bl.U);return new vo(e.persistenceSettings.synchronizeTabs,t,e.clientId,fi.ao(e.persistenceSettings.cacheSizeBytes),e.cs,Pr(),Ar(),n,this.Sh,e.persistenceSettings.ka)},t.prototype.Ll=function(e){return new ei},t.prototype.clearPersistence=function(e,t){return function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return wr.Ln()?(t=e+"main",[4,wr.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(_o(e,t))},t}(pa)),va=function(){function e(){}return e.prototype.initialize=function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n=this;return o.__generator(this,(function(r){switch(r.label){case 0:return this.ju?[3,2]:(this.ju=e.ju,this.Sh=e.Sh,this.Ku=this.Gl(t),this.ph=this.zl(t),this.bh=this.Hl(t),this.fi=this.Yl(t),this.Sh.di=function(e){return Ts(n.fi,e,1)},this.ph.Gu.Jl=Vs.bind(null,this.fi),[4,vs(this.ph,this.fi.Uh)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.Hl=function(e){return new Mr},e.prototype.Gl=function(e){var t,n=fa(e.bl.U),r=(t=e.bl,new ua(t));return function(e,t,n){return new qo(e,r,n)}(e.credentials,0,n)},e.prototype.zl=function(e){var t,n,r,i,o,s=this;return t=this.ju,n=this.Ku,r=e.cs,i=function(e){return Ts(s.fi,e,0)},o=ca.Ln()?new ca:new la,new Ho(t,n,r,i,o)},e.prototype.Yl=function(e){return function(e,t,n,r,i,o,s){var a=new Ss(e,t,n,r,i,o);return s&&(a.qh=!0),a}(this.ju,this.ph,this.bh,this.Sh,e.Wl,e.Dh,!e.persistenceSettings.jl||!e.persistenceSettings.synchronizeTabs)},e.prototype.terminate=function(){return Ko(this.ph)},e}(),ya=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.Xl(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.Xl(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Zl=function(){this.muted=!0},e.prototype.Xl=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),ma=function(e){!function(e,t,n,r){if(!(t instanceof Array)||t.length<1)throw new p(h.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+Q(1,"element")+".")}(0,e);for(var t=0;t<e.length;++t)if(R("FieldPath","string",t,e[t]),0===e[t].length)throw new p(h.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.t_=new I(e)},ba=function(e){function t(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.call(this,t)||this}return o.__extends(t,e),t.documentId=function(){return new t(I.v().R())},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Y("isEqual","FieldPath",1,e);return this.t_.isEqual(e.t_)},t}(ma),ga=new RegExp("[~\\*/\\[\\]]"),_a=function(e){this.e_=e},wa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.n_=function(e){if(2!==e.s_)throw 1===e.s_?e.i_(this.e_+"() can only appear at the top level of your update data"):e.i_(this.e_+"() cannot be used with set() unless you pass {merge:true}");return e.We.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(_a);function Ea(e,t,n){return new ja({s_:3,r_:t.settings.r_,methodName:e.e_,o_:n},t.U,t.serializer,t.ignoreUndefinedProperties)}var Sa=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.n_=function(e){return new pn(e.path,new rn)},t.prototype.isEqual=function(e){return e instanceof t},t}(_a),Oa=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).a_=n,r}return o.__extends(t,e),t.prototype.n_=function(e){var t=Ea(this,e,!0),n=this.a_.map((function(e){return Va(e,t)})),r=new on(n);return new pn(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(_a),xa=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).a_=n,r}return o.__extends(t,e),t.prototype.n_=function(e){var t=Ea(this,e,!0),n=this.a_.map((function(e){return Va(e,t)})),r=new an(n);return new pn(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(_a),ka=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).c_=n,r}return o.__extends(t,e),t.prototype.n_=function(e){var t=new cn(e.serializer,St(e.serializer,this.c_));return new pn(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(_a),Ca=function(){function e(e,t){if(N("GeoPoint",arguments,2),R("GeoPoint","number",1,e),R("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new p(h.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new p(h.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this.u_=e,this.h_=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this.u_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this.h_},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.u_===e.u_&&this.h_===e.h_},e.prototype.toJSON=function(){return{latitude:this.u_,longitude:this.h_}},e.prototype.Y=function(e){return J(this.u_,e.u_)||J(this.h_,e.h_)},e}(),Ta=function(e){this.l_=e},Ia=/^__.*__$/,Pa=function(e,t,n){this.__=e,this.f_=t,this.d_=n},Aa=function(){function e(e,t,n){this.data=e,this.We=t,this.fieldTransforms=n}return e.prototype.w_=function(e,t){var n=[];return null!==this.We?n.push(new On(e,this.data,this.We,t)):n.push(new Sn(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new kn(e,this.fieldTransforms)),n},e}(),Na=function(){function e(e,t,n){this.data=e,this.We=t,this.fieldTransforms=n}return e.prototype.w_=function(e,t){var n=[new On(e,this.data,this.We,t)];return this.fieldTransforms.length>0&&n.push(new kn(e,this.fieldTransforms)),n},e}();function Da(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _()}}var ja=function(){function e(e,t,n,r,i,o){this.settings=e,this.U=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.m_(),this.fieldTransforms=i||[],this.We=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"s_",{get:function(){return this.settings.s_},enumerable:!1,configurable:!0}),e.prototype.T_=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.U,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.We)},e.prototype.E_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.T_({path:n,o_:!1});return r.I_(e),r},e.prototype.A_=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.T_({path:n,o_:!1});return r.m_(),r},e.prototype.R_=function(e){return this.T_({path:void 0,o_:!0})},e.prototype.i_=function(e){return Ya(e,this.settings.methodName,this.settings.g_||!1,this.path,this.settings.r_)},e.prototype.contains=function(e){return void 0!==this.We.find((function(t){return e.T(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.T(t.field)}))},e.prototype.m_=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.I_(this.path.get(e))},e.prototype.I_=function(e){if(0===e.length)throw this.i_("Document fields must not be empty");if(Da(this.s_)&&Ia.test(e))throw this.i_('Document fields cannot begin and end with "__"')},e}(),Ra=function(){function e(e,t,n){this.U=e,this.ignoreUndefinedProperties=t,this.serializer=n||fa(e)}return e.prototype.P_=function(e,t,n,r){return void 0===r&&(r=!1),new ja({s_:e,methodName:t,r_:n,path:I.P(),o_:!1,g_:r},this.U,this.serializer,this.ignoreUndefinedProperties)},e}();function Ma(e,t,n,r,i,o){void 0===o&&(o={});var s=e.P_(o.merge||o.mergeFields?2:0,t,n,i);qa("Data must be an object, but it was:",s,r);var a,u,c=Wa(r,s);if(o.merge)a=new hn(s.We),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,d=o.mergeFields;f<d.length;f++){var v=d[f],y=void 0;if(v instanceof ma)y=v.t_;else{if("string"!=typeof v)throw _();y=Ha(t,v,n)}if(!s.contains(y))throw new p(h.INVALID_ARGUMENT,"Field '"+y+"' is specified in your field mask but missing from your input data.");Ga(l,y)||l.push(y)}a=new hn(l),u=s.fieldTransforms.filter((function(e){return a.Ye(e.field)}))}else a=null,u=s.fieldTransforms;return new Aa(new An(c),a,u)}function La(e,t,n,r){var i=e.P_(1,t,n);qa("Data must be an object, but it was:",i,r);var o=[],s=new Nn;O(r,(function(e,r){var a=Ha(t,e,n),u=i.A_(a);if(r instanceof wa||r instanceof Ta&&r.l_ instanceof wa)o.push(a);else{var c=Va(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new hn(o);return new Na(s.Xe(),a,i.fieldTransforms)}function Fa(e,t,n,r,i,o){var s=e.P_(1,t,n),a=[za(t,r,n)],u=[i];if(o.length%2!=0)throw new p(h.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(za(t,o[c])),u.push(o[c+1]);for(var l=[],f=new Nn,d=a.length-1;d>=0;--d)if(!Ga(l,a[d])){var v=a[d],y=u[d],m=s.A_(v);if(y instanceof wa||y instanceof Ta&&y.l_ instanceof wa)l.push(v);else{var b=Va(y,m);null!=b&&(l.push(v),f.set(v,b))}}var g=new hn(l);return new Na(f.Xe(),g,s.fieldTransforms)}function Ua(e,t,n,r){return void 0===r&&(r=!1),Va(n,e.P_(r?4:3,t))}function Va(e,t){if(e instanceof Ta&&(e=e.l_),Ba(e))return qa("Unsupported field value:",t,e),Wa(e,t);if(e instanceof _a)return function(e,t){if(!Da(t.s_))throw t.i_(e.e_+"() can only be used with update() and set()");if(!t.path)throw t.i_(e.e_+"() is not currently supported inside arrays");var n=e.n_(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(t.path&&t.We.push(t.path),e instanceof Array){if(t.settings.o_&&4!==t.s_)throw t.i_("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var s=Va(o[i],t.R_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===e)return{nullValue:"NULL_VALUE"};if("number"==typeof e)return St(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=ce.fromDate(e);return{timestampValue:Ot(t.serializer,n)}}if(e instanceof ce){var r=new ce(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ot(t.serializer,r)}}if(e instanceof Ca)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ne)return{bytesValue:xt(t.serializer,e.q)};if(e instanceof Pa){var i=t.U,o=e.__;if(!o.isEqual(i))throw t.i_("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Tt(e.__||t.U,e.f_.path)}}if(void 0===e&&t.ignoreUndefinedProperties)return null;throw t.i_("Unsupported field value: "+q(e))}(e,t)}function Wa(e,t){var n={};return x(e)?t.path&&t.path.length>0&&t.We.push(t.path):O(e,(function(e,r){var i=Va(r,t.E_(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ba(e){return!("object"!=i(e)||null===e||e instanceof Array||e instanceof Date||e instanceof ce||e instanceof Ca||e instanceof ne||e instanceof Pa||e instanceof _a)}function qa(e,t,n){if(!Ba(n)||!B(n)){var r=q(n);throw"an object"===r?t.i_(e+" a custom object"):t.i_(e+" "+r)}}function za(e,t,n){if(t instanceof ma)return t.t_;if("string"==typeof t)return Ha(e,t);throw Ya("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}function Ha(e,t,n){try{return function(e){if(e.search(ga)>=0)throw new p(h.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(ba.bind.apply(ba,o.__spreadArrays([void 0],e.split("."))))}catch(o){throw new p(h.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t).t_}catch(t){throw Ya((r=t)instanceof Error?r.message:r.toString(),e,!1,void 0,n)}var r}function Ya(e,t,n,r,i){var o=r&&!r.m(),s=void 0!==i,a="Function "+t+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new p(h.INVALID_ARGUMENT,(a+=". ")+e+u)}function Ga(e,t){return e.some((function(e){return e.isEqual(t)}))}var Ka=function(){function e(e){this.Ku=e,this.y_=new Map,this.mutations=[],this.V_=!1,this.p_=null,this.b_=new Set}return e.prototype.v_=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:if(this.S_(),this.mutations.length>0)throw new p(h.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a,u;return o.__generator(this,(function(o){switch(o.label){case 0:return n=E(e),r=jt(n.serializer)+"/documents",i={documents:t.map((function(e){return Pt(n.serializer,e)}))},[4,n.ku("BatchGetDocuments",r,i)];case 1:return s=o.sent(),a=new Map,s.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){w(!!t.found),t.found.name,t.found.updateTime;var n=At(e,t.found.name),r=Ct(t.found.updateTime),i=new An({mapValue:{fields:t.found.fields}});return new Rn(n,r,i,{})}(e,t):"missing"in t?function(e,t){w(!!t.missing),w(!!t.readTime);var n=At(e,t.missing),r=Ct(t.readTime);return new Mn(n,r)}(e,t):_()}(n.serializer,e);a.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=a.get(e.toString());w(!!t),u.push(t)})),u)]}}))}))}(this.Ku,e)];case 1:return[2,((t=r.sent()).forEach((function(e){e instanceof Mn||e instanceof Rn?n.D_(e):_()})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.w_(e,this.Ge(e))),this.b_.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.w_(e,this.C_(e)))}catch(e){this.p_=e}this.b_.add(e.toString())},e.prototype.delete=function(e){this.write([new In(e,this.Ge(e))]),this.b_.add(e.toString())},e.prototype.commit=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t=this;return o.__generator(this,(function(n){switch(n.label){case 0:if(this.S_(),this.p_)throw this.p_;return e=this.y_,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=P.D(n);t.mutations.push(new Pn(r,t.Ge(r)))})),[4,function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return n=E(e),r=jt(n.serializer)+"/documents",i={writes:t.map((function(e){return Lt(n.serializer,e)}))},[4,n.$u("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Ku,this.mutations)];case 1:return n.sent(),this.V_=!0,[2]}}))}))},e.prototype.D_=function(e){var t;if(e instanceof Rn)t=e.version;else{if(!(e instanceof Mn))throw _();t=le.min()}var n=this.y_.get(e.key.toString());if(n){if(!t.isEqual(n))throw new p(h.ABORTED,"Document version changed between two reads.")}else this.y_.set(e.key.toString(),t)},e.prototype.Ge=function(e){var t=this.y_.get(e.toString());return!this.b_.has(e.toString())&&t?vn.updateTime(t):vn.ze()},e.prototype.C_=function(e){var t=this.y_.get(e.toString());if(!this.b_.has(e.toString())&&t){if(t.isEqual(le.min()))throw new p(h.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vn.updateTime(t)}return vn.exists(!0)},e.prototype.write=function(e){this.S_(),this.mutations=this.mutations.concat(e)},e.prototype.S_=function(){},e}(),Qa=function(){function e(e,t,n,r){this.cs=e,this.Ku=t,this.updateFunction=n,this.ls=r,this.N_=5,this.ys=new gr(this.cs,"transaction_retry")}return e.prototype.run=function(){this.F_()},e.prototype.F_=function(){var e=this;this.ys.gn((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,t,n=this;return o.__generator(this,(function(r){return e=new Ka(this.Ku),(t=this.x_(e))&&t.then((function(t){n.cs.ws((function(){return e.commit().then((function(){n.ls.resolve(t)})).catch((function(e){n.k_(e)}))}))})).catch((function(e){n.k_(e)})),[2]}))}))}))},e.prototype.x_=function(e){try{var t=this.updateFunction(e);return!fe(t)&&t.catch&&t.then?t:(this.ls.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.ls.reject(e),null}},e.prototype.k_=function(e){var t=this;this.N_>0&&this.M_(e)?(this.N_-=1,this.cs.ws((function(){return t.F_(),Promise.resolve()}))):this.ls.reject(e)},e.prototype.M_=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Se(t)}return!1},e}(),Xa=function(){function e(e,t){this.credentials=e,this.cs=t,this.clientId=$.k(),this.O_=new br}return e.prototype.start=function(e,t,n,r){var i=this;this.L_(),this.bl=e;var s=new br,a=!1;return this.credentials.Hc((function(e){if(!a)return a=!0,y("FirestoreClient","Initializing. user=",e.uid),i.B_(t,n,r,e,s).then(i.O_.resolve,i.O_.reject);i.cs.Cs((function(){return function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r;return o.__generator(this,(function(i){switch(i.label){case 0:return(n=E(e)).cs.xs(),y("RemoteStore","RemoteStore received new credentials"),r=ts(n),n.Yu.add(3),[4,Go(n)];case 1:return i.sent(),r&&n.th.set("Unknown"),[4,n.Gu.Jl(t)];case 2:return i.sent(),n.Yu.delete(3),[4,Yo(n)];case 3:return i.sent(),[2]}}))}))}(i.ph,e)}))})),this.cs.ws((function(){return i.O_.promise})),s.promise},e.prototype.enableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue((function(){return e.persistence.tc(!0),function(e){var t=E(e);return t.Yu.delete(0),Yo(t)}(e.ph)}))},e.prototype.B_=function(e,t,n,r,i){return o.__awaiter(this,void 0,void 0,(function(){var s,a,u=this;return o.__generator(this,(function(c){switch(c.label){case 0:return c.trys.push([0,3,,4]),s={cs:this.cs,bl:this.bl,clientId:this.clientId,credentials:this.credentials,Wl:r,Dh:100,persistenceSettings:n},[4,e.initialize(s)];case 1:return c.sent(),[4,t.initialize(e,s)];case 2:return c.sent(),this.persistence=e.persistence,this.Sh=e.Sh,this.ju=e.ju,this.ql=e.ql,this.Ku=t.Ku,this.ph=t.ph,this.fi=t.fi,this.q_=t.bh,this.q_.Us=Os.bind(null,this.fi),this.q_.js=ks.bind(null,this.fi),this.persistence.Za((function(){return o.__awaiter(u,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return[4,this.terminate()];case 1:return e.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(a=c.sent(),i.reject(a),!this.U_(a))throw a;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),this.B_(new pa,new va,{jl:!1},r,i))];case 4:return[2]}}))}))},e.prototype.U_=function(e){return"FirebaseError"===e.name?e.code===h.FAILED_PRECONDITION||e.code===h.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code},e.prototype.L_=function(){if(this.cs.ps)throw new p(h.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.disableNetwork=function(){var e=this;return this.L_(),this.cs.enqueue((function(){return e.persistence.tc(!1),function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return(t=E(e)).Yu.add(0),[4,Go(t)];case 1:return n.sent(),t.th.set("Offline"),[2]}}))}))}(e.ph)}))},e.prototype.terminate=function(){var e=this;this.cs.Ds();var t=new br;return this.cs.bs((function(){return o.__awaiter(e,void 0,void 0,(function(){var e,n;return o.__generator(this,(function(r){switch(r.label){case 0:return r.trys.push([0,4,,5]),this.ql&&this.ql.stop(),[4,Ko(this.ph)];case 1:return r.sent(),[4,this.Sh.Di()];case 2:return r.sent(),[4,this.persistence.Di()];case 3:return r.sent(),this.credentials.Yc(),t.resolve(),[3,5];case 4:return e=r.sent(),n=jr(e,"Failed to shutdown persistence"),t.reject(n),[3,5];case 5:return[2]}}))}))})),t.promise},e.prototype.waitForPendingWrites=function(){var e=this;this.L_();var t=new br;return this.cs.ws((function(){return function(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s,a;return o.__generator(this,(function(o){switch(o.label){case 0:ts((n=E(e)).ph)||y("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,function(e){var t=E(n.ju);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Sr.qo(e)}))}()];case 2:return-1===(r=o.sent())?[2,void t.resolve()]:((i=n.Lh.get(r)||[]).push(t),n.Lh.set(r,i),[3,4]);case 3:return s=o.sent(),a=jr(s,"Initialization of waitForPendingWrites() operation failed"),t.reject(a),[3,4];case 4:return[2]}}))}))}(e.fi,t)})),t.promise},e.prototype.listen=function(e,t,n){var r=this;this.L_();var i=new ya(n),o=new Br(e,i,t);return this.cs.ws((function(){return Lr(r.q_,o)})),function(){i.Zl(),r.cs.ws((function(){return Fr(r.q_,o)}))}},e.prototype.Q_=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),t=new br,[2,(this.cs.ws((function(){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=E(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Cc.Cr(e,t)}))}(e,t)];case 1:return(r=o.sent())instanceof Rn?n.resolve(r):r instanceof Mn?n.resolve(null):n.reject(new p(h.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=o.sent(),s=jr(i,"Failed to get document '"+t+" from cache"),n.reject(s),[3,3];case 3:return[2]}}))}))}(n.ju,e,t)})),t.promise)]}}))}))},e.prototype.W_=function(e,t){return void 0===t&&(t={}),o.__awaiter(this,void 0,void 0,(function(){var n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new br,[2,(this.cs.ws((function(){return function(e,t,n,r,i){var o=new ya({next:function(o){t.ws((function(){return Fr(e,s)}));var a=o.docs.has(n);!a&&o.fromCache?i.reject(new p(h.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new p(h.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),s=new Br(Vn(n.path),o,{includeMetadataChanges:!0,Xs:!0});return Lr(e,s)}(r.q_,r.cs,e,t,n)})),n.promise)]}}))}))},e.prototype.j_=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n=this;return o.__generator(this,(function(r){switch(r.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return r.sent(),t=new br,[2,(this.cs.ws((function(){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a,u,c;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,To(e,t,!0)];case 1:return r=o.sent(),i=new _s(t,r.Fc),s=i.wh(r.documents),a=i.yr(s,!1),n.resolve(a.snapshot),[3,3];case 2:return u=o.sent(),c=jr(u,"Failed to execute query '"+t+" against cache"),n.reject(c),[3,3];case 3:return[2]}}))}))}(n.ju,e,t)})),t.promise)]}}))}))},e.prototype.K_=function(e,t){return void 0===t&&(t={}),o.__awaiter(this,void 0,void 0,(function(){var n,r=this;return o.__generator(this,(function(i){switch(i.label){case 0:return this.L_(),[4,this.O_.promise];case 1:return i.sent(),n=new br,[2,(this.cs.ws((function(){return function(e,t,n,r,i){var o=new ya({next:function(n){t.ws((function(){return Fr(e,s)})),n.fromCache&&"server"===r.source?i.reject(new p(h.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),s=new Br(n,o,{includeMetadataChanges:!0,Xs:!0});return Lr(e,s)}(r.q_,r.cs,e,t,n)})),n.promise)]}}))}))},e.prototype.write=function(e){var t=this;this.L_();var n=new br;return this.cs.ws((function(){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r,i,s,a;return o.__generator(this,(function(o){switch(o.label){case 0:r=$s(e),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,function(e,t){var n,r=E(e),i=ce.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Le());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Cc.kr(e,o).next((function(o){n=o;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=_n(c,n.get(c.key));null!=l&&s.push(new On(c.key,l,Dn(l.proto.mapValue),vn.exists(!0)))}return r.Sr.ko(e,i,s,t)}))})).then((function(e){var t=e.lr(n);return{batchId:e.batchId,wr:t}}))}(r.ju,t)];case 2:return i=o.sent(),r.Sh.xi(i.batchId),function(e,t,n){var r=e.Oh[e.currentUser.ti()];r||(r=new xe(J)),r=r.ot(t,n),e.Oh[e.currentUser.ti()]=r}(r,i.batchId,n),[4,Us(r,i.wr)];case 3:return o.sent(),[4,us(r.ph)];case 4:return o.sent(),[3,6];case 5:return s=o.sent(),a=jr(s,"Failed to persist write"),n.reject(a),[3,6];case 6:return[2]}}))}))}(t.fi,e,n)})),n.promise},e.prototype.U=function(){return this.bl.U},e.prototype.G_=function(e){var t=this;this.L_();var n=new ya(e);return this.cs.ws((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,function(e,t){E(e).qs.add(t),t.next()}(this.q_,n)]}))}))})),function(){n.Zl(),t.cs.ws((function(){return o.__awaiter(t,void 0,void 0,(function(){return o.__generator(this,(function(e){return[2,function(e,t){E(e).qs.delete(t)}(this.q_,n)]}))}))}))}},Object.defineProperty(e.prototype,"z_",{get:function(){return this.cs.ps},enumerable:!1,configurable:!0}),e.prototype.transaction=function(e){var t=this;this.L_();var n=new br;return this.cs.ws((function(){return new Qa(t.cs,t.Ku,e,n).run(),Promise.resolve()})),n.promise},e}();function $a(e){return function(e,t){if("object"!=i(e)||null===e)return!1;for(var n=e,r=0,o=["next","error","complete"];r<o.length;r++){var s=o[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(e)}var Ja=function(){function e(e,t,n,r,i){this.U=e,this.timestampsInSnapshots=t,this.H_=n,this.Y_=r,this.J_=i}return e.prototype.X_=function(e){switch(nt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.Z_(e.timestampValue);case 4:return this.tf(e);case 5:return e.stringValue;case 6:return this.J_(ft(e.bytesValue));case 7:return this.ef(e.referenceValue);case 8:return this.nf(e.geoPointValue);case 9:return this.sf(e.arrayValue);case 10:return this.if(e.mapValue);default:throw _()}},e.prototype.if=function(e){var t=this,n={};return O(e.fields||{},(function(e,r){n[e]=t.X_(r)})),n},e.prototype.nf=function(e){return new Ca(lt(e.latitude),lt(e.longitude))},e.prototype.sf=function(e){var t=this;return(e.values||[]).map((function(e){return t.X_(e)}))},e.prototype.tf=function(e){switch(this.H_){case"previous":var t=Ze(e);return null==t?null:this.X_(t);case"estimate":return this.Z_(et(e));default:return null}},e.prototype.Z_=function(e){var t=ct(e),n=new ce(t.seconds,t.nanos);return this.timestampsInSnapshots?n:n.toDate()},e.prototype.ef=function(e){var t=C.g(e);w(Jt(t));var n=new ae(t.get(1),t.get(3)),r=new P(t.u(5));return n.isEqual(this.U)||m("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.U.projectId+"/"+this.U.database+") instead."),this.Y_(r)},e}(),Za=fi.ho,eu=function(){function e(e){var t,n,r,i,o;if(void 0===e.host){if(void 0!==e.ssl)throw new p(h.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else L("settings","non-empty string","host",e.host),this.host=e.host,F("settings","boolean","ssl",e.ssl),this.ssl=null===(t=e.ssl)||void 0===t||t;if(H("settings",e,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","experimentalAutoDetectLongPolling","ignoreUndefinedProperties"]),F("settings","object","credentials",e.credentials),this.credentials=e.credentials,F("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),F("settings","boolean","ignoreUndefinedProperties",e.ignoreUndefinedProperties),!0===e.timestampsInSnapshots?m("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===e.timestampsInSnapshots&&m("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=e.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=e.ignoreUndefinedProperties)&&void 0!==r&&r,F("settings","number","cacheSizeBytes",e.cacheSizeBytes),void 0===e.cacheSizeBytes)this.cacheSizeBytes=fi._o;else{if(e.cacheSizeBytes!==Za&&e.cacheSizeBytes<fi.lo)throw new p(h.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+fi.lo);this.cacheSizeBytes=e.cacheSizeBytes}F("settings","boolean","experimentalForceLongPolling",e.experimentalForceLongPolling),this.experimentalForceLongPolling=null!==(i=e.experimentalForceLongPolling)&&void 0!==i&&i,F("settings","boolean","experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalAutoDetectLongPolling=null!==(o=e.experimentalAutoDetectLongPolling)&&void 0!==o&&o,function(e,t,n,r){if(!0===t&&!0===r)throw new p(h.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,e.experimentalForceLongPolling,0,e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties},e}(),tu=function(){function e(t,n,r,s){var a=this;if(void 0===r&&(r=new pa),void 0===s&&(s=new va),this.rf=r,this.af=s,this.cf=null,this.uf=new Dr,this.INTERNAL={delete:function(){return o.__awaiter(a,void 0,void 0,(function(){return o.__generator(this,(function(e){switch(e.label){case 0:return this.hf(),[4,this.lf.terminate()];case 1:return e.sent(),[2]}}))}))}},"object"==i(t.options)){var u=t;this.cf=u,this.__=e._f(u),this.ff=u.name,this.df=new Lo(n)}else{var c=t;if(!c.projectId)throw new p(h.INVALID_ARGUMENT,"Must provide projectId");this.__=new ae(c.projectId,c.database),this.ff="[DEFAULT]",this.df=new Mo}this.wf=new eu({})}return Object.defineProperty(e.prototype,"mf",{get:function(){return this.Tf||(this.Tf=new Ra(this.__,this.wf.ignoreUndefinedProperties)),this.Tf},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){N("Firestore.settings",arguments,1),R("Firestore.settings","object",1,e),e.merge&&delete(e=Object.assign(Object.assign({},this.wf),e)).merge;var t=new eu(e);if(this.lf&&!this.wf.isEqual(t))throw new p(h.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.wf=t,void 0!==t.credentials&&(this.df=function(e){if(!e)return new Mo;switch(e.type){case"gapi":var t=e.client;return w(!("object"!=i(t)||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Uo(t,e.sessionIndex||"0");case"provider":return e.client;default:throw new p(h.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.hf(),this.lf.enableNetwork()},e.prototype.disableNetwork=function(){return this.hf(),this.lf.disableNetwork()},e.prototype.enablePersistence=function(e){var t,n;if(this.lf)throw new p(h.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(e&&(void 0!==e.experimentalTabSynchronization&&m("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(t=e.synchronizeTabs)&&void 0!==t?t:e.experimentalTabSynchronization)&&void 0!==n&&n,i=!!e.experimentalForceOwningTab&&e.experimentalForceOwningTab,r&&i))throw new p(h.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Ef(this.rf,this.af,{jl:!0,cacheSizeBytes:this.wf.cacheSizeBytes,synchronizeTabs:r,ka:i})},e.prototype.clearPersistence=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t=this;return o.__generator(this,(function(n){if(void 0!==this.lf&&!this.lf.z_)throw new p(h.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return e=new br,[2,(this.uf.bs((function(){return o.__awaiter(t,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.rf.clearPersistence(this.__,this.ff)];case 1:return n.sent(),e.resolve(),[3,3];case 2:return t=n.sent(),e.reject(t),[3,3];case 3:return[2]}}))}))})),e.promise)]}))}))},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(e.prototype,"If",{get:function(){return this.hf(),this.lf.z_},enumerable:!1,configurable:!0}),e.prototype.waitForPendingWrites=function(){return this.hf(),this.lf.waitForPendingWrites()},e.prototype.onSnapshotsInSync=function(e){if(this.hf(),$a(e))return this.lf.G_(e);R("Firestore.onSnapshotsInSync","function",1,e);var t={next:e};return this.lf.G_(t)},e.prototype.hf=function(){return this.lf||this.Ef(new pa,new va,{jl:!1}),this.lf},e.prototype.Af=function(){return new se(this.__,this.ff,this.wf.host,this.wf.ssl,this.wf.experimentalForceLongPolling,this.wf.experimentalAutoDetectLongPolling)},e.prototype.Ef=function(e,t,n){var r=this.Af();return this.lf=new Xa(this.df,this.uf),this.lf.start(r,e,t,n)},e._f=function(e){if(t=e.options,!Object.prototype.hasOwnProperty.call(t,"projectId"))throw new p(h.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var t,n=e.options.projectId;if(!n||"string"!=typeof n)throw new p(h.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new ae(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.cf)throw new p(h.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.cf},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){return N("Firestore.collection",arguments,1),R("Firestore.collection","non-empty string",1,e),this.hf(),new yu(C.g(e),this,null)},e.prototype.doc=function(e){return N("Firestore.doc",arguments,1),R("Firestore.doc","non-empty string",1,e),this.hf(),iu.Rf(C.g(e),this,null)},e.prototype.collectionGroup=function(e){if(N("Firestore.collectionGroup",arguments,1),R("Firestore.collectionGroup","non-empty string",1,e),e.indexOf("/")>=0)throw new p(h.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this.hf(),new du(function(e){return new Fn(C.P(),e)}(e),this,null)},e.prototype.runTransaction=function(e){var t=this;return N("Firestore.runTransaction",arguments,1),R("Firestore.runTransaction","function",1,e),this.hf().transaction((function(n){return e(new nu(t,n))}))},e.prototype.batch=function(){return this.hf(),new ru(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(v()){case a.LogLevel.DEBUG:return"debug";case a.LogLevel.ERROR:return"error";case a.LogLevel.SILENT:return"silent";case a.LogLevel.WARN:return"warn";case a.LogLevel.INFO:return"info";case a.LogLevel.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),e.setLogLevel=function(e){var t;N("Firestore.setLogLevel",arguments,1),V("setLogLevel",["debug","error","silent","warn","info","verbose"],1,e),t=e,d.setLogLevel(t)},e.prototype.gf=function(){return this.wf.timestampsInSnapshots},e.prototype.Pf=function(){return this.wf},e}(),nu=function(){function e(e,t){this.yf=e,this.Vf=t}return e.prototype.get=function(e){var t=this;N("Transaction.get",arguments,1);var n=_u("Transaction.get",e,this.yf);return this.Vf.v_([n.f_]).then((function(e){if(!e||1!==e.length)return _();var r=e[0];if(r instanceof Mn)return new su(t.yf,n.f_,null,!1,!1,n.d_);if(r instanceof Rn)return new su(t.yf,n.f_,r,!1,!1,n.d_);throw _()}))},e.prototype.set=function(e,t,n){j("Transaction.set",arguments,2,3);var r=_u("Transaction.set",e,this.yf);n=mu("Transaction.set",n);var i=Eu(r.d_,t,n),o=Ma(this.yf.mf,"Transaction.set",r.f_,i,null!==r.d_,n);return this.Vf.set(r.f_,o),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof t||t instanceof ba?(D("Transaction.update",arguments,3),r=_u("Transaction.update",e,this.yf),i=Fa(this.yf.mf,"Transaction.update",r.f_,t,n,o)):(N("Transaction.update",arguments,2),r=_u("Transaction.update",e,this.yf),i=La(this.yf.mf,"Transaction.update",r.f_,t)),this.Vf.update(r.f_,i),this},e.prototype.delete=function(e){N("Transaction.delete",arguments,1);var t=_u("Transaction.delete",e,this.yf);return this.Vf.delete(t.f_),this},e}(),ru=function(){function e(e){this.yf=e,this.pf=[],this.bf=!1}return e.prototype.set=function(e,t,n){j("WriteBatch.set",arguments,2,3),this.vf();var r=_u("WriteBatch.set",e,this.yf);n=mu("WriteBatch.set",n);var i=Eu(r.d_,t,n),o=Ma(this.yf.mf,"WriteBatch.set",r.f_,i,null!==r.d_,n);return this.pf=this.pf.concat(o.w_(r.f_,vn.ze())),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.vf(),"string"==typeof t||t instanceof ba?(D("WriteBatch.update",arguments,3),r=_u("WriteBatch.update",e,this.yf),i=Fa(this.yf.mf,"WriteBatch.update",r.f_,t,n,o)):(N("WriteBatch.update",arguments,2),r=_u("WriteBatch.update",e,this.yf),i=La(this.yf.mf,"WriteBatch.update",r.f_,t)),this.pf=this.pf.concat(i.w_(r.f_,vn.exists(!0))),this},e.prototype.delete=function(e){N("WriteBatch.delete",arguments,1),this.vf();var t=_u("WriteBatch.delete",e,this.yf);return this.pf=this.pf.concat(new In(t.f_,vn.ze())),this},e.prototype.commit=function(){return this.vf(),this.bf=!0,this.pf.length>0?this.yf.hf().write(this.pf):Promise.resolve()},e.prototype.vf=function(){if(this.bf)throw new p(h.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),iu=function(e){function t(t,n,r){var i=this;return(i=e.call(this,n.__,t,r)||this).f_=t,i.firestore=n,i.d_=r,i.lf=i.firestore.hf(),i}return o.__extends(t,e),t.Rf=function(e,n,r){if(e.length%2!=0)throw new p(h.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.R()+" has "+e.length);return new t(new P(e),n,r)},Object.defineProperty(t.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new yu(this.f_.path.h(),this.firestore,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.f_.path.R()},enumerable:!1,configurable:!0}),t.prototype.collection=function(e){if(N("DocumentReference.collection",arguments,1),R("DocumentReference.collection","non-empty string",1,e),!e)throw new p(h.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=C.g(e);return new yu(this.f_.path.child(t),this.firestore,null)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw Y("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this.f_.isEqual(e.f_)&&this.d_===e.d_},t.prototype.set=function(e,t){j("DocumentReference.set",arguments,1,2),t=mu("DocumentReference.set",t);var n=Eu(this.d_,e,t),r=Ma(this.firestore.mf,"DocumentReference.set",this.f_,n,null!==this.d_,t);return this.lf.write(r.w_(this.f_,vn.ze()))},t.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof ba?(D("DocumentReference.update",arguments,2),n=Fa(this.firestore.mf,"DocumentReference.update",this.f_,e,t,r)):(N("DocumentReference.update",arguments,1),n=La(this.firestore.mf,"DocumentReference.update",this.f_,e)),this.lf.write(n.w_(this.f_,vn.exists(!0)))},t.prototype.delete=function(){return N("DocumentReference.delete",arguments,0),this.lf.write([new In(this.f_,vn.ze())])},t.prototype.onSnapshot=function(){for(var e,t,n,r=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];j("DocumentReference.onSnapshot",arguments,1,4);var a={includeMetadataChanges:!1},u=0;"object"!=i(o[u])||$a(o[u])||(H("DocumentReference.onSnapshot",a=o[u],["includeMetadataChanges"]),F("DocumentReference.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),u++);var c={includeMetadataChanges:a.includeMetadataChanges};if($a(o[u])){var l=o[u];o[u]=null===(e=l.next)||void 0===e?void 0:e.bind(l),o[u+1]=null===(t=l.error)||void 0===t?void 0:t.bind(l),o[u+2]=null===(n=l.complete)||void 0===n?void 0:n.bind(l)}else R("DocumentReference.onSnapshot","function",u,o[u]),M("DocumentReference.onSnapshot","function",u+1,o[u+1]),M("DocumentReference.onSnapshot","function",u+2,o[u+2]);var f={next:function(e){o[u]&&o[u](r.Sf(e))},error:o[u+1],complete:o[u+2]};return this.lf.listen(Vn(this.f_.path),c,f)},t.prototype.get=function(e){var t=this;j("DocumentReference.get",arguments,0,1),gu("DocumentReference.get",e);var n=this.firestore.hf();return e&&"cache"===e.source?n.Q_(this.f_).then((function(e){return new su(t.firestore,t.f_,e,!0,e instanceof Rn&&e.Je,t.d_)})):n.W_(this.f_,e).then((function(e){return t.Sf(e)}))},t.prototype.withConverter=function(e){return new t(this.f_,this.firestore,e)},t.prototype.Sf=function(e){var t=e.docs.get(this.f_);return new su(this.firestore,this.f_,t,e.fromCache,e.hasPendingWrites,this.d_)},t}(Pa),ou=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),su=function(){function e(e,t,n,r,i,o){this.yf=e,this.f_=t,this.Df=n,this.Cf=r,this.Nf=i,this.d_=o}return e.prototype.data=function(e){var t=this;if(j("DocumentSnapshot.data",arguments,0,1),e=bu("DocumentSnapshot.data",e),this.Df){if(this.d_){var n=new au(this.yf,this.f_,this.Df,this.Cf,this.Nf,null);return this.d_.fromFirestore(n,e)}return new Ja(this.yf.__,this.yf.gf(),e.serverTimestamps||"none",(function(e){return new iu(e,t.yf,null)}),(function(e){return new oe(e)})).X_(this.Df.rn())}},e.prototype.get=function(e,t){var n=this;if(j("DocumentSnapshot.get",arguments,1,2),t=bu("DocumentSnapshot.get",t),this.Df){var r=this.Df.data().field(za("DocumentSnapshot.get",e,this.f_));if(null!==r)return new Ja(this.yf.__,this.yf.gf(),t.serverTimestamps||"none",(function(e){return new iu(e,n.yf,n.d_)}),(function(e){return new oe(e)})).X_(r)}},Object.defineProperty(e.prototype,"id",{get:function(){return this.f_.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new iu(this.f_,this.yf,this.d_)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this.Df},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new ou(this.Nf,this.Cf)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw Y("isEqual","DocumentSnapshot",1,t);return this.yf===t.yf&&this.Cf===t.Cf&&this.f_.isEqual(t.f_)&&(null===this.Df?null===t.Df:this.Df.isEqual(t.Df))&&this.d_===t.d_},e}(),au=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.prototype.data=function(t){return e.prototype.data.call(this,t)},t}(su);function uu(e,t,n,r,i,o,s){var a;if(i.p()){if("array-contains"===o||"array-contains-any"===o)throw new p(h.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){fu(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var f=l[c];u.push(lu(r,e,f))}a={arrayValue:{values:u}}}else a=lu(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||fu(s,o),a=Ua(n,t,s,"in"===o||"not-in"===o);var d=nr.create(i,o,a);return function(e,t){if(t.hn()){var n=zn(e);if(null!==n&&!n.isEqual(t.field))throw new p(h.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=qn(e);null!==r&&hu(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(t.op){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}());if(null!==i)throw i===t.op?new p(h.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new p(h.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,d),d}function cu(e,t,n){if(null!==e.startAt)throw new p(h.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new p(h.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new vr(t,n);return function(e,t){if(null===qn(e)){var n=zn(e);null!==n&&hu(e,n,t.field)}}(e,r),r}function lu(e,t,n){if("string"==typeof n){if(""===n)throw new p(h.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hn(t)&&-1!==n.indexOf("/"))throw new p(h.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(C.g(n));if(!P.F(r))throw new p(h.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ht(e,new P(r))}if(n instanceof Pa)return ht(e,n.f_);throw new p(h.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+q(n)+".")}function fu(e,t){if(!Array.isArray(e)||0===e.length)throw new p(h.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new p(h.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===t||"array-contains-any"===t){if(e.indexOf(null)>=0)throw new p(h.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'null' in the value array.");if(e.filter((function(e){return Number.isNaN(e)})).length>0)throw new p(h.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters cannot contain 'NaN' in the value array.")}}function hu(e,t,n){if(!n.isEqual(t))throw new p(h.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function pu(e){if(Bn(e)&&0===e.on.length)throw new p(h.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var du=function(){function e(e,t,n){this.Ff=e,this.firestore=t,this.d_=n}return e.prototype.where=function(t,n,r){N("Query.where",arguments,3),z("Query.where",3,r);var i=V("Query.where",["<","<=","==","!=",">=",">","array-contains","in","array-contains-any","not-in"],2,n),o=za("Query.where",t),s=uu(this.Ff,"Query.where",this.firestore.mf,this.firestore.__,o,i,r);return new e(function(e,t){var n=e.filters.concat([t]);return new Fn(e.path,e.collectionGroup,e.on.slice(),n,e.limit,e.an,e.startAt,e.endAt)}(this.Ff,s),this.firestore,this.d_)},e.prototype.orderBy=function(t,n){var r;if(j("Query.orderBy",arguments,1,2),M("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new p(h.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=za("Query.orderBy",t),o=cu(this.Ff,i,r);return new e(function(e,t){var n=e.on.concat([t]);return new Fn(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.an,e.startAt,e.endAt)}(this.Ff,o),this.firestore,this.d_)},e.prototype.limit=function(t){return N("Query.limit",arguments,1),R("Query.limit","number",1,t),G("Query.limit",1,t),new e(Kn(this.Ff,t,"F"),this.firestore,this.d_)},e.prototype.limitToLast=function(t){return N("Query.limitToLast",arguments,1),R("Query.limitToLast","number",1,t),G("Query.limitToLast",1,t),new e(Kn(this.Ff,t,"L"),this.firestore,this.d_)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.startAt",arguments,1);var i=this.xf("Query.startAt",t,n,!0);return new e(Qn(this.Ff,i),this.firestore,this.d_)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.startAfter",arguments,1);var i=this.xf("Query.startAfter",t,n,!1);return new e(Qn(this.Ff,i),this.firestore,this.d_)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.endBefore",arguments,1);var i=this.xf("Query.endBefore",t,n,!0);return new e(Xn(this.Ff,i),this.firestore,this.d_)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];D("Query.endAt",arguments,1);var i=this.xf("Query.endAt",t,n,!1);return new e(Xn(this.Ff,i),this.firestore,this.d_)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Y("isEqual","Query",1,t);return this.firestore===t.firestore&&$n(this.Ff,t.Ff)&&this.d_===t.d_},e.prototype.withConverter=function(t){return new e(this.Ff,this.firestore,t)},e.prototype.xf=function(e,t,n,r){if(z(e,1,t),t instanceof su)return N(e,o.__spreadArrays([t],n),1),function(e,t,n,r,i){if(!r)throw new p(h.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Yn(e);s<a.length;s++){var u=a[s];if(u.field.p())o.push(ht(t,r.key));else{var c=r.field(u.field);if(Je(c))throw new p(h.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.R();throw new p(h.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new fr(o,i)}(this.Ff,this.firestore.__,e,t.Df,r);var s=[t].concat(n);return function(e,t,n,r,o,s){var a=e.on;if(o.length>a.length)throw new p(h.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],c=0;c<o.length;c++){var l=o[c];if(a[c].field.p()){if("string"!=typeof l)throw new p(h.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+i(l));if(!Hn(e)&&-1!==l.indexOf("/"))throw new p(h.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+l+"' contains a slash.");var f=e.path.child(C.g(l));if(!P.F(f))throw new p(h.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var d=new P(f);u.push(ht(t,d))}else{var v=Ua(n,r,l);u.push(v)}}return new fr(u,s)}(this.Ff,this.firestore.__,this.firestore.mf,e,s,r)},e.prototype.onSnapshot=function(){for(var e,t,n,r=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];j("Query.onSnapshot",arguments,1,4);var a={},u=0;if("object"!=i(o[u])||$a(o[u])||(H("Query.onSnapshot",a=o[u],["includeMetadataChanges"]),F("Query.onSnapshot","boolean","includeMetadataChanges",a.includeMetadataChanges),u++),$a(o[u])){var c=o[u];o[u]=null===(e=c.next)||void 0===e?void 0:e.bind(c),o[u+1]=null===(t=c.error)||void 0===t?void 0:t.bind(c),o[u+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else R("Query.onSnapshot","function",u,o[u]),M("Query.onSnapshot","function",u+1,o[u+1]),M("Query.onSnapshot","function",u+2,o[u+2]);var l={next:function(e){o[u]&&o[u](new vu(r.firestore,r.Ff,e,r.d_))},error:o[u+1],complete:o[u+2]};return pu(this.Ff),this.firestore.hf().listen(this.Ff,a,l)},e.prototype.get=function(e){var t=this;j("Query.get",arguments,0,1),gu("Query.get",e),pu(this.Ff);var n=this.firestore.hf();return(e&&"cache"===e.source?n.j_(this.Ff):n.K_(this.Ff,e)).then((function(e){return new vu(t.firestore,t.Ff,e,t.d_)}))},e}(),vu=function(){function e(e,t,n,r){this.yf=e,this.$f=t,this.kf=n,this.d_=r,this.Mf=null,this.Of=null,this.metadata=new ou(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.kf.docs.m()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.kf.docs.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;j("QuerySnapshot.forEach",arguments,1,2),R("QuerySnapshot.forEach","function",1,e),this.kf.docs.forEach((function(r){e.call(t,n.Lf(r,n.metadata.fromCache,n.kf.Wt.has(r.key)))}))},Object.defineProperty(e.prototype,"query",{get:function(){return new du(this.$f,this.yf,this.d_)},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){e&&(H("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),F("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this.kf.Kt)throw new p(h.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Mf&&this.Of===t||(this.Mf=function(e,t,n){if(e.Qt.m()){var r=0;return e.docChanges.map((function(t){var i=n(t.doc,e.fromCache,e.Wt.has(t.doc.key));return t.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=e.Qt;return e.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var r=n(t.doc,e.fromCache,e.Wt.has(t.doc.key)),o=-1,s=-1;return 0!==t.type&&(o=i.indexOf(t.doc.key),i=i.delete(t.doc.key)),1!==t.type&&(s=(i=i.add(t.doc)).indexOf(t.doc.key)),{type:wu(t.type),doc:r,oldIndex:o,newIndex:s}}))}(this.kf,t,this.Lf.bind(this)),this.Of=t),this.Mf},e.prototype.isEqual=function(t){if(!(t instanceof e))throw Y("isEqual","QuerySnapshot",1,t);return this.yf===t.yf&&$n(this.$f,t.$f)&&this.kf.isEqual(t.kf)&&this.d_===t.d_},e.prototype.Lf=function(e,t,n){return new au(this.yf,e.key,e,t,n,this.d_)},e}(),yu=function(e){function t(t,n,r){var i=this;if((i=e.call(this,Vn(t),n,r)||this).Bf=t,t.length%2!=1)throw new p(h.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.R()+" has "+t.length);return i}return o.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this.Ff.path._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this.Ff.path.h();return e.m()?null:new iu(new P(e),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.Ff.path.R()},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){j("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=$.k()),R("CollectionReference.doc","non-empty string",1,e);var t=C.g(e);return iu.Rf(this.Ff.path.child(t),this.firestore,this.d_)},t.prototype.add=function(e){N("CollectionReference.add",arguments,1);var t=this.d_?this.d_.toFirestore(e):e;R("CollectionReference.add","object",1,t);var n=this.doc();return new iu(n.f_,this.firestore,null).set(t).then((function(){return n}))},t.prototype.withConverter=function(e){return new t(this.Bf,this.firestore,e)},t}(du);function mu(e,t){if(void 0===t)return{merge:!1};if(H(e,t,["merge","mergeFields"]),F(e,"boolean","merge",t.merge),function(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new p(h.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+q(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new p(h.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+q(r[o]))}(e,"mergeFields",0,r,(function(e){return"string"==typeof e||e instanceof ba}))}(e,0,0,t.mergeFields),void 0!==t.mergeFields&&void 0!==t.merge)throw new p(h.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function bu(e,t){return void 0===t?{}:(H(e,t,["serverTimestamps"]),U(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function gu(e,t){M(e,"object",1,t),t&&(H(e,t,["source"]),U(e,0,"source",t.source,["default","server","cache"]))}function _u(e,t,n){if(t instanceof Pa){if(t.firestore!==n)throw new p(h.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw Y(e,"DocumentReference",1,t)}function wu(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _()}}function Eu(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Su=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o.__extends(t,e),t.serverTimestamp=function(){A("FieldValue.serverTimestamp",arguments);var e=new Sa("serverTimestamp");return e.e_="FieldValue.serverTimestamp",new t(e)},t.delete=function(){A("FieldValue.delete",arguments);var e=new wa("deleteField");return e.e_="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];D("FieldValue.arrayUnion",arguments,1);var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return D("arrayUnion()",arguments,1),new Oa("arrayUnion",e)}.apply(void 0,e);return r.e_="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];D("FieldValue.arrayRemove",arguments,1);var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return D("arrayRemove()",arguments,1),new xa("arrayRemove",e)}.apply(void 0,e);return r.e_="FieldValue.arrayRemove",new t(r)},t.increment=function(e){R("FieldValue.increment","number",1,e),N("FieldValue.increment",arguments,1);var n=function(e){return new ka("increment",e)}(e);return n.e_="FieldValue.increment",new t(n)},t.prototype.isEqual=function(e){return this.l_.isEqual(e.l_)},t}(Ta),Ou={Firestore:tu,GeoPoint:Ca,Timestamp:ce,Blob:oe,Transaction:nu,WriteBatch:ru,DocumentReference:iu,DocumentSnapshot:su,Query:du,QueryDocumentSnapshot:au,QuerySnapshot:vu,CollectionReference:yu,FieldPath:ba,FieldValue:Su,setLogLevel:tu.setLogLevel,CACHE_SIZE_UNLIMITED:Za};function xu(e){!function(e,t){e.INTERNAL.registerComponent(new l.Component("firestore",(function(e){return function(e,t){var n=new va,r=new da(n);return new tu(e,t,r,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ou)))}(e),e.registerVersion("@firebase/firestore","1.18.0")}xu(f.default),n.__PRIVATE_registerFirestore=xu},{tslib:"f2sD","@firebase/app":"dP58","@firebase/logger":"TUpU","@firebase/util":"xA6u","@firebase/webchannel-wrapper":"ueHA","@firebase/component":"nzQs",process:"pBGv"}],vHL5:[function(e,t,n){"use strict";e("@firebase/firestore")},{"@firebase/firestore":"eA7g"}],TX5A:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.config={apiKey:"AIzaSyB0TkZ83Fj0CIzn8AAmE-Osc92s3ER8hy8",authDomain:"neurosity-device.firebaseapp.com",databaseURL:"https://neurosity-device.firebaseio.com",projectId:"neurosity-device",storageBucket:"neurosity-device.appspot.com",messagingSenderId:"212595049674"}},{}],OERo:[function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=o(e("firebase/app"));e("firebase/database"),e("firebase/auth"),e("firebase/functions"),e("firebase/firestore");var a=e("./config");n.SERVER_TIMESTAMP=s.default.database.ServerValue.TIMESTAMP;var u=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.app=this.getApp(t.deviceId),this.standalone=this.app.name===t.deviceId}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"getApp",value:function(e){var t=s.default.apps,n="undefined"!=typeof window&&"firebase"in window&&"apps"in window.firebase?window.firebase.apps:[],i=[].concat(r(t),r(n)).find((function(e){return"[DEFAULT]"===e.name&&e.options.databaseURL===a.config.databaseURL}));if(i)return i;if(e){var o=e,u=t.find((function(e){return e.name===o}));return u||s.default.initializeApp(a.config,o)}return s.default.initializeApp(a.config)}},{key:"goOnline",value:function(){this.app.database().goOnline()}},{key:"goOffline",value:function(){this.app.database().goOffline()}},{key:"disconnect",value:function(){return this.standalone?this.app.delete():Promise.resolve()}}]),e}();n.FirebaseApp=u},{"firebase/app":"ZUoI","firebase/database":"Uuoh","firebase/auth":"zKjx","firebase/functions":"a7Bh","firebase/firestore":"vHL5","./config":"TX5A"}],Cc51:[function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(i){return!1}}function u(e,t,n){return(u=a()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var h=e("rxjs"),p=e("rxjs/operators"),d=f(e("firebase/app")),v=d.default.database.ServerValue.TIMESTAMP;n.credentialWithLink=d.default.auth.EmailAuthProvider.credentialWithLink,n.createUser=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return u(d.default.User,t)};var y=function(){function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.app=t.app,this.app.auth().onAuthStateChanged((function(e){n.user=e}))}return function(e,t,n){t&&s(e.prototype,t),n&&s(e,n)}(e,[{key:"auth",value:function(){return this.app.auth()}},{key:"createAccount",value:function(e){return l(this,void 0,void 0,r.mark((function t(){var n,i,s,a,u,c;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.email,i=e.password,t.next=3,this.app.auth().createUserWithEmailAndPassword(n,i).then((function(e){return[null,e]})).catch((function(e){return[e,null]}));case 3:if(s=t.sent,a=o(s,2),u=a[0],c=a[1],!u){t.next=9;break}return t.abrupt("return",Promise.reject(u));case 9:return t.abrupt("return",c);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"deleteAccount",value:function(){return l(this,void 0,void 0,r.mark((function e(){var t,n,i,s,a,u,c=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.app.auth().currentUser){e.next=3;break}return e.abrupt("return",Promise.reject(new Error("You are trying to delete an account that is not authenticated. To delete an account, the account must have signed in recently.")));case 3:return e.next=5,this.getDevices().then((function(e){return[null,e]})).catch((function(e){return[e,null]}));case 5:if(n=e.sent,i=o(n,2),s=i[0],a=i[1],!s){e.next=11;break}return e.abrupt("return",Promise.reject(s));case 11:if(!a.length){e.next=17;break}return e.next=14,Promise.all(a.map((function(e){return c.removeDevice(e.deviceId)}))).then((function(){return null})).catch((function(e){return e}));case 14:if(!(u=e.sent)){e.next=17;break}return e.abrupt("return",Promise.reject(u));case 17:return e.abrupt("return",t.delete());case 18:case"end":return e.stop()}}),e,this)})))}},{key:"onAuthStateChanged",value:function(){var t=this;return new h.Observable((function(n){try{t.app.auth().onAuthStateChanged((function(e){n.next(e)}),(function(e){n.error(e)}))}catch(e){n.error(e)}}))}},{key:"onLogin",value:function(){var e=this;return new h.Observable((function(t){var n=e.app.auth().onAuthStateChanged((function(e){e&&(t.next(e),t.complete())}));return function(){return n()}}))}},{key:"login",value:function(e){if("customToken"in e){var t=e.customToken;return this.app.auth().signInWithCustomToken(t)}if("idToken"in e&&"providerId"in e){var n=new d.default.auth.OAuthProvider(e.providerId).credential(e.idToken);return this.app.auth().signInWithCredential(n)}if("email"in e&&"password"in e){var r=e.email,i=e.password;return this.app.auth().signInWithEmailAndPassword(r,i)}throw new Error("Either {email,password}, {customToken}, or {idToken,providerId} is required")}},{key:"logout",value:function(){return this.app.auth().signOut()}},{key:"createCustomToken",value:function(){return l(this,void 0,void 0,r.mark((function e(){var t,n,i,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.app.functions().httpsCallable("createCustomToken")().then((function(e){return[null,e.data]})).catch((function(e){return[e,null]}));case 2:if(t=e.sent,n=o(t,2),i=n[0],s=n[1],!i){e.next=8;break}return e.abrupt("return",Promise.reject(i));case 8:return e.abrupt("return",s);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"getDevices",value:function(){var e;return l(this,void 0,void 0,r.mark((function t(){var n,i;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null===(e=this.user)||void 0===e?void 0:e.uid){t.next=3;break}return t.abrupt("return",Promise.reject("Please login."));case 3:return t.next=5,this.app.database().ref(this.getUserDevicesPath()).once("value");case 5:return n=t.sent,i=n.val(),t.abrupt("return",this.userDevicesToDeviceInfoList(i));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"addDevice",value:function(e){var t;return l(this,void 0,void 0,r.mark((function n(){var s,a,u,c,l,f,h,p,d,y,m,b,g;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=null===(t=this.user)||void 0===t?void 0:t.uid){n.next=3;break}return n.abrupt("return",Promise.reject("Please login."));case 3:return n.next=5,this.getDevices().catch((function(e){console.log(e)}));case 5:if(!((u=n.sent)&&u.length&&u.map((function(e){return e.deviceId})).includes(e))){n.next=9;break}return n.abrupt("return",Promise.reject("The device is already added to this account."));case 9:return n.next=11,this.isDeviceIdValid(e).then((function(e){return[e]})).catch((function(e){return[!1,e]}));case 11:if(c=n.sent,l=o(c,2),f=l[0],h=l[1],f){n.next=17;break}return n.abrupt("return",Promise.reject(h));case 17:return p=this.getDeviceClaimedByPath(e),d=this.getUserClaimedDevicePath(e),n.next=21,this.app.database().ref().update((s={},i(s,p,a),i(s,d,{claimedOn:v}),s)).then((function(){return[!1]})).catch((function(e){return[!0,e]}));case 21:if(y=n.sent,m=o(y,2),b=m[0],g=m[1],!b){n.next=27;break}return n.abrupt("return",Promise.reject(g));case 27:case"end":return n.stop()}}),n,this)})))}},{key:"removeDevice",value:function(e){var t;return l(this,void 0,void 0,r.mark((function n(){var i,s,a,u,c,l,f,h;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===(t=this.user)||void 0===t?void 0:t.uid){n.next=3;break}return n.abrupt("return",Promise.reject("Please login."));case 3:return i=this.getDeviceClaimedByPath(e),s=this.getUserClaimedDevicePath(e),a=this.app.database().ref(i),u=this.app.database().ref(s),n.next=9,Promise.all([a.remove(),u.remove()]).then((function(){return[!1]})).catch((function(e){return[!0,e]}));case 9:if(c=n.sent,l=o(c,2),f=l[0],h=l[1],!f){n.next=15;break}return n.abrupt("return",Promise.reject(h));case 15:case"end":return n.stop()}}),n,this)})))}},{key:"isDeviceIdValid",value:function(e){return l(this,void 0,void 0,r.mark((function t(){var n,i,o,s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=/[0-9A-Fa-f]{32}/g,e&&32===e.length&&n.test(e)){t.next=3;break}return t.abrupt("return",Promise.reject("The device id is incorrectly formatted."));case 3:return i=this.getDeviceClaimedByPath(e),o=this.app.database().ref(i),t.next=7,o.once("value").catch((function(){return null}));case 7:if((s=t.sent)&&!s.exists()){t.next=10;break}return t.abrupt("return",Promise.reject("The device has already been claimed."));case 10:return t.abrupt("return",!0);case 11:case"end":return t.stop()}}),t,this)})))}},{key:"onUserDevicesChange",value:function(){var e=this;return this.onAuthStateChanged().pipe(p.switchMap((function(t){if(!t)return h.empty();var n=e.getUserDevicesPath(),r=e.app.database().ref(n);return h.fromEventPattern((function(e){return r.on("value",e)}),(function(e){return r.off("value",e)})).pipe(p.map((function(e){return e.val()})),p.switchMap((function(t){return h.from(e.userDevicesToDeviceInfoList(t))})))})))}},{key:"userDevicesToDeviceInfoList",value:function(e){return l(this,void 0,void 0,r.mark((function t(){var n,i,o,s=this;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object.keys(null!=e?e:{}).map((function(e){return s.app.database().ref(s.getDeviceInfoPath(e)).once("value")})),t.next=3,Promise.all(n).then((function(e){return e.map((function(e){return e.val()}))}));case 3:return i=t.sent,(o=i.filter((function(e){return!!e}))).sort((function(t,n){return e[t.deviceId].claimedOn-e[n.deviceId].claimedOn})),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})))}},{key:"hasDevicePermission",value:function(e){return l(this,void 0,void 0,r.mark((function t(){var n,i;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=this.getDeviceInfoPath(e),t.next=3,this.app.database().ref(n).once("value").then((function(){return!0})).catch((function(){return!1}));case 3:return i=t.sent,t.abrupt("return",i);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"getDeviceClaimedByPath",value:function(e){return"devices/".concat(e,"/status/claimedBy")}},{key:"getUserClaimedDevicePath",value:function(e){var t=this.user.uid;return"users/".concat(t,"/devices/").concat(e)}},{key:"getUserDevicesPath",value:function(){var e=this.user.uid;return"users/".concat(e,"/devices")}},{key:"getDeviceInfoPath",value:function(e){return"devices/".concat(e,"/info")}}]),e}();n.FirebaseUser=y},{rxjs:"iRqj","rxjs/operators":"cVrl","firebase/app":"ZUoI"}],mSvX:[function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var a=s(e("firebase/app")).default.database.ServerValue.TIMESTAMP;n.createDeviceStore=function(e,t,n){var s=e.database().ref("devices/".concat(t)),u=s.child("subscriptions").push().key,c=s.child("clients/".concat(u)),l=[],f=function(e,t){return s.child(e).set(t)},h=function(e,t){return s.child(e).update(t)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"value",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=s.child(t).on(e,(function(e){n(e.val(),e)}));return l.push((function(){s.child(t).off(e,r)})),r},d=function(e,t,n){n?s.child(e).off(t,n):s.child(e).off(t)},v=e.database().ref(".info/connected").on("value",(function(e){e.val()&&c.onDisconnect().remove().then((function(){c.set(a),h("subscriptions",n.get()).then((function(){n.toList().forEach((function(e){var t="subscriptions/".concat(e.id);s.child(t).onDisconnect().remove()}))}))}))}));return l.push((function(){e.database().ref(".info/connected").off("value",v)})),{set:f,once:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"value";return o(void 0,void 0,void 0,r.mark((function n(){var i;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.child(e).once(t);case 2:return i=n.sent,n.abrupt("return",i.val());case 4:case"end":return n.stop()}}),n)})))},update:h,lastOfChildValue:function(e,t,n){return o(void 0,void 0,void 0,r.mark((function o(){var a,u,c,l,f;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,s.child(e).orderByChild(t).equalTo(n).limitToLast(1).once("value");case 2:return a=r.sent,u=a.val(),c=Object.values(u||{}),l=i(c,1),f=l[0],r.abrupt("return",f||null);case 6:case"end":return r.stop()}}),o)})))},onNamespace:function(e,t){return p("value",e,(function(e){t(e)}))},offNamespace:function(e,t){d(e,"value",t)},dispatchAction:function(e){return o(void 0,void 0,void 0,r.mark((function t(){var n,i,o,a,u,c;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,"actions",r=e,s.child("actions").push(r);case 2:if(n=t.sent,i=n.key,o="actions/".concat(i),n.onDisconnect().remove(),!e.responseRequired){t.next=11;break}return a=e.responseTimeout||6e5,u=new Promise((function(e,t){var r=setTimeout((function(){clearTimeout(r),n.remove(),t("Action response timed out in ".concat(a,"ms."))}),a)})),c=new Promise((function(e){var t,n,r;t="value",n="".concat(o,"/response"),r=e,p(t,n,(function(e){null!==e&&(d(n,t),r(e))}))})),t.abrupt("return",Promise.race([c,u]));case 11:return t.abrupt("return",i);case 12:case"end":return t.stop()}var r}),t)})))},nextMetric:function(e,t){return o(void 0,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:f("metrics/".concat(e),t);case 1:case"end":return n.stop()}}),n)})))},onMetric:function(e,t){var n=e.atomic,r=e.metric,i=e.labels,o=n?"metrics/".concat(r):"metrics/".concat(r,"/").concat(i[0]);return p("value",o,(function(e){null!==e&&t(e)}))},subscribeToMetric:function(e){var t=s.child("subscriptions").push().key,n="subscriptions/".concat(t),r=Object.assign({id:t,clientId:u},e);return f(n,r),s.child(n).onDisconnect().remove(),r},unsubscribeFromMetric:function(e){var t;t="subscriptions/".concat(e.id),s.child(t).remove()},removeMetricListener:function(e,t){var n=e.atomic,r=e.metric,i=e.labels,o=n?"metrics/".concat(r):"metrics/".concat(r,"/").concat(i[0]);d(o,"value",t)},disconnect:function(){c.remove(),l.forEach((function(e){e()})),n.toList().filter((function(e){return e.clientId===u})).forEach((function(e){var t="subscriptions/".concat(e.id);s.child(t).remove()}))}}}},{"firebase/app":"ZUoI"}],KzOJ:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=a(e("firebase/app")),c=e("./deviceStore"),l=u.default.database.ServerValue.TIMESTAMP,f=function(){function e(t){var n=t.deviceId,r=t.firebaseApp,i=t.dependencies;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.app=r.app,this.deviceStore=c.createDeviceStore(this.app,n,i.subscriptionManager)}return o(e,[{key:"dispatchAction",value:function(e){return this.deviceStore.dispatchAction(e)}},{key:"getInfo",value:function(){return s(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.deviceStore.once("info");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"onNamespace",value:function(e,t){return this.deviceStore.onNamespace(e,t)}},{key:"onceNamespace",value:function(e){return s(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.deviceStore.once(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"offNamespace",value:function(e,t){this.deviceStore.offNamespace(e,t)}},{key:"getTimesync",value:function(){return s(this,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.dispatchAction({command:"timesync",action:"get",responseRequired:!0,responseTimeout:250});case 2:return t=e.sent,e.abrupt("return",t.timestamp);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"nextMetric",value:function(e,t){this.deviceStore.nextMetric(e,t)}},{key:"onMetric",value:function(e,t){return this.deviceStore.onMetric(e,t)}},{key:"subscribeToMetric",value:function(e){return this.deviceStore.subscribeToMetric(e)}},{key:"unsubscribeFromMetric",value:function(e){this.deviceStore.unsubscribeFromMetric(e)}},{key:"removeMetricListener",value:function(e,t){this.deviceStore.removeMetricListener(e,t)}},{key:"changeSettings",value:function(e){return s(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.deviceStore.update("settings",e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"getSkill",value:function(e){return s(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.deviceStore.lastOfChildValue("skills","bundleId",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"disconnect",value:function(){this.deviceStore.disconnect()}},{key:"timestamp",get:function(){return l}}]),e}();n.FirebaseDevice=f,f.serverType="firebase"},{"firebase/app":"ZUoI","./deviceStore":"mSvX"}],kM30:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./FirebaseApp")),r(e("./FirebaseUser")),r(e("./FirebaseDevice"))},{"./FirebaseApp":"OERo","./FirebaseUser":"Cc51","./FirebaseDevice":"KzOJ"}],imeZ:[function(e,t,n){var r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.exports=function(e){var t=e,n=e.indexOf("["),o=e.indexOf("]");-1!=n&&-1!=o&&(e=e.substring(0,n)+e.substring(n,o).replace(/:/g,";")+e.substring(o,e.length));for(var s=r.exec(e||""),a={},u=14;u--;)a[i[u]]=s[u]||"";return-1!=n&&-1!=o&&(a.source=t,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a}},{}],IAgR:[function(e,t,n){var r=1e3,i=60*r,o=60*i,s=24*o;function a(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function u(e){return e>=s?Math.round(e/s)+"d":e>=o?Math.round(e/o)+"h":e>=i?Math.round(e/i)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}function c(e){return l(e,s,"day")||l(e,o,"hour")||l(e,i,"minute")||l(e,r,"second")||e+" ms"}function l(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}t.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return a(e);if("number"===n&&!1===isNaN(e))return t.long?c(e):u(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},{}],y5CM:[function(e,t,n){function r(e){var t;function r(){if(r.enabled){var e=r,i=+new Date,o=i-(t||i);e.diff=o,e.prev=t,e.curr=i,t=i;for(var s=new Array(arguments.length),a=0;a<s.length;a++)s[a]=arguments[a];s[0]=n.coerce(s[0]),"string"!=typeof s[0]&&s.unshift("%O");var u=0;s[0]=s[0].replace(/%([a-zA-Z%])/g,(function(t,r){if("%%"===t)return t;u++;var i=n.formatters[r];if("function"==typeof i){var o=s[u];t=i.call(e,o),s.splice(u,1),u--}return t})),n.formatArgs.call(e,s),(r.log||n.log||console.log.bind(console)).apply(e,s)}}return r.namespace=e,r.enabled=n.enabled(e),r.useColors=n.useColors(),r.color=function(e){var t,r=0;for(t in e)r=(r<<5)-r+e.charCodeAt(t),r|=0;return n.colors[Math.abs(r)%n.colors.length]}(e),r.destroy=i,"function"==typeof n.init&&n.init(r),n.instances.push(r),r}function i(){var e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}(n=t.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},n.disable=function(){n.enable("")},n.enable=function(e){var t;n.save(e),n.names=[],n.skips=[];var r=("string"==typeof e?e:"").split(/[\s,]+/),i=r.length;for(t=0;t<i;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){var o=n.instances[t];o.enabled=n.enabled(o.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;var t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=e("ms"),n.instances=[],n.names=[],n.skips=[],n.formatters={}},{ms:"IAgR"}],jcLW:[function(e,t,n){e("process");var r=e("process");function i(){var e;try{e=n.storage.debug}catch(t){}return!e&&void 0!==r&&"env"in r&&(e=void 0),e}(n=t.exports=e("./debug")).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},n.formatArgs=function(e){var t=this.useColors;if(e[0]=(t?"%c":"")+this.namespace+(t?" %c":" ")+e[0]+(t?"%c ":" ")+"+"+n.humanize(this.diff),t){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var i=0,o=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))})),e.splice(o,0,r)}},n.save=function(e){try{null==e?n.storage.removeItem("debug"):n.storage.debug=e}catch(t){}},n.load=i,n.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},n.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(r){}}(),n.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],n.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},n.enable(i())},{"./debug":"y5CM",process:"pBGv"}],ECAZ:[function(e,t,n){var r=e("parseuri"),i=e("debug")("socket.io-client:url");t.exports=function(e,t){var n=e;t=t||"undefined"!=typeof location&&location,null==e&&(e=t.protocol+"//"+t.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?t.protocol+e:t.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==t?t.protocol+"//"+e:"https://"+e),i("parse %s",e),n=r(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";var o=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+o+":"+n.port,n.href=n.protocol+"://"+o+(t&&t.port===n.port?"":":"+n.port),n}},{parseuri:"imeZ",debug:"jcLW"}],Wr69:[function(e,t,n){function r(e){if(e)return i(e)}function i(e){for(var t in r.prototype)e[t]=r.prototype[t];return e}"undefined"!=typeof t&&(t.exports=r),r.prototype.on=r.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},r.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},r.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},r.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},r.prototype.hasListeners=function(e){return!!this.listeners(e).length}},{}],REa7:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],yh9p:[function(e,t,n){"use strict";n.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},n.toByteArray=function(e){var t,n,r=c(e),s=r[0],a=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,a)),l=0,f=a>0?s-4:s;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===a&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=0,a=n-i;s<a;s+=16383)o.push(f(e,s,s+16383>a?a:s+16383));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)r[a]=s[a],i[s.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function f(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(r));return i.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},{}],JgNJ:[function(e,t,n){n.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,u=(1<<a)-1,c=u>>1,l=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-l)-1,p>>=-l,l+=a;l>0;o=256*o+e[t+f],f+=h,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+f],f+=h,l-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=c}return(p?-1:1)*s*Math.pow(2,o-r)},n.write=function(e,t,n,r,i,o){var s,a,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,d=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+f>=1?h/u:h*Math.pow(2,1-f))*u>=2&&(s++,u/=2),s+f>=l?(a=0,s=l):s+f>=1?(a=(t*u-1)*Math.pow(2,i),s+=f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=d,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=255&s,p+=d,s/=256,c-=8);e[n+p-d]|=128*v}},{}],dskh:[function(e,t,n){var r=arguments[3],i=e("base64-js"),o=e("ieee754"),s=e("isarray");function a(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(i){return!1}}function u(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function c(e,t){if(u()<t)throw new RangeError("Invalid typed array length");return l.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=l.prototype:(null===e&&(e=new l(t)),e.length=t),e}function l(e,t,n){if(!(l.TYPED_ARRAY_SUPPORT||this instanceof l))return new l(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return d(this,e)}return f(this,e,t,n)}function f(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?m(e,t,n,r):"string"==typeof t?v(e,t,n):b(e,t)}function h(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function p(e,t,n,r){return h(t),t<=0?c(e,t):void 0!==n?"string"==typeof r?c(e,t).fill(n,r):c(e,t).fill(n):c(e,t)}function d(e,t){if(h(t),e=c(e,t<0?0:0|g(t)),!l.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function v(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!l.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|w(t,n),i=(e=c(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}function y(e,t){var n=t.length<0?0:0|g(t.length);e=c(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function m(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),l.TYPED_ARRAY_SUPPORT?(e=t).__proto__=l.prototype:e=y(e,t),e}function b(e,t){if(l.isBuffer(t)){var n=0|g(t.length);return 0===(e=c(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||ne(t.length)?c(e,0):y(e,t);if("Buffer"===t.type&&s(t.data))return y(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function g(e){if(e>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|e}function _(e){return+e!=e&&(e=0),l.alloc(+e)}function w(e,t){if(l.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return ee(e).length;default:if(r)return $(e).length;t=(""+t).toLowerCase(),r=!0}}function E(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return F(this,t,n);case"utf8":case"utf-8":return D(this,t,n);case"ascii":return M(this,t,n);case"latin1":case"binary":return L(this,t,n);case"base64":return N(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function S(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function O(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,i);if("number"==typeof t)return t&=255,l.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){var o,s=1,a=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var l=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*s}else-1!==l&&(o-=o-l),l=-1}else for(n+u>a&&(n=a-u),o=n;o>=0;o--){for(var f=!0,h=0;h<u;h++)if(c(e,o+h)!==c(t,h)){f=!1;break}if(f)return o}return-1}function k(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[n+s]=a}return s}function C(e,t,n,r){return te($(t,e.length-n),e,n,r)}function T(e,t,n,r){return te(J(t),e,n,r)}function I(e,t,n,r){return T(e,t,n,r)}function P(e,t,n,r){return te(ee(t),e,n,r)}function A(e,t,n,r){return te(Z(t,e.length-n),e,n,r)}function N(e,t,n){return 0===t&&n===e.length?i.fromByteArray(e):i.fromByteArray(e.slice(t,n))}function D(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],s=e[i+2],128==(192&o)&&128==(192&s)&&(u=(15&c)<<12|(63&o)<<6|63&s)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128==(192&o)&&128==(192&s)&&128==(192&a)&&(u=(15&c)<<18|(63&o)<<12|(63&s)<<6|63&a)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return R(r)}n.Buffer=l,n.SlowBuffer=_,n.INSPECT_MAX_BYTES=50,l.TYPED_ARRAY_SUPPORT=void 0!==r.TYPED_ARRAY_SUPPORT?r.TYPED_ARRAY_SUPPORT:a(),n.kMaxLength=u(),l.poolSize=8192,l._augment=function(e){return e.__proto__=l.prototype,e},l.from=function(e,t,n){return f(null,e,t,n)},l.TYPED_ARRAY_SUPPORT&&(l.prototype.__proto__=Uint8Array.prototype,l.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&l[Symbol.species]===l&&Object.defineProperty(l,Symbol.species,{value:null,configurable:!0})),l.alloc=function(e,t,n){return p(null,e,t,n)},l.allocUnsafe=function(e){return d(null,e)},l.allocUnsafeSlow=function(e){return d(null,e)},l.isBuffer=function(e){return!(null==e||!e._isBuffer)},l.compare=function(e,t){if(!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!s(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},l.byteLength=w,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},l.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?D(this,0,e):E.apply(this,arguments)},l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},l.prototype.compare=function(e,t,n,r,i){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0),a=Math.min(o,s),u=this.slice(r,i),c=e.slice(t,n),f=0;f<a;++f)if(u[f]!==c[f]){o=u[f],s=c[f];break}return o<s?-1:s<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return O(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return O(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":return T(this,e,t,n);case"latin1":case"binary":return I(this,e,t,n);case"base64":return P(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var j=4096;function R(e){var t=e.length;if(t<=j)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=j));return n}function M(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function F(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=X(e[o]);return i}function U(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function V(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function W(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function q(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function z(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,i){return i||z(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function Y(e,t,n,r,i){return i||z(e,0,n,8),o.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),l.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=l.prototype;else{var i=t-e;n=new l(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},l.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUInt8=function(e,t){return t||V(e,1,this.length),this[e]},l.prototype.readUInt16LE=function(e,t){return t||V(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUInt16BE=function(e,t){return t||V(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUInt32LE=function(e,t){return t||V(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUInt32BE=function(e,t){return t||V(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||V(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return t||V(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){t||V(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){t||V(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return t||V(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return t||V(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return t||V(e,4,this.length),o.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return t||V(e,4,this.length),o.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return t||V(e,8,this.length),o.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return t||V(e,8,this.length),o.read(this,e,!1,52,8)},l.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||W(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||W(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,1,255,0),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,65535,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):q(this,e,t,!0),t+4},l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,4294967295,0),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);W(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);W(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,1,127,-128),l.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):B(this,e,t,!0),t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,2,32767,-32768),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):B(this,e,t,!1),t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,2147483647,-2147483648),l.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):q(this,e,t,!0),t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||W(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),l.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):q(this,e,t,!1),t+4},l.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return Y(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return Y(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!l.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},l.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=l.isBuffer(e)?e:$(new l(e,r).toString()),a=s.length;for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};var G=/[^+\/0-9A-Za-z-_]/g;function K(e){if((e=Q(e).replace(G,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}function Q(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function X(e){return e<16?"0"+e.toString(16):e.toString(16)}function $(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],s=0;s<r;++s){if((n=e.charCodeAt(s))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function J(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function Z(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)r=(n=e.charCodeAt(s))>>8,i=n%256,o.push(i),o.push(r);return o}function ee(e){return i.toByteArray(K(e))}function te(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ne(e){return e!=e}},{"base64-js":"yh9p",ieee754:"JgNJ",isarray:"REa7",buffer:"dskh"}],VOQX:[function(e,t,n){e("buffer").Buffer;var r=e("buffer").Buffer;t.exports=function(e){return i&&r.isBuffer(e)||o&&(e instanceof ArrayBuffer||function(e){return"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer}(e))};var i="function"==typeof r&&"function"==typeof r.isBuffer,o="function"==typeof ArrayBuffer},{buffer:"dskh"}],DJEA:[function(e,t,n){var r=e("isarray"),i=e("./is-buffer"),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);function u(e,t){if(!e)return e;if(i(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(r(e)){for(var o=new Array(e.length),s=0;s<e.length;s++)o[s]=u(e[s],t);return o}if("object"==typeof e&&!(e instanceof Date)){for(var a in o={},e)o[a]=u(e[a],t);return o}return e}function c(e,t){if(!e)return e;if(e&&e._placeholder)return t[e.num];if(r(e))for(var n=0;n<e.length;n++)e[n]=c(e[n],t);else if("object"==typeof e)for(var i in e)e[i]=c(e[i],t);return e}n.deconstructPacket=function(e){var t=[],n=e.data,r=e;return r.data=u(n,t),r.attachments=t.length,{packet:r,buffers:t}},n.reconstructPacket=function(e,t){return e.data=c(e.data,t),e.attachments=void 0,e},n.removeBlobs=function(e,t){var n=0,o=e;!function e(u,c,l){if(!u)return u;if(s&&u instanceof Blob||a&&u instanceof File){n++;var f=new FileReader;f.onload=function(){l?l[c]=this.result:o=this.result,--n||t(o)},f.readAsArrayBuffer(u)}else if(r(u))for(var h=0;h<u.length;h++)e(u[h],h,u);else if("object"==typeof u&&!i(u))for(var p in u)e(u[p],p,u)}(o),n||t(o)}},{isarray:"REa7","./is-buffer":"VOQX"}],EDhw:[function(e,t,n){var r=e("debug")("socket.io-parser"),i=e("component-emitter"),o=e("./binary"),s=e("isarray"),a=e("./is-buffer");function u(){}n.protocol=4,n.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],n.CONNECT=0,n.DISCONNECT=1,n.EVENT=2,n.ACK=3,n.ERROR=4,n.BINARY_EVENT=5,n.BINARY_ACK=6,n.Encoder=u,n.Decoder=h;var c=n.ERROR+'"encode error"';function l(e){var t=""+e.type;if(n.BINARY_EVENT!==e.type&&n.BINARY_ACK!==e.type||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data){var i=function(t){try{return JSON.stringify(t)}catch(e){return!1}}(e.data);if(!1===i)return c;t+=i}return r("encoded %j as %s",e,t),t}function f(e,t){o.removeBlobs(e,(function(e){var n=o.deconstructPacket(e),r=l(n.packet),i=n.buffers;i.unshift(r),t(i)}))}function h(){this.reconstructor=null}function p(e){var t=0,i={type:Number(e.charAt(0))};if(null==n.types[i.type])return v("unknown packet type "+i.type);if(n.BINARY_EVENT===i.type||n.BINARY_ACK===i.type){for(var o="";"-"!==e.charAt(++t)&&(o+=e.charAt(t),t!=e.length););if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(t+1))for(i.nsp="";++t&&","!==(u=e.charAt(t))&&(i.nsp+=u,t!==e.length););else i.nsp="/";var a=e.charAt(t+1);if(""!==a&&Number(a)==a){for(i.id="";++t;){var u;if(null==(u=e.charAt(t))||Number(u)!=u){--t;break}if(i.id+=e.charAt(t),t===e.length)break}i.id=Number(i.id)}if(e.charAt(++t)){var c=function(t){try{return JSON.parse(t)}catch(e){return!1}}(e.substr(t));if(!1===c||i.type!==n.ERROR&&!s(c))return v("invalid payload");i.data=c}return r("decoded %s as %j",e,i),i}function d(e){this.reconPack=e,this.buffers=[]}function v(e){return{type:n.ERROR,data:"parser error: "+e}}u.prototype.encode=function(e,t){r("encoding packet %j",e),n.BINARY_EVENT===e.type||n.BINARY_ACK===e.type?f(e,t):t([l(e)])},i(h.prototype),h.prototype.add=function(e){var t;if("string"==typeof e)t=p(e),n.BINARY_EVENT===t.type||n.BINARY_ACK===t.type?(this.reconstructor=new d(t),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",t)):this.emit("decoded",t);else{if(!a(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",t))}},h.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=o.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},{debug:"jcLW","component-emitter":"Wr69","./binary":"DJEA",isarray:"REa7","./is-buffer":"VOQX"}],mYnU:[function(e,t,n){try{t.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(r){t.exports=!1}},{}],cVUh:[function(e,t,n){var r=e("has-cors");t.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(o){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(o){}if(!t)try{return new(self[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(o){}}},{"has-cors":"mYnU"}],Tn4q:[function(e,t,n){t.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},{}],E6Ed:[function(e,t,n){e("buffer").Buffer;var r=e("buffer").Buffer,i=e("isarray"),o=Object.prototype.toString,s="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===o.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===o.call(File);t.exports=function e(t){if(!t||"object"!=typeof t)return!1;if(i(t)){for(var n=0,o=t.length;n<o;n++)if(e(t[n]))return!0;return!1}if("function"==typeof r&&r.isBuffer&&r.isBuffer(t)||"function"==typeof ArrayBuffer&&t instanceof ArrayBuffer||s&&t instanceof Blob||a&&t instanceof File)return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)&&e(t[u]))return!0;return!1}},{isarray:"REa7",buffer:"dskh"}],iRcD:[function(e,t,n){t.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),s=t,a=0;s<n;s++,a++)o[a]=i[s];return o.buffer}},{}],ibc9:[function(e,t,n){function r(){}t.exports=function(e,t,n){var i=!1;return n=n||r,o.count=e,0===e?t():o;function o(e,r){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=n):0!==o.count||i||t(null,r)}}},{}],s6hm:[function(e,t,n){var r,i,o,s=String.fromCharCode;function a(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function u(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=s((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=s(t);return i}function c(e,t){if(e>=55296&&e<=57343){if(t)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value");return!1}return!0}function l(e,t){return s(e>>t&63|128)}function f(e,t){if(0==(4294967168&e))return s(e);var n="";return 0==(4294965248&e)?n=s(e>>6&31|192):0==(4294901760&e)?(c(e,t)||(e=65533),n=s(e>>12&15|224),n+=l(e,6)):0==(4292870144&e)&&(n=s(e>>18&7|240),n+=l(e,12),n+=l(e,6)),n+s(63&e|128)}function h(){if(o>=i)throw Error("Invalid byte index");var e=255&r[o];if(o++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function p(e){var t,n;if(o>i)throw Error("Invalid byte index");if(o==i)return!1;if(t=255&r[o],o++,0==(128&t))return t;if(192==(224&t)){if((n=(31&t)<<6|h())>=128)return n;throw Error("Invalid continuation byte")}if(224==(240&t)){if((n=(15&t)<<12|h()<<6|h())>=2048)return c(n,e)?n:65533;throw Error("Invalid continuation byte")}if(240==(248&t)&&(n=(7&t)<<18|h()<<12|h()<<6|h())>=65536&&n<=1114111)return n;throw Error("Invalid UTF-8 detected")}t.exports={version:"2.1.2",encode:function(e,t){for(var n=!1!==(t=t||{}).strict,r=a(e),i=r.length,o=-1,s="";++o<i;)s+=f(r[o],n);return s},decode:function(e,t){var n=!1!==(t=t||{}).strict;r=a(e),i=r.length,o=0;for(var s,c=[];!1!==(s=p(n));)c.push(s);return u(c)}}},{}],vLJO:[function(e,t,n){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=new Uint8Array(256),r=0;r<e.length;r++)t[e.charCodeAt(r)]=r;n.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},n.decode=function(e){var n,r,i,o,s,a=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var l=new ArrayBuffer(a),f=new Uint8Array(l);for(n=0;n<u;n+=4)r=t[e.charCodeAt(n)],i=t[e.charCodeAt(n+1)],o=t[e.charCodeAt(n+2)],s=t[e.charCodeAt(n+3)],f[c++]=r<<2|i>>4,f[c++]=(15&i)<<4|o>>2,f[c++]=(3&o)<<6|63&s;return l}}()},{}],LDmX:[function(e,t,n){var r=void 0!==r?r:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder&&MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(r){return!1}}(),o=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(r){return!1}}(),s=r&&r.prototype.append&&r.prototype.getBlob;function a(e){return e.map((function(e){if(e.buffer instanceof ArrayBuffer){var t=e.buffer;if(e.byteLength!==t.byteLength){var n=new Uint8Array(e.byteLength);n.set(new Uint8Array(t,e.byteOffset,e.byteLength)),t=n.buffer}return t}return e}))}function u(e,t){t=t||{};var n=new r;return a(e).forEach((function(e){n.append(e)})),t.type?n.getBlob(t.type):n.getBlob()}function c(e,t){return new Blob(a(e),t||{})}"undefined"!=typeof Blob&&(u.prototype=Blob.prototype,c.prototype=Blob.prototype),t.exports=i?o?Blob:c:s?u:void 0},{}],HSgu:[function(e,t,n){var r,i=e("./keys"),o=e("has-binary2"),s=e("arraybuffer.slice"),a=e("after"),u=e("./utf8");"undefined"!=typeof ArrayBuffer&&(r=e("base64-arraybuffer"));var c="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent),l="undefined"!=typeof navigator&&/PhantomJS/i.test(navigator.userAgent),f=c||l;n.protocol=3;var h=n.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},p=i(h),d={type:"error",data:"parser error"},v=e("blob");function y(e,t,r){if(!t)return n.encodeBase64Packet(e,r);if(f)return function(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){n.encodePacket({type:e.type,data:i.result},t,!0,r)},i.readAsArrayBuffer(e.data)}(e,t,r);var i=new Uint8Array(1);return i[0]=h[e.type],r(new v([i.buffer,e.data]))}function m(e){try{e=u.decode(e,{strict:!1})}catch(i){return!1}return e}function b(e,t,n){for(var r=new Array(e.length),i=a(e.length,n),o=function(e,n,i){t(n,(function(t,n){r[e]=n,i(t,r)}))},s=0;s<e.length;s++)o(s,e[s],i)}n.encodePacket=function(e,t,r,i){"function"==typeof t&&(i=t,t=!1),"function"==typeof r&&(i=r,r=null);var o=void 0===e.data?void 0:e.data.buffer||e.data;if("undefined"!=typeof ArrayBuffer&&o instanceof ArrayBuffer)return function(e,t,r){if(!t)return n.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),s=new Uint8Array(1+i.byteLength);s[0]=h[e.type];for(var a=0;a<o.length;a++)s[a+1]=o[a];return r(s.buffer)}(e,t,i);if(void 0!==v&&o instanceof v)return y(e,t,i);if(o&&o.base64)return function(e,t){return t("b"+n.packets[e.type]+e.data.data)}(e,i);var s=h[e.type];return void 0!==e.data&&(s+=r?u.encode(String(e.data),{strict:!1}):String(e.data)),i(""+s)},n.encodeBase64Packet=function(e,t){var r,i="b"+n.packets[e.type];if(void 0!==v&&e.data instanceof v){var o=new FileReader;return o.onload=function(){var e=o.result.split(",")[1];t(i+e)},o.readAsDataURL(e.data)}try{r=String.fromCharCode.apply(null,new Uint8Array(e.data))}catch(f){for(var s=new Uint8Array(e.data),a=new Array(s.length),u=0;u<s.length;u++)a[u]=s[u];r=String.fromCharCode.apply(null,a)}return i+=btoa(r),t(i)},n.decodePacket=function(e,t,r){if(void 0===e)return d;if("string"==typeof e){if("b"===e.charAt(0))return n.decodeBase64Packet(e.substr(1),t);if(r&&!1===(e=m(e)))return d;var i=e.charAt(0);return Number(i)==i&&p[i]?e.length>1?{type:p[i],data:e.substring(1)}:{type:p[i]}:d}i=new Uint8Array(e)[0];var o=s(e,1);return v&&"blob"===t&&(o=new v([o])),{type:p[i],data:o}},n.decodeBase64Packet=function(e,t){var n=p[e.charAt(0)];if(!r)return{type:n,data:{base64:!0,data:e.substr(1)}};var i=r.decode(e.substr(1));return"blob"===t&&v&&(i=new v([i])),{type:n,data:i}},n.encodePayload=function(e,t,r){"function"==typeof t&&(r=t,t=null);var i=o(e);return t&&i?v&&!f?n.encodePayloadAsBlob(e,r):n.encodePayloadAsArrayBuffer(e,r):e.length?void b(e,(function(e,r){n.encodePacket(e,!!i&&t,!1,(function(e){r(null,function(e){return e.length+":"+e}(e))}))}),(function(e,t){return r(t.join(""))})):r("0:")},n.decodePayload=function(e,t,r){if("string"!=typeof e)return n.decodePayloadAsBinary(e,t,r);var i;if("function"==typeof t&&(r=t,t=null),""===e)return r(d,0,1);for(var o,s,a="",u=0,c=e.length;u<c;u++){var l=e.charAt(u);if(":"===l){if(""===a||a!=(o=Number(a)))return r(d,0,1);if(a!=(s=e.substr(u+1,o)).length)return r(d,0,1);if(s.length){if(i=n.decodePacket(s,t,!1),d.type===i.type&&d.data===i.data)return r(d,0,1);if(!1===r(i,u+o,c))return}u+=o,a=""}else a+=l}return""!==a?r(d,0,1):void 0},n.encodePayloadAsArrayBuffer=function(e,t){if(!e.length)return t(new ArrayBuffer(0));b(e,(function(e,t){n.encodePacket(e,!0,!0,(function(e){return t(null,e)}))}),(function(e,n){var r=n.reduce((function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2}),0),i=new Uint8Array(r),o=0;return n.forEach((function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),s=0;s<e.length;s++)r[s]=e.charCodeAt(s);n=r.buffer}i[o++]=t?0:1;var a=n.byteLength.toString();for(s=0;s<a.length;s++)i[o++]=parseInt(a[s]);for(i[o++]=255,r=new Uint8Array(n),s=0;s<r.length;s++)i[o++]=r[s]})),t(i.buffer)}))},n.encodePayloadAsBlob=function(e,t){b(e,(function(e,t){n.encodePacket(e,!0,!0,(function(e){var n=new Uint8Array(1);if(n[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,n[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),s=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)s[i]=parseInt(o[i]);if(s[o.length]=255,v){var a=new v([n.buffer,s.buffer,e]);t(null,a)}}))}),(function(e,n){return t(new v(n))}))},n.decodePayloadAsBinary=function(e,t,r){"function"==typeof t&&(r=t,t=null);for(var i=e,o=[];i.byteLength>0;){for(var a=new Uint8Array(i),u=0===a[0],c="",l=1;255!==a[l];l++){if(c.length>310)return r(d,0,1);c+=a[l]}i=s(i,2+c.length),c=parseInt(c);var f=s(i,0,c);if(u)try{f=String.fromCharCode.apply(null,new Uint8Array(f))}catch(v){var h=new Uint8Array(f);for(f="",l=0;l<h.length;l++)f+=String.fromCharCode(h[l])}o.push(f),i=s(i,c)}var p=o.length;o.forEach((function(e,i){r(n.decodePacket(e,t,!0),i,p)}))}},{"./keys":"Tn4q","has-binary2":"E6Ed","arraybuffer.slice":"iRcD",after:"ibc9","./utf8":"s6hm","base64-arraybuffer":"vLJO",blob:"LDmX"}],HBl9:[function(e,t,n){var r=e("engine.io-parser"),i=e("component-emitter");function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.forceNode=e.forceNode,this.isReactNative=e.isReactNative,this.extraHeaders=e.extraHeaders,this.localAddress=e.localAddress}t.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!==this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},{"engine.io-parser":"HSgu","component-emitter":"Wr69"}],vs2a:[function(e,t,n){n.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},n.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},{}],X1xq:[function(e,t,n){t.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],t9Jt:[function(e,t,n){"use strict";var r,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),o={},s=0,a=0;function u(e){var t="";do{t=i[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}function c(){var e=u(+new Date);return e!==r?(s=0,r=e):e+"."+u(s++)}for(;a<64;a++)o[i[a]]=a;c.encode=u,c.decode=function(e){var t=0;for(a=0;a<e.length;a++)t=64*t+o[e.charAt(a)];return t},t.exports=c},{}],hsm0:[function(e,t,n){var r=e("../transport"),i=e("parseqs"),o=e("engine.io-parser"),s=e("component-inherit"),a=e("yeast"),u=e("debug")("engine.io-client:polling");t.exports=l;var c=null!=new(e("xmlhttprequest-ssl"))({xdomain:!1}).responseType;function l(e){var t=e&&e.forceBase64;c&&!t||(this.supportsBinary=!1),r.call(this,e)}s(l,r),l.prototype.name="polling",l.prototype.doOpen=function(){this.poll()},l.prototype.pause=function(e){var t=this;function n(){u("paused"),t.readyState="paused",e()}if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(u("we are currently polling - waiting to pause"),r++,this.once("pollComplete",(function(){u("pre-pause polling complete"),--r||n()}))),this.writable||(u("we are currently writing - waiting to pause"),r++,this.once("drain",(function(){u("pre-pause writing complete"),--r||n()})))}else n()},l.prototype.poll=function(){u("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},l.prototype.onData=function(e){var t=this;u("polling got data %s",e),o.decodePayload(e,this.socket.binaryType,(function(e,n,r){if("opening"===t.readyState&&t.onOpen(),"close"===e.type)return t.onClose(),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"===this.readyState?this.poll():u('ignoring poll - transport state "%s"',this.readyState))},l.prototype.doClose=function(){var e=this;function t(){u("writing close packet"),e.write([{type:"close"}])}"open"===this.readyState?(u("transport open - closing"),t()):(u("transport not open - deferring close"),this.once("open",t))},l.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};o.encodePayload(e,this.supportsBinary,(function(e){t.doWrite(e,n)}))},l.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=a()),this.supportsBinary||e.sid||(e.b64=1),e=i.encode(e),this.port&&("https"===t&&443!==Number(this.port)||"http"===t&&80!==Number(this.port))&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},{"../transport":"HBl9",parseqs:"vs2a","engine.io-parser":"HSgu","component-inherit":"X1xq",yeast:"t9Jt",debug:"jcLW","xmlhttprequest-ssl":"cVUh"}],tzUF:[function(e,t,n){var r=e("xmlhttprequest-ssl"),i=e("./polling"),o=e("component-emitter"),s=e("component-inherit"),a=e("debug")("engine.io-client:polling-xhr");function u(){}function c(e){if(i.call(this,e),this.requestTimeout=e.requestTimeout,this.extraHeaders=e.extraHeaders,"undefined"!=typeof location){var t="https:"===location.protocol,n=location.port;n||(n=t?443:80),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port,this.xs=e.secure!==t}}function l(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=void 0!==e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.requestTimeout=e.requestTimeout,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}if(t.exports=c,t.exports.Request=l,s(c,i),c.prototype.supportsBinary=!0,c.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.requestTimeout=this.requestTimeout,e.extraHeaders=this.extraHeaders,new l(e)},c.prototype.doWrite=function(e,t){var n="string"!=typeof e&&void 0!==e,r=this.request({method:"POST",data:e,isBinary:n}),i=this;r.on("success",t),r.on("error",(function(e){i.onError("xhr post error",e)})),this.sendXhr=r},c.prototype.doPoll=function(){a("xhr poll");var e=this.request(),t=this;e.on("data",(function(e){t.onData(e)})),e.on("error",(function(e){t.onError("xhr poll error",e)})),this.pollXhr=e},o(l.prototype),l.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var t=this.xhr=new r(e),n=this;try{a("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&t.setRequestHeader(i,this.extraHeaders[i])}catch(c){}if("POST"===this.method)try{this.isBinary?t.setRequestHeader("Content-type","application/octet-stream"):t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(c){}try{t.setRequestHeader("Accept","*/*")}catch(c){}"withCredentials"in t&&(t.withCredentials=!0),this.requestTimeout&&(t.timeout=this.requestTimeout),this.hasXDR()?(t.onload=function(){n.onLoad()},t.onerror=function(){n.onError(t.responseText)}):t.onreadystatechange=function(){if(2===t.readyState)try{var e=t.getResponseHeader("Content-Type");n.supportsBinary&&"application/octet-stream"===e&&(t.responseType="arraybuffer")}catch(c){}4===t.readyState&&(200===t.status||1223===t.status?n.onLoad():setTimeout((function(){n.onError(t.status)}),0))},a("xhr data %s",this.data),t.send(this.data)}catch(c){return void setTimeout((function(){n.onError(c)}),0)}"undefined"!=typeof document&&(this.index=l.requestsCount++,l.requests[this.index]=this)},l.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},l.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},l.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},l.prototype.cleanup=function(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=u:this.xhr.onreadystatechange=u,e)try{this.xhr.abort()}catch(i){}"undefined"!=typeof document&&delete l.requests[this.index],this.xhr=null}},l.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type")}catch(o){}e="application/octet-stream"===t&&this.xhr.response||this.xhr.responseText}catch(o){this.onError(o)}null!=e&&this.onData(e)},l.prototype.hasXDR=function(){return"undefined"!=typeof XDomainRequest&&!this.xs&&this.enablesXDR},l.prototype.abort=function(){this.cleanup()},l.requestsCount=0,l.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",h);else if("function"==typeof addEventListener){var f="onpagehide"in self?"pagehide":"unload";addEventListener(f,h,!1)}function h(){for(var e in l.requests)l.requests.hasOwnProperty(e)&&l.requests[e].abort()}},{"xmlhttprequest-ssl":"cVUh","./polling":"hsm0","component-emitter":"Wr69","component-inherit":"X1xq",debug:"jcLW"}],ruO5:[function(e,t,n){var r=arguments[3],i=e("./polling"),o=e("component-inherit");t.exports=f;var s,a=/\n/g,u=/\\n/g;function c(){}function l(){return"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==r?r:{}}function f(e){if(i.call(this,e),this.query=this.query||{},!s){var t=l();s=t.___eio=t.___eio||[]}this.index=s.length;var n=this;s.push((function(e){n.onData(e)})),this.query.j=this.index,"function"==typeof addEventListener&&addEventListener("beforeunload",(function(){n.script&&(n.script.onerror=c)}),!1)}o(f,i),f.prototype.supportsBinary=!1,f.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),i.prototype.doClose.call(this)},f.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout((function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)}),100)},f.prototype.doWrite=function(e,t){var n=this;if(!this.form){var r,i=document.createElement("form"),o=document.createElement("textarea"),s=this.iframeId="eio_iframe_"+this.index;i.className="socketio",i.style.position="absolute",i.style.top="-1000px",i.style.left="-1000px",i.target=s,i.method="POST",i.setAttribute("accept-charset","utf-8"),o.name="d",i.appendChild(o),document.body.appendChild(i),this.form=i,this.area=o}function c(){l(),t()}function l(){if(n.iframe)try{n.form.removeChild(n.iframe)}catch(t){n.onError("jsonp polling iframe removal error",t)}try{var e='<iframe src="javascript:0" name="'+n.iframeId+'">';r=document.createElement(e)}catch(t){(r=document.createElement("iframe")).name=n.iframeId,r.src="javascript:0"}r.id=n.iframeId,n.form.appendChild(r),n.iframe=r}this.form.action=this.uri(),l(),e=e.replace(u,"\\\n"),this.area.value=e.replace(a,"\\n");try{this.form.submit()}catch(f){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"===n.iframe.readyState&&c()}:this.iframe.onload=c}},{"./polling":"hsm0","component-inherit":"X1xq"}],f88W:[function(e,t,n){},{}],ExHC:[function(e,t,n){e("buffer").Buffer;var r,i,o=e("buffer").Buffer,s=e("../transport"),a=e("engine.io-parser"),u=e("parseqs"),c=e("component-inherit"),l=e("yeast"),f=e("debug")("engine.io-client:websocket");if("undefined"!=typeof WebSocket)r=WebSocket;else if("undefined"!=typeof self)r=self.WebSocket||self.MozWebSocket;else try{i=e("ws")}catch(d){}var h=r||i;function p(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,this.usingBrowserWebSocket=r&&!e.forceNode,this.protocols=e.protocols,this.usingBrowserWebSocket||(h=i),s.call(this,e)}t.exports=p,c(p,s),p.prototype.name="websocket",p.prototype.supportsBinary=!0,p.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t=this.protocols,n={agent:this.agent,perMessageDeflate:this.perMessageDeflate};n.pfx=this.pfx,n.key=this.key,n.passphrase=this.passphrase,n.cert=this.cert,n.ca=this.ca,n.ciphers=this.ciphers,n.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(n.headers=this.extraHeaders),this.localAddress&&(n.localAddress=this.localAddress);try{this.ws=this.usingBrowserWebSocket&&!this.isReactNative?t?new h(e,t):new h(e):new h(e,t,n)}catch(s){return this.emit("error",s)}void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="nodebuffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},p.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},p.prototype.write=function(e){var t=this;this.writable=!1;for(var n=e.length,r=0,i=n;r<i;r++)!function(e){a.encodePacket(e,t.supportsBinary,(function(r){if(!t.usingBrowserWebSocket){var i={};e.options&&(i.compress=e.options.compress),t.perMessageDeflate&&("string"==typeof r?o.byteLength(r):r.length)<t.perMessageDeflate.threshold&&(i.compress=!1)}try{t.usingBrowserWebSocket?t.ws.send(r):t.ws.send(r,i)}catch(d){f("websocket closed before onclose event")}--n||(t.emit("flush"),setTimeout((function(){t.writable=!0,t.emit("drain")}),0))}))}(e[r])},p.prototype.onClose=function(){s.prototype.onClose.call(this)},p.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},p.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"===t&&443!==Number(this.port)||"ws"===t&&80!==Number(this.port))&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=l()),this.supportsBinary||(e.b64=1),(e=u.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},p.prototype.check=function(){return!(!h||"__initialize"in h&&this.name===p.prototype.name)}},{"../transport":"HBl9","engine.io-parser":"HSgu",parseqs:"vs2a","component-inherit":"X1xq",yeast:"t9Jt",debug:"jcLW",ws:"f88W",buffer:"dskh"}],xQDS:[function(e,t,n){var r=e("xmlhttprequest-ssl"),i=e("./polling-xhr"),o=e("./polling-jsonp"),s=e("./websocket");n.polling=function(e){var t=!1,n=!1,s=!1!==e.jsonp;if("undefined"!=typeof location){var a="https:"===location.protocol,u=location.port;u||(u=a?443:80),t=e.hostname!==location.hostname||u!==e.port,n=e.secure!==a}if(e.xdomain=t,e.xscheme=n,"open"in new r(e)&&!e.forceJSONP)return new i(e);if(!s)throw new Error("JSONP disabled");return new o(e)},n.websocket=s},{"xmlhttprequest-ssl":"cVUh","./polling-xhr":"tzUF","./polling-jsonp":"ruO5","./websocket":"ExHC"}],rcym:[function(e,t,n){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],APvO:[function(e,t,n){var r=e("./transports/index"),i=e("component-emitter"),o=e("debug")("engine.io-client:socket"),s=e("indexof"),a=e("engine.io-parser"),u=e("parseuri"),c=e("parseqs");function l(e,t){if(!(this instanceof l))return new l(e,t);t=t||{},e&&"object"==typeof e&&(t=e,e=null),e?(e=u(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=u(t.host).host),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.agent=t.agent||!1,this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?443:80),this.query=t.query||{},"string"==typeof this.query&&(this.query=c.decode(this.query)),this.upgrade=!1!==t.upgrade,this.path=(t.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!t.forceJSONP,this.jsonp=!1!==t.jsonp,this.forceBase64=!!t.forceBase64,this.enablesXDR=!!t.enablesXDR,this.timestampParam=t.timestampParam||"t",this.timestampRequests=t.timestampRequests,this.transports=t.transports||["polling","websocket"],this.transportOptions=t.transportOptions||{},this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.policyPort=t.policyPort||843,this.rememberUpgrade=t.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=t.onlyBinaryUpgrades,this.perMessageDeflate=!1!==t.perMessageDeflate&&(t.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=t.pfx||null,this.key=t.key||null,this.passphrase=t.passphrase||null,this.cert=t.cert||null,this.ca=t.ca||null,this.ciphers=t.ciphers||null,this.rejectUnauthorized=void 0===t.rejectUnauthorized||t.rejectUnauthorized,this.forceNode=!!t.forceNode,this.isReactNative="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),("undefined"==typeof self||this.isReactNative)&&(t.extraHeaders&&Object.keys(t.extraHeaders).length>0&&(this.extraHeaders=t.extraHeaders),t.localAddress&&(this.localAddress=t.localAddress)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingIntervalTimer=null,this.pingTimeoutTimer=null,this.open()}t.exports=l,l.priorWebsocketSuccess=!1,i(l.prototype),l.protocol=a.protocol,l.Socket=l,l.Transport=e("./transport"),l.transports=e("./transports/index"),l.parser=e("engine.io-parser"),l.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);t.EIO=a.protocol,t.transport=e;var n=this.transportOptions[e]||{};return this.id&&(t.sid=this.id),new r[e]({query:t,socket:this,agent:n.agent||this.agent,hostname:n.hostname||this.hostname,port:n.port||this.port,secure:n.secure||this.secure,path:n.path||this.path,forceJSONP:n.forceJSONP||this.forceJSONP,jsonp:n.jsonp||this.jsonp,forceBase64:n.forceBase64||this.forceBase64,enablesXDR:n.enablesXDR||this.enablesXDR,timestampRequests:n.timestampRequests||this.timestampRequests,timestampParam:n.timestampParam||this.timestampParam,policyPort:n.policyPort||this.policyPort,pfx:n.pfx||this.pfx,key:n.key||this.key,passphrase:n.passphrase||this.passphrase,cert:n.cert||this.cert,ca:n.ca||this.ca,ciphers:n.ciphers||this.ciphers,rejectUnauthorized:n.rejectUnauthorized||this.rejectUnauthorized,perMessageDeflate:n.perMessageDeflate||this.perMessageDeflate,extraHeaders:n.extraHeaders||this.extraHeaders,forceNode:n.forceNode||this.forceNode,localAddress:n.localAddress||this.localAddress,requestTimeout:n.requestTimeout||this.requestTimeout,protocols:n.protocols||void 0,isReactNative:this.isReactNative})},l.prototype.open=function(){var e;if(this.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout((function(){t.emit("error","No transports available")}),0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(o){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},l.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",(function(){t.onDrain()})).on("packet",(function(e){t.onPacket(e)})).on("error",(function(e){t.onError(e)})).on("close",(function(){t.onClose("transport close")}))},l.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(function(i){if(!n)if("pong"===i.type&&"probe"===i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause((function(){n||"closed"!==r.readyState&&(o("changing transport and sending upgrade packet"),h(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())}))}else{o('probe transport "%s" failed',e);var s=new Error("probe error");s.transport=t.name,r.emit("upgradeError",s)}})))}function s(){n||(n=!0,h(),t.close(),t=null)}function a(n){var i=new Error("probe error: "+n);i.transport=t.name,s(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function u(){a("transport closed")}function c(){a("socket closed")}function f(e){t&&e.name!==t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),s())}function h(){t.removeListener("open",i),t.removeListener("error",a),t.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",f)}l.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",a),t.once("close",u),this.once("close",c),this.once("upgrading",f),t.open()},l.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emit("open"),this.flush(),"open"===this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},l.prototype.onPacket=function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},l.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!==this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},l.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout((function(){"closed"!==t.readyState&&t.onClose("ping timeout")}),e||t.pingInterval+t.pingTimeout)},l.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout((function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)}),e.pingInterval)},l.prototype.ping=function(){var e=this;this.sendPacket("ping",(function(){e.emit("ping")}))},l.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},l.prototype.flush=function(){"closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},l.prototype.write=l.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},l.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},l.prototype.close=function(){if("opening"===this.readyState||"open"===this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",(function(){this.upgrading?r():t()})):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},l.prototype.onError=function(e){o("socket error %j",e),l.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},l.prototype.onClose=function(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(o('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},l.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}},{"./transports/index":"xQDS","component-emitter":"Wr69",debug:"jcLW",indexof:"rcym","engine.io-parser":"HSgu",parseuri:"imeZ",parseqs:"vs2a","./transport":"HBl9"}],h0uD:[function(e,t,n){t.exports=e("./socket"),t.exports.parser=e("engine.io-parser")},{"./socket":"APvO","engine.io-parser":"HSgu"}],PFWQ:[function(e,t,n){t.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},{}],BM2E:[function(e,t,n){t.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},{}],NpfF:[function(e,t,n){var r=[].slice;t.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var n=r.call(arguments,2);return function(){return t.apply(e,n.concat(r.call(arguments)))}}},{}],wT76:[function(e,t,n){var r=e("socket.io-parser"),i=e("component-emitter"),o=e("to-array"),s=e("./on"),a=e("component-bind"),u=e("debug")("socket.io-client:socket"),c=e("parseqs"),l=e("has-binary2");t.exports=p;var f={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},h=i.prototype.emit;function p(e,t,n){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},n&&n.query&&(this.query=n.query),this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",a(this,"onopen")),s(e,"packet",a(this,"onpacket")),s(e,"close",a(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"===this.io.readyState&&this.onopen(),this.emit("connecting")),this},p.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(f.hasOwnProperty(e))return h.apply(this,arguments),this;var t=o(arguments),n={type:(void 0!==this.flags.binary?this.flags.binary:l(t))?r.BINARY_EVENT:r.EVENT,data:t,options:{}};return n.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),n.id=this.ids++),this.connected?this.packet(n):this.sendBuffer.push(n),this.flags={},this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){if(u("transport is open - connecting"),"/"!==this.nsp)if(this.query){var e="object"==typeof this.query?c.encode(this.query):this.query;u("sending connect packet with query %s",e),this.packet({type:r.CONNECT,query:e})}else this.packet({type:r.CONNECT})},p.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){var t=e.nsp===this.nsp,n=e.type===r.ERROR&&"/"===e.nsp;if(t||n)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?h.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);u("sending ack %j",i),t.packet({type:l(i)?r.BINARY_ACK:r.ACK,id:e,data:i})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)h.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags.compress=e,this},p.prototype.binary=function(e){return this.flags.binary=e,this}},{"socket.io-parser":"EDhw","component-emitter":"Wr69","to-array":"PFWQ","./on":"BM2E","component-bind":"NpfF",debug:"jcLW",parseqs:"vs2a","has-binary2":"E6Ed"}],pAuI:[function(e,t,n){function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}t.exports=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},{}],Di21:[function(e,t,n){var r=e("engine.io-client"),i=e("./socket"),o=e("component-emitter"),s=e("socket.io-parser"),a=e("./on"),u=e("component-bind"),c=e("debug")("socket.io-client:manager"),l=e("indexof"),f=e("backo2"),h=Object.prototype.hasOwnProperty;function p(e,t){if(!(this instanceof p))return new p(e,t);e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[];var n=t.parser||s;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}t.exports=p,p.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)h.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},p.prototype.updateSocketIds=function(){for(var e in this.nsps)h.call(this.nsps,e)&&(this.nsps[e].id=this.generateId(e))},p.prototype.generateId=function(e){return("/"===e?"":e+"#")+this.engine.id},o(p.prototype),p.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},p.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},p.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},p.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},p.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},p.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},p.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},p.prototype.open=p.prototype.connect=function(e,t){if(c("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;c("opening %s",this.uri),this.engine=r(this.uri,this.opts);var n=this.engine,i=this;this.readyState="opening",this.skipReconnect=!1;var o=a(n,"open",(function(){i.onopen(),e&&e()})),s=a(n,"error",(function(t){if(c("connect_error"),i.cleanup(),i.readyState="closed",i.emitAll("connect_error",t),e){var n=new Error("Connection error");n.data=t,e(n)}else i.maybeReconnectOnOpen()}));if(!1!==this._timeout){var u=this._timeout;c("connect attempt will timeout after %d",u);var l=setTimeout((function(){c("connect attempt timed out after %d",u),o.destroy(),n.close(),n.emit("error","timeout"),i.emitAll("connect_timeout",u)}),u);this.subs.push({destroy:function(){clearTimeout(l)}})}return this.subs.push(o),this.subs.push(s),this},p.prototype.onopen=function(){c("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(a(e,"data",u(this,"ondata"))),this.subs.push(a(e,"ping",u(this,"onping"))),this.subs.push(a(e,"pong",u(this,"onpong"))),this.subs.push(a(e,"error",u(this,"onerror"))),this.subs.push(a(e,"close",u(this,"onclose"))),this.subs.push(a(this.decoder,"decoded",u(this,"ondecoded")))},p.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},p.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},p.prototype.ondata=function(e){this.decoder.add(e)},p.prototype.ondecoded=function(e){this.emit("packet",e)},p.prototype.onerror=function(e){c("error",e),this.emitAll("error",e)},p.prototype.socket=function(e,t){var n=this.nsps[e];if(!n){n=new i(this,e,t),this.nsps[e]=n;var r=this;n.on("connecting",o),n.on("connect",(function(){n.id=r.generateId(e)})),this.autoConnect&&o()}function o(){~l(r.connecting,n)||r.connecting.push(n)}return n},p.prototype.destroy=function(e){var t=l(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},p.prototype.packet=function(e){c("writing packet %j",e);var t=this;e.query&&0===e.type&&(e.nsp+="?"+e.query),t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,(function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()})))},p.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},p.prototype.cleanup=function(){c("cleanup");for(var e=this.subs.length,t=0;t<e;t++)this.subs.shift().destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},p.prototype.close=p.prototype.disconnect=function(){c("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"===this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},p.prototype.onclose=function(e){c("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},p.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)c("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();c("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout((function(){e.skipReconnect||(c("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open((function(t){t?(c("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(c("reconnect success"),e.onreconnect())})))}),t);this.subs.push({destroy:function(){clearTimeout(n)}})}},p.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},{"engine.io-client":"h0uD","./socket":"wT76","component-emitter":"Wr69","socket.io-parser":"EDhw","./on":"BM2E","component-bind":"NpfF",debug:"jcLW",indexof:"rcym",backo2:"pAuI"}],gT2G:[function(e,t,n){var r=e("./url"),i=e("socket.io-parser"),o=e("./manager"),s=e("debug")("socket.io-client");t.exports=n=u;var a=n.managers={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,i=r(e),u=i.source,c=i.id,l=i.path,f=a[c]&&l in a[c].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(s("ignoring socket cache for %s",u),n=o(u,t)):(a[c]||(s("new io instance for %s",u),a[c]=o(u,t)),n=a[c]),i.query&&!t.query&&(t.query=i.query),n.socket(i.path,t)}n.protocol=i.protocol,n.connect=u,n.Manager=e("./manager"),n.Socket=e("./socket")},{"./url":"ECAZ","socket.io-parser":"EDhw","./manager":"Di21",debug:"jcLW","./socket":"wT76"}],nVpT:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var s=o(e("socket.io-client")),a={secure:!0},u=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options=Object.freeze(Object.assign(Object.assign({},a),t)),this.socket=s.default(this.options.socketUrl,{path:"/".concat(this.options.deviceId)})}return i(e,[{key:"onMetric",value:function(e,t){return this.socket.on("metrics/".concat(e.id),t)}},{key:"removeMetricListener",value:function(e,t){this.socket.off("metrics/".concat(e.id),t)}},{key:"disconnect",value:function(){this.socket.removeAllListeners(),this.socket.connected&&this.socket.disconnect()}}]),e}();n.WebsocketClient=u,u.serverType="websocket"},{"socket.io-client":"gT2G"}],c6Wx:[function(e,t,n){var r=Array.isArray;function i(e,t){e=e.slice(0),t&&(e=e.map((function(e){return e[t]})));for(var n=(e=e.sort((function(e,t){return e-t}))).length,r=o(e),i=function(e){var t=e.length,n=o(e.slice(0,~~(t/2)));return 1.5*(o(e.slice(Math.ceil(t/2)))-n)}(e),s=[],a=0;a<n;a++)Math.abs(e[a]-r)>i&&s.push(e[a]);return s}function o(e){var t=e.length,n=~~(t/2);return t%2?e[n]:(e[n-1]+e[n])/2}t.exports=function(e){if(r(e))return i(e);var t=null,n="string"==typeof e&&e;return function(e,r,o){return t||(t=i(o,n)),e=n?e[n]:e,!~t.indexOf(e)}}},{}],s7Vt:[function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(n,"__esModule",{value:!0});var i=e("rxjs"),o=e("rxjs/operators");n.whileOnline=function(e){var t=e.status$,n=e.allowWhileOnSleepMode;return i.pipe(o.withLatestFrom(t),o.flatMap((function(e){var t=r(e,2),o=t[0];return function(e,t){return!("online"!==e.state||!t&&e.sleepMode)}(t[1],n)?i.of(o):i.empty()})))}},{rxjs:"iRqj","rxjs/operators":"cVrl"}],iVIU:[function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(n,"__esModule",{value:!0});var u=e("rxjs"),c=e("rxjs/operators"),l=e("rxjs/operators"),f=a(e("outliers")),h=e("../utils/whileOnline"),p={bufferSize:100,updateInterval:6e4},d=function(){function e(t){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._offset=0,this.options=Object.assign(Object.assign({},p),t),this.start()}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"start",value:function(){var e=this,t=this.options,n=t.bufferSize,r=t.updateInterval,i=t.status$,o=u.range(0,n),s=u.timer(r,r).pipe(c.map((function(e){return n+e})),h.whileOnline({status$:i,allowWhileOnSleepMode:!0}));i.pipe(c.filter((function(e){return"online"===e.state})),c.take(1)).pipe(l.switchMap((function(){return o.pipe(c.concat(s),e.toOffset(),l.bufferCount(n,1),e.filterOutliers(),c.map((function(t){return e.average(t)})))}))).subscribe((function(t){e._offset=t}))}},{key:"filterOutliers",value:function(){return u.pipe(c.map((function(e){return e.filter(f.default())})))}},{key:"toOffset",value:function(){var e=this,t=this.options.getTimesync;return u.pipe(l.concatMap((function(){return s(e,void 0,void 0,r.mark((function e(){var n,o,s,a,u,c,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),e.next=3,t().then((function(e){return[null,e]})).catch((function(e){return[e]}));case 3:if(o=e.sent,s=i(o,2),a=s[0],u=s[1],!a){e.next=9;break}return e.abrupt("return",0);case 9:return c=Date.now(),l=c-(c-n)/2-u,e.abrupt("return",l);case 13:case"end":return e.stop()}}),e)})))})))}},{key:"average",value:function(e){return Math.round(e.reduce((function(e,t){return e+t}))/e.length)}},{key:"offset",get:function(){return this._offset}},{key:"timestamp",get:function(){return Date.now()+this._offset}}]),e}();n.Timesync=d},{rxjs:"iRqj","rxjs/operators":"cVrl",outliers:"c6Wx","../utils/whileOnline":"s7Vt"}],CXqr:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(e("./Timesync"))},{"./Timesync":"iVIU"}],BX8M:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._subscriptions={}}return i(e,[{key:"get",value:function(){return this._subscriptions}},{key:"toList",value:function(){return Object.values(this._subscriptions)}},{key:"add",value:function(e){this._subscriptions[e.id]=e}},{key:"remove",value:function(e){e.id in this._subscriptions&&Reflect.deleteProperty(this._subscriptions,e.id)}}]),e}();n.SubscriptionManager=o},{}],LXvB:[function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,u=e[Symbol.iterator]();!(r=(s=u.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(a){i=!0,o=a}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});var a=e("rxjs"),u=e("./firebase"),c=e("./websocket"),l=e("../timesync"),f=e("../subscriptions/SubscriptionManager"),h=e("rxjs/operators"),p=e("./firebase");n.credentialWithLink=p.credentialWithLink,n.createUser=p.createUser,n.SERVER_TIMESTAMP=p.SERVER_TIMESTAMP;var d=function(){function e(t){var n=this;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.defaultServerType=u.FirebaseDevice.serverType,this.localServerType=c.WebsocketClient.serverType,this._selectedDevice=new a.BehaviorSubject(void 0),this.options=t,this.subscriptionManager=new f.SubscriptionManager,this.firebaseApp=new u.FirebaseApp(t),this.firebaseUser=new u.FirebaseUser(this.firebaseApp),this.firebaseUser.onAuthStateChanged().subscribe((function(e){n.user=e})),this.onDeviceChange().subscribe((function(e){n.firebaseDevice&&n.firebaseDevice.disconnect(),e&&(n.firebaseDevice=new u.FirebaseDevice({deviceId:e.deviceId,firebaseApp:n.firebaseApp,dependencies:{subscriptionManager:n.subscriptionManager}}),n.options.timesync&&(n.timesync=new l.Timesync({status$:n.status(),getTimesync:n.firebaseDevice.getTimesync.bind(n.firebaseDevice)})))}))}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"onDeviceChange",value:function(){return this._selectedDevice.asObservable().pipe(h.shareReplay(1),h.filter((function(e){return void 0!==e})))}},{key:"setAutoSelectedDevice",value:function(){return s(this,void 0,void 0,r.mark((function e(){var t=this;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.options.deviceId){e.next=4;break}return e.next=3,this.selectDevice((function(e){return e.find((function(e){return e.deviceId===t.options.deviceId}))}));case 3:case 7:return e.abrupt("return",e.sent);case 4:if(this.options.deviceId||!this.options.autoSelectDevice){e.next=8;break}return e.next=7,this.selectDevice((function(e){return e[0]}));case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})))}},{key:"setWebsocket",value:function(e,t){return s(this,void 0,void 0,r.mark((function n(){return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.websocket=new c.WebsocketClient({socketUrl:e,deviceId:t});case 1:case"end":return n.stop()}}),n,this)})))}},{key:"unsetWebsocket",value:function(){this.websocket&&(this.websocket.disconnect(),this.websocket=null)}},{key:"disconnect",value:function(){return s(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.websocket&&this.websocket.disconnect(),e.abrupt("return",this.firebaseApp.disconnect());case 2:case"end":return e.stop()}}),e,this)})))}},{key:"getInfo",value:function(){return s(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.firebaseDevice.getInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"login",value:function(e){return s(this,void 0,void 0,r.mark((function t(){var n,i;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.user){t.next=2;break}return t.abrupt("return",Promise.reject("Already logged in."));case 2:return t.next=4,this.firebaseUser.login(e);case 4:return n=t.sent,t.next=7,this.setAutoSelectedDevice();case 7:return i=t.sent,t.abrupt("return",Object.assign(Object.assign({},n),{selectedDevice:i}));case 9:case"end":return t.stop()}}),t,this)})))}},{key:"logout",value:function(){return s(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.firebaseDevice&&this.firebaseDevice.disconnect(),e.next=3,this.firebaseUser.logout();case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)})))}},{key:"onAuthStateChanged",value:function(){var e=this;return this.firebaseUser.onAuthStateChanged().pipe(h.switchMap((function(t){return s(e,void 0,void 0,r.mark((function e(){var n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",null);case 2:if(!this.didSelectDevice()){e.next=8;break}return e.next=5,this.getSelectedDevice();case 5:e.t0=e.sent,e.next=11;break;case 8:return e.next=10,this.setAutoSelectedDevice();case 10:e.t0=e.sent;case 11:return n=e.t0,e.abrupt("return",Object.assign(Object.assign({},t),{selectedDevice:n}));case 13:case"end":return e.stop()}}),e,this)})))})))}},{key:"getDevices",value:function(){return this.firebaseUser.getDevices()}},{key:"addDevice",value:function(e){return this.firebaseUser.addDevice(e)}},{key:"removeDevice",value:function(e){return s(this,void 0,void 0,r.mark((function t(){var n,o,s,a,u;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.firebaseUser.removeDevice(e).then((function(){return[!1]})).catch((function(e){return[!0,e]}));case 2:if(n=t.sent,o=i(n,2),s=o[0],a=o[1],!s){t.next=8;break}return t.abrupt("return",Promise.reject(a));case 8:(null==(u=this._selectedDevice.getValue())?void 0:u.deviceId)===e&&this._selectedDevice.next(null);case 10:case"end":return t.stop()}}),t,this)})))}},{key:"onUserDevicesChange",value:function(){return this.firebaseUser.onUserDevicesChange()}},{key:"didSelectDevice",value:function(){return!!this._selectedDevice.getValue()}},{key:"selectDevice",value:function(e){return s(this,void 0,void 0,r.mark((function t(){var n,o,s;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getDevices();case 2:if(n=t.sent){t.next=5;break}return t.abrupt("return",Promise.reject("Did not find any devices for this user. Make sure your device is claimed by your Neurosity account."));case 5:if(o=function(t){return t.find((function(t){if(!Array.isArray(e))return!1;var n=i(e,2),r=n[0],o=n[1];return JSON.stringify(null==t?void 0:t[r])===JSON.stringify(o)}))},s="function"==typeof e?e(n):o(n)){t.next=9;break}return t.abrupt("return",Promise.reject("A device was not provided. Try returning a device from the devicesList provided in the callback."));case 9:return t.next=11,this.firebaseUser.hasDevicePermission(s.deviceId);case 11:if(t.sent){t.next=14;break}return t.abrupt("return",Promise.reject("Rejected device access due to permissions."));case 14:return this._selectedDevice.next(s),t.abrupt("return",s);case 16:case"end":return t.stop()}}),t,this)})))}},{key:"getSelectedDevice",value:function(){return s(this,void 0,void 0,r.mark((function e(){var t,n;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this._selectedDevice.getValue()){e.next=3;break}return e.abrupt("return",Promise.reject("There is no device currently selected."));case 3:return e.next=5,this.getDevices();case 5:if(n=e.sent){e.next=8;break}return e.abrupt("return",Promise.reject("Did not find any devices for this user. Make sure your device is claimed by your Neurosity account."));case 8:return e.abrupt("return",n.find((function(e){return e.deviceId===t.deviceId})));case 9:case"end":return e.stop()}}),e,this)})))}},{key:"status",value:function(){return this.observeNamespace("status").pipe(h.map((function(e){return e?Object.entries(e).reduce((function(e,t){var n=i(t,2),r=n[0],o=n[1];return r.startsWith("__")||(e[r]=o),e}),{}):e})))}},{key:"observeNamespace",value:function(e){var t=this,n=a.fromEventPattern((function(n){return t.firebaseDevice.onNamespace(e,n)}),(function(n){return t.firebaseDevice.offNamespace(e,n)}));return this.onDeviceChange().pipe(h.switchMap((function(e){return e?n:a.empty()})))}},{key:"onceNamespace",value:function(e){return s(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.firebaseDevice.onceNamespace(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"createAccount",value:function(e){return this.firebaseUser.createAccount(e)}},{key:"deleteAccount",value:function(){return this.firebaseUser.deleteAccount()}},{key:"createCustomToken",value:function(){return this.firebaseUser.createCustomToken()}},{key:"getTimesyncOffset",value:function(){return this.timesync.offset}},{key:"changeSettings",value:function(e){return this.firebaseDevice.changeSettings(e)}},{key:"goOffline",value:function(){this.firebaseApp.goOffline()}},{key:"goOnline",value:function(){this.firebaseApp.goOnline()}},{key:"__getApp",value:function(){return this.firebaseApp.app}},{key:"actions",get:function(){var e=this;return{dispatch:function(t){return e.firebaseDevice.dispatchAction(t)}}}},{key:"metrics",get:function(){var e=this,t=function(e){return e.serverType===c.WebsocketClient.serverType};return{next:function(t,n){e.firebaseDevice.nextMetric(t,n)},on:function(n,r){return t(n)?e.websocket.onMetric(n,r):e.firebaseDevice.onMetric(n,r)},subscribe:function(t){var n=e.firebaseDevice.subscribeToMetric(t);return e.subscriptionManager.add(n),n},unsubscribe:function(n,r){e.subscriptionManager.remove(n),e.firebaseDevice.unsubscribeFromMetric(n),t(n)?e.websocket&&e.websocket.removeMetricListener(n,r):e.firebaseDevice.removeMetricListener(n,r)}}}},{key:"skills",get:function(){var e=this;return{get:function(t){return s(e,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.firebaseDevice.getSkill(t));case 1:case"end":return e.stop()}}),e,this)})))}}}},{key:"timestamp",get:function(){return this.options.timesync?this.timesync.timestamp:Date.now()}}]),e}();n.ApiClient=d},{rxjs:"iRqj","./firebase":"kM30","./websocket":"nVpT","../timesync":"CXqr","../subscriptions/SubscriptionManager":"BX8M","rxjs/operators":"cVrl"}],ZOGh:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.metrics=void 0;var r={rest:{},artifactDetector:{},leftArm:{},rightArm:{},leftHandPinch:{},rightHandPinch:{},tongue:{},jumpingJacks:{},leftFoot:{},rightFoot:{},leftThumbFinger:{},leftIndexFinger:{},leftMiddleFinger:{},leftRingFinger:{},leftPinkyFinger:{},rightThumbFinger:{},rightIndexFinger:{},rightMiddleFinger:{},rightRingFinger:{},rightPinkyFinger:{},mentalMath:{},bitingALemon:{},push:{},pull:{},lift:{},drop:{},moveLeft:{},moveRight:{},moveForward:{},moveBackward:{},rotateLeft:{},rotateRight:{},rotateClockwise:{},rotateCounterClockwise:{},disappear:{}},i={CP6:{},F6:{},C4:{},CP4:{},CP3:{},F5:{},C3:{},CP5:{}},o={kinesis:r,predictions:r,channelAnalysis:i,signalQuality:i,status:{state:{},battery:{},charging:{},connected:{},connectedSince:{},connectedLast:{},updatingProgress:{},simulate:{},ssid:{}},accelerometer:{acceleration:{},inclination:{},orientation:{},pitch:{},roll:{},x:{},y:{},z:{}},awareness:{creativity:{},comprehension:{},focus:{},meditation:{},calm:{}},brainwaves:{raw:{},rawUnfiltered:{},frequency:{},powerByBand:{},psd:{}},emotion:{joy:{},sadness:{},anger:{},surprise:{},excitement:{},disappointment:{},fear:{},love:{},stress:{},interest:{}},facialExpression:{smile:{},laugh:{},frown:{},blink:{},winkLeft:{},winkRight:{}}};n.metrics=o;var s={metrics:o};n.default=s},{}],yLLB:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("@neurosity/ipk");n.isNotionMetric=function(e){return Object.keys(r.metrics).includes(e)},n.getLabels=function(e){return Object.keys(r.metrics[e])},n.hasInvalidLabels=function(e,t){var r=n.getLabels(e);return!t.every((function(e){return r.includes(e)}))},n.isMetricDisallowed=function(e,t){return"skill"in t&&"metrics"in t.skill&&!t.skill.metrics.includes(e)},n.validate=function(e,t,r){var i=n.getLabels(e).join(", ");return t.length?n.isMetricDisallowed(e,r)?new Error("No permission to access the ".concat(e," metric. To access this metric, edit the skill's permissions")):!!n.hasInvalidLabels(e,t)&&new Error("One ore more labels provided to ".concat(e," are invalid. The valid labels for ").concat(e," are ").concat(i)):new Error("At least one label is required for ".concat(e," metric. Please add one of the following labels: ").concat(i))}},{"@neurosity/ipk":"ZOGh"}],WDyG:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r="Notion: ";n.mustSelectDevice=new Error("".concat(r,'A device must be selected. Make sure to call "notion.selectDevice()"')),n.metricNotSupportedByModel=function(e,t){return new Error("".concat(r).concat(e," not supported on model version ").concat(t,". See docs.neurosity.co for more info."))},n.locationNotFound=function(e,t){return new Error("".concat(r).concat(e," location not supported on model version ").concat(t,". Check spelling or see docs.neurosity.co for more info."))},n.exceededMaxItems=function(e){return new Error("".concat(r,"Maximum items in array is ").concat(e))}},{}],wAkn:[function(e,t,n){"use strict";var r,i,o,s;function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(n,"__esModule",{value:!0}),n.MODEL_VERSION_1="1",n.MODEL_VERSION_2="2",n.MODEL_VERSION_3="3",n.FEATURE_HAPTICS="haptics",n.FEATURE_ACCEL="accel",n.HAPTIC_P7="P7",n.HAPTIC_P8="P8",n.platformFeaturesByModelVersion=(a(r={},n.MODEL_VERSION_1,[]),a(r,n.MODEL_VERSION_2,[n.FEATURE_HAPTICS,n.FEATURE_ACCEL]),a(r,n.MODEL_VERSION_3,[n.FEATURE_HAPTICS,n.FEATURE_ACCEL]),r),n.platformConfigByModelVersion=(a(s={},n.MODEL_VERSION_1,{}),a(s,n.MODEL_VERSION_2,{motorByMotorName:(i={},a(i,n.HAPTIC_P7,[]),a(i,n.HAPTIC_P8,[]),i)}),a(s,n.MODEL_VERSION_3,{motorByMotorName:(o={},a(o,n.HAPTIC_P7,[]),a(o,n.HAPTIC_P8,[]),o)}),s),n.supportsHaptics=function(e){return n.platformFeaturesByModelVersion[e].includes(n.FEATURE_HAPTICS)},n.supportsAccel=function(e){return n.platformFeaturesByModelVersion[e].includes(n.FEATURE_ACCEL)},n.getPlatformHapticMotors=function(e){var t,r=n.platformConfigByModelVersion[e],i=null!==(t=null==r?void 0:r.motorByMotorName)&&void 0!==t?t:{};return Object.assign({},i)}},{}],lLai:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.strongClick100="strongClick100",n.strongClick60="strongClick60",n.strongClick30="strongClick30",n.sharpClick100="sharpClick100",n.sharpClick60="sharpClick60",n.sharpClick30="sharpClick30",n.softBump100="softBump100",n.softBump60="softBump60",n.softBump30="softBump30",n.doubleClick100="doubleClick100",n.doubleClick60="doubleClick60",n.tripleClick100="tripleClick100",n.softFuzz60="softFuzz60",n.strongBuzz100="strongBuzz100",n.alert750ms="alert750ms",n.alert1000ms="alert1000ms",n.strongClick1_100="strongClick1_100",n.strongClick2_80="strongClick2_80",n.strongClick3_60="strongClick3_60",n.strongClick4_30="strongClick4_30",n.mediumClick1_100="mediumClick1_100",n.mediumClick2_80="mediumClick2_80",n.mediumClick3_60="mediumClick3_60",n.sharpTick1_100="sharpTick1_100",n.sharpTick2_80="sharpTick2_80",n.sharpTick3_60="sharpTick3_60",n.shortDoubleClickStrong1_100="shortDoubleClickStrong1_100",n.shortDoubleClickStrong2_80="shortDoubleClickStrong2_80",n.shortDoubleClickStrong3_60="shortDoubleClickStrong3_60",n.shortDoubleClickStrong4_30="shortDoubleClickStrong4_30",n.shortDoubleClickMedium1_100="shortDoubleClickMedium1_100",n.shortDoubleClickMedium2_80="shortDoubleClickMedium2_80",n.shortDoubleClickMedium3_60="shortDoubleClickMedium3_60",n.shortDoubleSharpTick1_100="shortDoubleSharpTick1_100",n.shortDoubleSharpTick2_80="shortDoubleSharpTick2_80",n.shortDoubleSharpTick3_60="shortDoubleSharpTick3_60",n.longDoubleSharpClickStrong1_100="longDoubleSharpClickStrong1_100",n.longDoubleSharpClickStrong2_80="longDoubleSharpClickStrong2_80",n.longDoubleSharpClickStrong3_60="longDoubleSharpClickStrong3_60",n.longDoubleSharpClickStrong4_30="longDoubleSharpClickStrong4_30",n.longDoubleSharpClickMedium1_100="longDoubleSharpClickMedium1_100",n.longDoubleSharpClickMedium2_80="longDoubleSharpClickMedium2_80",n.longDoubleSharpClickMedium3_60="longDoubleSharpClickMedium3_60",n.longDoubleSharpTick1_100="longDoubleSharpTick1_100",n.longDoubleSharpTick2_80="longDoubleSharpTick2_80",n.longDoubleSharpTick3_60="longDoubleSharpTick3_60",n.buzz1_100="buzz1_100",n.buzz2_80="buzz2_80",n.buzz3_60="buzz3_60",n.buzz4_40="buzz4_40",n.buzz5_20="buzz5_20",n.pulsingStong1_100="pulsingStong1_100",n.pulsingStong2_60="pulsingStong2_60",n.pulsingMedium1_100="pulsingMedium1_100",n.pulsingMedium2_60="pulsingMedium2_60",n.pulsingSharp1_100="pulsingSharp1_100",n.pulsingSharp2_60="pulsingSharp2_60",n.transistionClick1_100="transistionClick1_100",n.transistionClick2_80="transistionClick2_80",n.transistionClick3_60="transistionClick3_60",n.transistionClick4_40="transistionClick4_40",n.transistionClick5_20="transistionClick5_20",n.transistionClick6_10="transistionClick6_10",n.transistionHum1_100="transistionHum1_100",n.transistionHum2_80="transistionHum2_80",n.transistionHum3_60="transistionHum3_60",n.transistionHum4_40="transistionHum4_40",n.transistionHum5_20="transistionHum5_20",n.transistionHum6_10="transistionHum6_10",n.transitionRampDownLongSmooth1_100_to_0="transitionRampDownLongSmooth1_100_to_0",n.transitionRampDownLongSmooth2_100_to_0="transitionRampDownLongSmooth2_100_to_0",n.transitionRampDownMediumSmooth1_100_to_0="transitionRampDownMediumSmooth1_100_to_0",n.transitionRampDownMediumSmooth2_100_to_0="transitionRampDownMediumSmooth2_100_to_0",n.transitionRampDownShortSmooth1_100_to_0="transitionRampDownShortSmooth1_100_to_0",n.transitionRampDownShortSmooth2_100_to_0="transitionRampDownShortSmooth2_100_to_0",n.transitionRampDownLongSharp1_100_to_0="transitionRampDownLongSharp1_100_to_0",n.transitionRampDownLongSharp2_100_to_0="transitionRampDownLongSharp2_100_to_0",n.transitionRampDownLongMedium1_100_to_0="transitionRampDownLongMedium1_100_to_0",n.transitionRampDownLongMedium2_100_to_0="transitionRampDownLongMedium2_100_to_0",n.transitionRampDownShortSharp1_100_to_0="transitionRampDownShortSharp1_100_to_0",n.transitionRampDownShortSharp2_100_to_0="transitionRampDownShortSharp2_100_to_0",n.transitionRampUpLongSmooth1_0_to_100="transitionRampUpLongSmooth1_0_to_100",n.transitionRampUpLongSmooth2_0_to_100="transitionRampUpLongSmooth2_0_to_100",n.transitionRampUpMediumSmooth1_0_to_100="transitionRampUpMediumSmooth1_0_to_100",n.transitionRampUpMediumSmooth2_0_to_100="transitionRampUpMediumSmooth2_0_to_100",n.transitionRampUpShortSmooth1_0_to_100="transitionRampUpShortSmooth1_0_to_100",n.transitionRampUpShortSmooth2_0_to_100="transitionRampUpShortSmooth2_0_to_100",n.transitionRampUpLongSharp1_0_to_100="transitionRampUpLongSharp1_0_to_100",n.transitionRampUpLongSharp2_0_to_100="transitionRampUpLongSharp2_0_to_100",n.transitionRampUpMediumSharp1_0_to_100="transitionRampUpMediumSharp1_0_to_100",n.transitionRampUpMediumSharp2_0_to_100="transitionRampUpMediumSharp2_0_to_100",n.transitionRampUpShortSharp1_0_to_100="transitionRampUpShortSharp1_0_to_100",n.transitionRampUpShortSharp2_0_to_100="transitionRampUpShortSharp2_0_to_100",n.transitionRampDownLongSmooth1_50_to_0="transitionRampDownLongSmooth1_50_to_0",n.transitionRampDownLongSmooth2_50_to_0="transitionRampDownLongSmooth2_50_to_0",n.transitionRampDownMediumSmooth1_50_to_0="transitionRampDownMediumSmooth1_50_to_0",n.transitionRampDownMediumSmooth2_50_to_0="transitionRampDownMediumSmooth2_50_to_0",n.transitionRampDownShortSmooth1_50_to_0="transitionRampDownShortSmooth1_50_to_0",n.transitionRampDownShortSmooth2_50_to_0="transitionRampDownShortSmooth2_50_to_0",n.transitionRampDownLongSharp1_50_to_0="transitionRampDownLongSharp1_50_to_0",n.transitionRampDownLongSharp2_50_to_0="transitionRampDownLongSharp2_50_to_0",n.transitionRampDownMediumSharp1_50_to_0="transitionRampDownMediumSharp1_50_to_0",n.transitionRampDownMediumSharp2_50_to_0="transitionRampDownMediumSharp2_50_to_0",n.transitionRampDownShortSharp1_50_to_0="transitionRampDownShortSharp1_50_to_0",n.transitionRampDownShortSharp2_50_to_0="transitionRampDownShortSharp2_50_to_0",n.transitionRampUpLongSmooth1_0_to_50="transitionRampUpLongSmooth1_0_to_50",n.transitionRampUpLongSmooth2_0_to_50="transitionRampUpLongSmooth2_0_to_50",n.transitionRampUpMediumSmooth1_0_to_50="transitionRampUpMediumSmooth1_0_to_50",n.transitionRampUpMediumSmooth2_0_to_50="transitionRampUpMediumSmooth2_0_to_50",n.transitionRampUpShortSmooth1_0_to_50="transitionRampUpShortSmooth1_0_to_50",n.transitionRampUpShortSmooth2_0_to_50="transitionRampUpShortSmooth2_0_to_50",n.transitionRampUpLongSharp1_0_to_50="transitionRampUpLongSharp1_0_to_50",n.transitionRampUpLongSharp2_0_to_50="transitionRampUpLongSharp2_0_to_50",n.transitionRampUpMediumSharp1_0_to_50="transitionRampUpMediumSharp1_0_to_50",n.transitionRampUpMediumSharp2_0_to_50="transitionRampUpMediumSharp2_0_to_50",n.transitionRampUpShortSharp1_0_to_50="transitionRampUpShortSharp1_0_to_50",n.transitionRampUpShortSharp2_0_to_50="transitionRampUpShortSharp2_0_to_50",n.longBuzzForProgrammaticStopping_100="longBuzzForProgrammaticStopping_100",n.smoothHum1_50="smoothHum1_50",n.smoothHum2_40="smoothHum2_40",n.smoothHum3_30="smoothHum3_30",n.smoothHum4_20="smoothHum4_20",n.smoothHum5_10="smoothHum5_10"},{}],KQ4u:[function(e,t,n){"use strict";function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(n,"__esModule",{value:!0});var l=e("rxjs"),f=e("rxjs/operators"),h=e("./api/index"),p=e("./utils/whileOnline"),d=e("./utils/subscription"),v=c(e("./utils/errors")),y=c(e("./utils/platform")),m=c(e("./utils/hapticEffects")),b={timesync:!1,autoSelectDevice:!0},g=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s(this,e),this._localModeSubject=new l.BehaviorSubject(!1),this.getMetric=function(e){var n=e.metric,r=e.labels,i=e.atomic,o=d.validate(n,r,t.options);if(o)return l.throwError(o);var s=function(e){return new l.Observable((function(o){var s=(i?[t.api.metrics.subscribe({metric:n,labels:r,atomic:i,serverType:e})]:r.map((function(r){return t.api.metrics.subscribe({metric:n,labels:[r],atomic:i,serverType:e})}))).map((function(e){return{subscription:e,listener:t.api.metrics.on(e,(function(){o.next.apply(o,arguments)}))}}));return function(){s.forEach((function(e){var n=e.subscription,r=e.listener;t.api.metrics.unsubscribe(n,r)}))}}))};return t.onDeviceChange().pipe(f.switchMap((function(e){if(!e)return l.empty();var r=e.deviceId;return t.isLocalMode().pipe(f.switchMap((function(e){return e&&d.isNotionMetric(n)?t.socketUrl().pipe(f.switchMap((function(e){return t.api.setWebsocket(e,r)})),f.switchMap((function(){return s(t.api.localServerType)}))):(t.api.unsetWebsocket(),s(t.api.defaultServerType))})))})),p.whileOnline({status$:t.status(),allowWhileOnSleepMode:!1}))},this.options=Object.freeze(Object.assign(Object.assign({},b),n)),this.api=new h.ApiClient(this.options)}return function(e,t,n){t&&a(e.prototype,t),n&&a(e,n)}(e,[{key:"login",value:function(e){return u(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.login(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"logout",value:function(){return u(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.logout();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"__getApp",value:function(){return this.api.__getApp()}},{key:"onAuthStateChanged",value:function(){return this.api.onAuthStateChanged()}},{key:"addDevice",value:function(e){return this.api.addDevice(e)}},{key:"removeDevice",value:function(e){return this.api.removeDevice(e)}},{key:"onUserDevicesChange",value:function(){return this.api.onUserDevicesChange()}},{key:"getDevices",value:function(){return u(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.getDevices();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"selectDevice",value:function(e){return u(this,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.api.selectDevice(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})))}},{key:"getSelectedDevice",value:function(){return u(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.getSelectedDevice();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"getInfo",value:function(){return u(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.api.didSelectDevice()){e.next=2;break}return e.abrupt("return",Promise.reject(v.mustSelectDevice));case 2:return e.next=4,this.api.getInfo();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"isLocalMode",value:function(){return this._localModeSubject.asObservable().pipe(f.share())}},{key:"onDeviceChange",value:function(){return this.api.onDeviceChange()}},{key:"enableLocalMode",value:function(e){return u(this,void 0,void 0,r.mark((function t(){var n,i,s,a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("boolean"==typeof e){t.next=2;break}return t.abrupt("return",Promise.reject(new TypeError("enableLocalMode can only accept a boolean")));case 2:if(e){t.next=5;break}return this._localModeSubject.next(e),t.abrupt("return",e);case 5:return t.next=7,this.api.onceNamespace("context/socketUrl").then((function(e){return e?[!0,null]:[!1,new Error("Your device's OS does not support localMode. Try updating to the latest OS.")]})).catch((function(e){return[!1,e]}));case 7:if(n=t.sent,i=o(n,2),s=i[0],a=i[1],s){t.next=13;break}return t.abrupt("return",Promise.reject(a));case 13:return this._localModeSubject.next(e),t.abrupt("return",e);case 15:case"end":return t.stop()}}),t,this)})))}},{key:"disconnect",value:function(){return u(this,void 0,void 0,r.mark((function e(){return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.api.disconnect();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})))}},{key:"socketUrl",value:function(){var e=this.options.onDeviceSocketUrl;return e?l.of(e):this.api.observeNamespace("context/socketUrl")}},{key:"dispatchAction",value:function(e){return this.api.didSelectDevice()?this.api.actions.dispatch(e):Promise.reject(v.mustSelectDevice)}},{key:"addMarker",value:function(e){if(!this.api.didSelectDevice())throw v.mustSelectDevice;if(!e)throw new Error("Notion: a label is required for addMarker");this.dispatchAction({command:"marker",action:"add",message:{label:e,timestamp:this.api.timestamp}})}},{key:"haptics",value:function(e){return u(this,void 0,void 0,r.mark((function t(){var n,i,o,s,a;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="haptics",this.api.didSelectDevice()){t.next=3;break}return t.abrupt("return",Promise.reject(v.mustSelectDevice));case 3:return t.next=5,this.getSelectedDevice();case 5:if(i=t.sent.modelVersion,y.supportsHaptics(i)){t.next=9;break}return t.abrupt("return",Promise.reject(v.metricNotSupportedByModel(n,i)));case 9:o=y.getPlatformHapticMotors(i),t.t0=r.keys(e);case 11:if((t.t1=t.t0()).done){t.next=22;break}if(s=t.t1.value,Object.keys(o).includes(s)){t.next=15;break}return t.abrupt("return",Promise.reject(v.locationNotFound(s,i)));case 15:if(!((a=e[s]).length>7)){t.next=19;break}return t.abrupt("return",Promise.reject(v.exceededMaxItems(7)));case 19:o[s]=a,t.next=11;break;case 22:return t.abrupt("return",this.dispatchAction({command:n,action:"queue",responseRequired:!0,responseTimeout:1e3,message:{effects:o}}));case 23:case"end":return t.stop()}}),t,this)})))}},{key:"getHapticEffects",value:function(){return m}},{key:"accelerometer",value:function(){var e=this,t="accelerometer";return l.from(this.getSelectedDevice()).pipe(f.switchMap((function(n){var r=(null==n?void 0:n.modelVersion)||y.MODEL_VERSION_1;return y.supportsAccel(r)?e.getMetric({metric:t,labels:d.getLabels(t),atomic:!0}):l.throwError(v.metricNotSupportedByModel(t,r))})))}},{key:"awareness",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.getMetric({metric:"awareness",labels:e?[e].concat(n):[],atomic:!1})}},{key:"brainwaves",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.getMetric({metric:"brainwaves",labels:e?[e].concat(n):[],atomic:!1})}},{key:"calm",value:function(){return this.awareness("calm")}},{key:"signalQuality",value:function(){return this.getMetric({metric:"signalQuality",labels:d.getLabels("signalQuality"),atomic:!0})}},{key:"emotion",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.getMetric({metric:"emotion",labels:e?[e].concat(n):[],atomic:!1})}},{key:"settings",value:function(){return this.api.observeNamespace("settings")}},{key:"focus",value:function(){return this.awareness("focus")}},{key:"kinesis",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.getMetric({metric:"kinesis",labels:e?[e].concat(n):[],atomic:!1})}},{key:"predictions",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.getMetric({metric:"predictions",labels:e?[e].concat(n):[],atomic:!1})}},{key:"status",value:function(){return this.api.status()}},{key:"changeSettings",value:function(e){return this.api.didSelectDevice()?this.api.changeSettings(e):Promise.reject(v.mustSelectDevice)}},{key:"goOffline",value:function(){this.api.goOffline()}},{key:"goOnline",value:function(){this.api.goOnline()}},{key:"createAccount",value:function(e){return this.api.createAccount(e)}},{key:"deleteAccount",value:function(){return this.api.deleteAccount()}},{key:"createCustomToken",value:function(){return this.api.createCustomToken()}},{key:"getTimesyncOffset",value:function(){return this.options.timesync||console.warn("getTimesyncOffset() requires options.timesync to be true."),this.options.timesync?this.api.getTimesyncOffset():0}},{key:"skill",value:function(e){return u(this,void 0,void 0,r.mark((function t(){var n,o=this;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.api.didSelectDevice()){t.next=2;break}return t.abrupt("return",Promise.reject(v.mustSelectDevice));case 2:return t.next=4,this.api.skills.get(e);case 4:if(null!==(n=t.sent)){t.next=7;break}return t.abrupt("return",Promise.reject(new Error("Access denied for: ".concat(e,". Make sure the skill is installed."))));case 7:return t.abrupt("return",{metric:function(e){var t="skill~".concat(n.id,"~").concat(e),r=new l.Observable((function(n){var r=o.api.metrics.subscribe({metric:t,labels:[e],atomic:!0}),i=o.api.metrics.on(r,(function(){n.next.apply(n,arguments)}));return function(){o.api.metrics.unsubscribe(r,i)}})).pipe(f.map((function(t){return t[e]})));return Object.defineProperty(r,"next",{value:function(n){o.api.metrics.next(t,i({},e,n))}}),r}});case 8:case"end":return t.stop()}}),t,this)})))}},{key:"training",get:function(){var e=this;return{record:function(t){if(!e.api.didSelectDevice())throw v.mustSelectDevice;var n=e.api.user&&"uid"in e.api.user?e.api.user.uid:null,r=Object.assign(Object.assign({fit:!1,baseline:!1,timestamp:e.api.timestamp},t),{userId:n});e.api.actions.dispatch({command:"training",action:"record",message:r})},stop:function(t){if(!e.api.didSelectDevice())throw v.mustSelectDevice;e.api.actions.dispatch({command:"training",action:"stop",message:Object.assign({},t)})},stopAll:function(){if(!e.api.didSelectDevice())throw v.mustSelectDevice;e.api.actions.dispatch({command:"training",action:"stopAll",message:{}})}}}}]),e}();n.Notion=g,g.credentialWithLink=h.credentialWithLink,g.createUser=h.createUser,g.SERVER_TIMESTAMP=h.SERVER_TIMESTAMP},{rxjs:"iRqj","rxjs/operators":"cVrl","./api/index":"LXvB","./utils/whileOnline":"s7Vt","./utils/subscription":"yLLB","./utils/errors":"WDyG","./utils/platform":"wAkn","./utils/hapticEffects":"lLai"}],DCNc:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Notion");n.createNotionOnDevice=function(e){return i(this,void 0,void 0,r.mark((function t(){var n,i;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new o.Notion(e),t.t0=Object,t.t1=Object,t.t2={},t.next=6,n.skill(e.skill.bundleId);case 6:return t.t3=t.sent,t.t4=t.t1.assign.call(t.t1,t.t2,t.t3),t.t5={props:"props"in e.skill?e.skill.props:{}},i=t.t0.assign.call(t.t0,t.t4,t.t5),delete n.skill,t.abrupt("return",[n,i]);case 12:case"end":return t.stop()}}),t)})))}},{"../Notion":"KQ4u"}],T9Vd:[function(e,t,n){"use strict";function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(n,"__esModule",{value:!0});var s=e("./NotionOnDevice");n.createSkill=function(e){var t=this;return{subscribe:function(n){return o(t,void 0,void 0,r.mark((function t(){var a,u,c,l,f,h=this;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.createNotionOnDevice(Object.assign({},n));case 2:return a=t.sent,u=i(a,2),c=u[0],l=u[1],t.next=8,c.enableLocalMode(!0).catch((function(e){return console.error(e.message)}));case 8:return f=e(c,l),t.abrupt("return",{unsubscribe:function(){return o(h,void 0,void 0,r.mark((function e(){var t;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.disconnect();case 2:if(!f||!("then"in f)){e.next=7;break}return e.next=5,f;case 5:"function"==typeof(t=e.sent)&&t();case 7:if("function"!=typeof f||!("then"in f())){e.next=11;break}return e.next=10,f();case 10:return e.abrupt("return",e.sent);case 11:if("function"!=typeof f){e.next=13;break}return e.abrupt("return",f());case 13:return e.abrupt("return",f);case 14:case"end":return e.stop()}}),e)})))}});case 10:case"end":return t.stop()}}),t)})))}}}},{"./NotionOnDevice":"DCNc"}],d8ek:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./createSkill")),r(e("./NotionOnDevice"))},{"./createSkill":"T9Vd","./NotionOnDevice":"DCNc"}],QCba:[function(e,t,n){"use strict";function r(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}Object.defineProperty(n,"__esModule",{value:!0}),r(e("./Notion")),r(e("./skills"))},{"./Notion":"KQ4u","./skills":"d8ek"}]},{},["QCba"])},8490:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.r(t),n.d(t,{get:function(){return i},responsive:function(){return h},css:function(){return p}});var i=function(e,t,n,r,i){for(t=t&&t.split?t.split("."):[t],r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e},o=[40,52,64].map((function(e){return e+"em"})),s={space:[0,4,8,16,32,64,128,256,512],fontSizes:[12,14,16,20,24,32,48,64,72]},a={bg:"backgroundColor",m:"margin",mt:"marginTop",mr:"marginRight",mb:"marginBottom",ml:"marginLeft",mx:"marginX",my:"marginY",p:"padding",pt:"paddingTop",pr:"paddingRight",pb:"paddingBottom",pl:"paddingLeft",px:"paddingX",py:"paddingY"},u={marginX:["marginLeft","marginRight"],marginY:["marginTop","marginBottom"],paddingX:["paddingLeft","paddingRight"],paddingY:["paddingTop","paddingBottom"],size:["width","height"]},c={color:"colors",backgroundColor:"colors",borderColor:"colors",margin:"space",marginTop:"space",marginRight:"space",marginBottom:"space",marginLeft:"space",marginX:"space",marginY:"space",padding:"space",paddingTop:"space",paddingRight:"space",paddingBottom:"space",paddingLeft:"space",paddingX:"space",paddingY:"space",top:"space",right:"space",bottom:"space",left:"space",gridGap:"space",gridColumnGap:"space",gridRowGap:"space",gap:"space",columnGap:"space",rowGap:"space",fontFamily:"fonts",fontSize:"fontSizes",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",border:"borders",borderTop:"borders",borderRight:"borders",borderBottom:"borders",borderLeft:"borders",borderWidth:"borderWidths",borderStyle:"borderStyles",borderRadius:"radii",borderTopRightRadius:"radii",borderTopLeftRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",borderTopWidth:"borderWidths",borderTopColor:"colors",borderTopStyle:"borderStyles",borderBottomWidth:"borderWidths",borderBottomColor:"colors",borderBottomStyle:"borderStyles",borderLeftWidth:"borderWidths",borderLeftColor:"colors",borderLeftStyle:"borderStyles",borderRightWidth:"borderWidths",borderRightColor:"colors",borderRightStyle:"borderStyles",outlineColor:"colors",boxShadow:"shadows",textShadow:"shadows",zIndex:"zIndices",width:"sizes",minWidth:"sizes",maxWidth:"sizes",height:"sizes",minHeight:"sizes",maxHeight:"sizes",flexBasis:"sizes",size:"sizes",fill:"colors",stroke:"colors"},l=function(e,t){if("number"!==typeof t||t>=0)return i(e,t,t);var n=Math.abs(t),r=i(e,n,n);return"string"===typeof r?"-"+r:-1*r},f=["margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","top","bottom","left","right"].reduce((function(e,t){var n;return r({},e,((n={})[t]=l,n))}),{}),h=function(e){return function(t){var n={},r=i(t,"breakpoints",o),s=[null].concat(r.map((function(e){return"@media screen and (min-width: "+e+")"})));for(var a in e){var u="function"===typeof e[a]?e[a](t):e[a];if(null!=u)if(Array.isArray(u))for(var c=0;c<u.slice(0,s.length).length;c++){var l=s[c];l?(n[l]=n[l]||{},null!=u[c]&&(n[l][a]=u[c])):n[a]=u[c]}else n[a]=u}return n}},p=function e(t){return function(n){void 0===n&&(n={});var o=r({},s,{},n.theme||n),l={},p="function"===typeof t?t(o):t,d=h(p)(o);for(var v in d){var y=d[v],m="function"===typeof y?y(o):y;if("variant"!==v)if(m&&"object"===typeof m)l[v]=e(m)(o);else{var b=i(a,v,v),g=i(c,b),_=i(o,g,i(o,b,{})),w=i(f,b,i)(_,m,m);if(u[b])for(var E=u[b],S=0;S<E.length;S++)l[E[S]]=w;else l[b]=w}else l=r({},l,{},e(i(o,m))(o))}return l}};t.default=p},2300:function(e,t,n){"use strict";n.r(t),n.d(t,{createShouldForwardProp:function(){return a},default:function(){return u},props:function(){return s}});var r=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},i=n(5524),o=n(6907),s=(0,o.compose)(o.space,o.typography,o.color,o.layout,o.flexbox,o.border,o.background,o.position,o.grid,o.shadow,o.buttonStyle,o.textStyle,o.colorStyle).propNames,a=function(e){var t=new RegExp("^("+e.join("|")+")$");return r((function(e){return(0,i.Z)(e)&&!t.test(e)}))},u=a(s)},5023:function(e){var t={get colors(){return["White","Ghostwhite","Ivory","Vanilla","Red","Darkred","Ruby","Crimson","Green","Darkgreen","Lime","Forestgreen","Sapphire","Jade","Emerald","Yellowgreen","Seagreen","Lawngreen","Limegreen","Orange","Darkorange","Bronze","Sepia","Amber","Yellow","Gold","Khaki","Greenyellow","Beige","Gray","Lightgray","Darkgray","Slategray","Shadow","Graphite","Silver","Black","Ebony","Midnight","Ink","Obsidian","Blue","Skyblue","Steelblue","Indigo","Teal","Cyan","Darkcyan","Lightblue","Darkblue","Aliceblue","Navyblue","Turquoise","Ultramarine","Brown","Chocolate","Hickory","Umber","Purple","Violet","Darkviolet","Magenta","Darkmagenta","Lilac","Amthyst","Pink","Mistyrose","Hotpink","Lightpink","Rose","Rosewood","Rainbow"]},get animals(){return["albatross","ant","ape","bat","bear","beaver","bee","bird","bison","boar","buffalo","butterfly","cat","chameleon","cheetah","chicken","chinchilla","cobra","coyote","crab","crocodile","crow","deer","dog","dolphin","donkey","dragonfly","duck","eagle","elephant","falcon","fish","fox","frog","gecko","giraffe","goat","gorilla","grasshopper","hamster","hawk","hedgehog","hornet","horse","hummingbird","jaguar","jellyfish","kangaroo","koala","lemur","leopard","lion","lizard","llama","lobster","mammoth","mole","mongoose","monkey","moose","mouse","octopus","otter","owl","panther","parrot","panda","pelican","penguin","rabbit","raccoon","ram","raven","salamander","seal","shark","sheep","snake","spider","squid","squirrel","starfish","swan","tiger","turtle","wasp","wolf","yak","zebra"]},get sizeColors(){return this.colors.length},get sizeAnimals(){return this.animals.length},get sizeMax(){return this.sizeColors*this.sizeAnimals},get randomColor(){return this.colors[Math.floor(Math.random()*this.sizeColors)]},get randomAnimal(){return this.animals[Math.floor(Math.random()*this.sizeAnimals)]},get version(){return[1,6,3].join(".")},create:function(e){if(e){if(e=parseInt(e),!Number.isInteger(e))throw new Error("Amount has to be an integer!");if(e>this.sizeMax)throw new Error("Amount cannot exceed 'anonymus.maxSize'!");for(var t,n=[],r=0;r<e;r++){for(t=this.randomColor+" "+this.randomAnimal;n.includes(t);)t=this.randomColor+" "+this.randomAnimal;n.push(t)}return n}return this.randomColor+" "+this.randomAnimal}};e.exports&&(e.exports=t)},5466:function(e){e.exports=function(e){var t=0;e+="x";for(var n=parseInt(65745979961613.07),r=0;r<e.length;r++)t>n&&(t=parseInt(t/137)),t=131*t+e.charCodeAt(r);return t}},2736:function(e,t,n){var r=n(5466),i=function(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r;return[(e/=360)+1/3,e,e-1/3].map((function(e){return e<0&&e++,e>1&&e--,e=e<1/6?i+6*(r-i)*e:e<.5?r:e<2/3?i+6*(r-i)*(2/3-e):i,Math.round(255*e)}))};function o(e){return"[object Array]"===Object.prototype.toString.call(e)}var s=function(e){var t=[(e=e||{}).lightness,e.saturation].map((function(e){return o(e=void 0!==e?e:[.35,.5,.65])?e.concat():[e]}));this.L=t[0],this.S=t[1],"number"===typeof e.hue&&(e.hue={min:e.hue,max:e.hue}),"object"!==typeof e.hue||o(e.hue)||(e.hue=[e.hue]),"undefined"===typeof e.hue&&(e.hue=[]),this.hueRanges=e.hue.map((function(e){return{min:"undefined"===typeof e.min?0:e.min,max:"undefined"===typeof e.max?360:e.max}})),this.hash=e.hash||r};s.prototype.hsl=function(e){var t,n,r=this.hash(e);if(this.hueRanges.length){var i=this.hueRanges[r%this.hueRanges.length];t=r/this.hueRanges.length%727*(i.max-i.min)/727+i.min}else t=r%359;return r=parseInt(r/360),n=this.S[r%this.S.length],r=parseInt(r/this.S.length),[t,n,this.L[r%this.L.length]]},s.prototype.rgb=function(e){var t=this.hsl(e);return i.apply(this,t)},s.prototype.hex=function(e){return function(e){var t="#";return e.forEach((function(e){e<16&&(t+=0),t+=e.toString(16)})),t}(this.rgb(e))},e.exports=s},2391:function(e,t,n){"use strict";t.__esModule=!0;var r=n(2791),i=(s(r),s(n(2007))),o=s(n(4566));s(n(4237));function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function c(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=1073741823;function f(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}t.default=function(e,t){var n,s,h="__create-react-context-"+(0,o.default)()+"__",p=function(e){function n(){var t,r;a(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=r=u(this,e.call.apply(e,[this].concat(o))),r.emitter=f(r.props.value),u(r,t)}return c(n,e),n.prototype.getChildContext=function(){var e;return(e={})[h]=this.emitter,e},n.prototype.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n=this.props.value,r=e.value,i=void 0;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)?(i="function"===typeof t?t(n,r):l,0!==(i|=0)&&this.emitter.set(e.value,i)):i=0}},n.prototype.render=function(){return this.props.children},n}(r.Component);p.childContextTypes=((n={})[h]=i.default.object.isRequired,n);var d=function(t){function n(){var e,r;a(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=u(this,t.call.apply(t,[this].concat(o))),r.state={value:r.getValue()},r.onUpdate=function(e,t){0!==((0|r.observedBits)&t)&&r.setState({value:r.getValue()})},u(r,e)}return c(n,t),n.prototype.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?l:t},n.prototype.componentDidMount=function(){this.context[h]&&this.context[h].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?l:e},n.prototype.componentWillUnmount=function(){this.context[h]&&this.context[h].off(this.onUpdate)},n.prototype.getValue=function(){return this.context[h]?this.context[h].get():e},n.prototype.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return d.contextTypes=((s={})[h]=i.default.object,s),{Provider:p,Consumer:d}},e.exports=t.default},9589:function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(2791)),i=o(n(2391));function o(e){return e&&e.__esModule?e:{default:e}}t.default=r.default.createContext||i.default,e.exports=t.default},8354:function(e,t,n){"use strict";var r=n(5318);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"===typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n(3812));e.exports=t.default},3812:function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},2910:function(e){"use strict";function t(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,n){e.classList?e.classList.remove(n):"string"===typeof e.className?e.className=t(e.className,n):e.setAttribute("class",t(e.className&&e.className.baseVal||"",n))}},6300:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var s=o[i];if(("_owner"!==s||!t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!==t&&n!==n}},4566:function(e,t,n){"use strict";var r="__global_unique_id__";e.exports=function(){return n.g[r]=(n.g[r]||0)+1}},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(e){return r.isMemo(e)?s:a[e.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=s;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(d){var i=p(n);i&&i!==d&&e(t,i,r)}var s=l(n);f&&(s=s.concat(f(n)));for(var a=u(t),v=u(n),y=0;y<s.length;++y){var m=s[y];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!a||!a[m])){var b=h(n,m);try{c(t,m,b)}catch(g){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,s=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,d=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,b=n?Symbol.for("react.fundamental"):60117,g=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case a:case s:case p:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case u:return e;default:return t}}case i:return t}}}function E(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=a,t.StrictMode=s,t.Suspense=p,t.isAsyncMode=function(e){return E(e)||w(e)===l},t.isConcurrentMode=E,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===s},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===a||e===s||e===p||e===d||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===b||e.$$typeof===g||e.$$typeof===_||e.$$typeof===m)},t.typeOf=w},8309:function(e,t,n){"use strict";e.exports=n(746)},2176:function(e){"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},2426:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function l(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function f(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function h(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function p(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,r){return Gn(e,t,n,r,!0).utc()}function v(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function y(e){return null==e._pf&&(e._pf=v()),e._pf}function m(e){if(null==e._isValid){var t=y(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function b(e){var t=d(NaN);return null!=e?p(y(t),e):y(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var g=r.momentProperties=[],_=!1;function w(e,t){var n,r,i;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=y(t)),c(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)c(i=t[r=g[n]])||(e[r]=i);return e}function E(e){w(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,r.updateOffset(this),_=!1)}function S(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function O(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(e,t){var n=!0;return p((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,o,s,u=[];for(o=0;o<arguments.length;o++){if(i="","object"===typeof arguments[o]){for(s in i+="\n["+o+"] ",arguments[0])a(arguments[0],s)&&(i+=s+": "+arguments[0][s]+", ");i=i.slice(0,-2)}else i=arguments[o];u.push(i)}O(e+"\nArguments: "+Array.prototype.slice.call(u).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var k,C={};function T(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),C[e]||(O(t),C[e]=!0)}function I(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function P(e){var t,n;for(n in e)a(e,n)&&(I(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(e,t){var n,r=p({},e);for(n in t)a(t,n)&&(s(e[n])&&s(t[n])?(r[n]={},p(r[n],e[n]),p(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&s(e[n])&&(r[n]=p({},r[n]));return r}function N(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var D={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function j(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return I(r)?r.call(t,n):r}function R(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var M=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,L=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,F={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function W(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function B(e){var t,n,r=e.match(M);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=W(r[t]);return function(t){var i,o="";for(i=0;i<n;i++)o+=I(r[i])?r[i].call(t,e):r[i];return o}}function q(e,t){return e.isValid()?(t=z(t,e.localeData()),F[t]=F[t]||B(t),F[t](e)):e.localeData().invalidDate()}function z(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(L.lastIndex=0;n>=0&&L.test(e);)e=e.replace(L,r),L.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Y(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(M).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var G="Invalid date";function K(){return this._invalidDate}var Q="%d",X=/\d{1,2}/;function $(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return I(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return I(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)a(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var oe={};function se(e,t){oe[e]=t}function ae(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:oe[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function le(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ce(t)),n}function fe(e,t){return function(n){return null!=n?(pe(this,e,n),r.updateOffset(this,t),this):he(this,e)}}function he(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ue(e.year())&&1===e.month()&&29===e.date()?(n=le(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function de(e){return I(this[e=re(e)])?this[e]():this}function ve(e,t){if("object"===typeof e){var n,r=ae(e=ie(e));for(n=0;n<r.length;n++)this[r[n].unit](e[r[n].unit])}else if(I(this[e=re(e)]))return this[e](t);return this}var ye,me=/\d/,be=/\d\d/,ge=/\d{3}/,_e=/\d{4}/,we=/[+-]?\d{6}/,Ee=/\d\d?/,Se=/\d\d\d\d?/,Oe=/\d\d\d\d\d\d?/,xe=/\d{1,3}/,ke=/\d{1,4}/,Ce=/[+-]?\d{1,6}/,Te=/\d+/,Ie=/[+-]?\d+/,Pe=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,Ne=/[+-]?\d+(\.\d{1,3})?/,De=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function je(e,t,n){ye[e]=I(t)?t:function(e,r){return e&&n?n:t}}function Re(e,t){return a(ye,e)?ye[e](t._strict,t._locale):new RegExp(Me(e))}function Me(e){return Le(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Le(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ye={};var Fe={};function Ue(e,t){var n,r=t;for("string"===typeof e&&(e=[e]),l(t)&&(r=function(e,n){n[t]=le(e)}),n=0;n<e.length;n++)Fe[e[n]]=r}function Ve(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function We(e,t,n){null!=t&&a(Fe,e)&&Fe[e](t,n._a,n,e)}var Be,qe=0,ze=1,He=2,Ye=3,Ge=4,Ke=5,Qe=6,Xe=7,$e=8;function Je(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?ue(e)?29:28:31-n%7%2}Be=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),se("month",8),je("M",Ee),je("MM",Ee,be),je("MMM",(function(e,t){return t.monthsShortRegex(e)})),je("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[ze]=le(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[ze]=i:y(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=De,it=De;function ot(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone}function st(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function at(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=d([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,s))?i:null:-1!==(i=Be.call(this._longMonthsParse,s))?i:null:"MMM"===t?-1!==(i=Be.call(this._shortMonthsParse,s))||-1!==(i=Be.call(this._longMonthsParse,s))?i:null:-1!==(i=Be.call(this._longMonthsParse,s))||-1!==(i=Be.call(this._shortMonthsParse,s))?i:null}function ut(e,t,n){var r,i,o;if(this._monthsParseExact)return at.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=d([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ct(e,t){var n;if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=le(t);else if(!l(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function lt(e){return null!=e?(ct(this,e),r.updateOffset(this,!0),this):he(this,"Month")}function ft(){return Ze(this.year(),this.month())}function ht(e){return this._monthsParseExact?(a(this,"_monthsRegex")||dt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function pt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||dt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function dt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=d([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=Le(r[t]),i[t]=Le(i[t]);for(t=0;t<24;t++)o[t]=Le(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function vt(e){return ue(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),se("year",1),je("Y",Ie),je("YY",Ee,be),je("YYYY",ke,_e),je("YYYYY",Ce,we),je("YYYYYY",Ce,we),Ue(["YYYYY","YYYYYY"],qe),Ue("YYYY",(function(e,t){t[qe]=2===e.length?r.parseTwoDigitYear(e):le(e)})),Ue("YY",(function(e,t){t[qe]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[qe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return le(e)+(le(e)>68?1900:2e3)};var yt=fe("FullYear",!0);function mt(){return ue(this.year())}function bt(e,t,n,r,i,o,s){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,o,s),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,o,s),a}function gt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function _t(e,t,n){var r=7+t-n;return-(7+gt(e,0,r).getUTCDay()-t)%7+r-1}function wt(e,t,n,r,i){var o,s,a=1+7*(t-1)+(7+n-r)%7+_t(e,r,i);return a<=0?s=vt(o=e-1)+a:a>vt(e)?(o=e+1,s=a-vt(e)):(o=e,s=a),{year:o,dayOfYear:s}}function Et(e,t,n){var r,i,o=_t(e.year(),t,n),s=Math.floor((e.dayOfYear()-o-1)/7)+1;return s<1?r=s+St(i=e.year()-1,t,n):s>St(e.year(),t,n)?(r=s-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=s),{week:r,year:i}}function St(e,t,n){var r=_t(e,t,n),i=_t(e+1,t,n);return(vt(e)-r+i)/7}function Ot(e){return Et(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),se("week",5),se("isoWeek",5),je("w",Ee),je("ww",Ee,be),je("W",Ee),je("WW",Ee,be),Ve(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=le(e)}));var xt={dow:0,doy:6};function kt(){return this._week.dow}function Ct(){return this._week.doy}function Tt(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function It(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function At(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Nt(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),se("day",11),se("weekday",11),se("isoWeekday",11),je("d",Ee),je("e",Ee),je("E",Ee),je("dd",(function(e,t){return t.weekdaysMinRegex(e)})),je("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),je("dddd",(function(e,t){return t.weekdaysRegex(e)})),Ve(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:y(n).invalidWeekday=e})),Ve(["d","e","E"],(function(e,t,n,r){t[r]=le(e)}));var Dt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),jt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Mt=De,Lt=De,Ft=De;function Ut(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Nt(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Nt(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Wt(e){return!0===e?Nt(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Bt(e,t,n){var r,i,o,s=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=d([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,s))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,s))?i:null:"dddd"===t?-1!==(i=Be.call(this._weekdaysParse,s))||-1!==(i=Be.call(this._shortWeekdaysParse,s))||-1!==(i=Be.call(this._minWeekdaysParse,s))?i:null:"ddd"===t?-1!==(i=Be.call(this._shortWeekdaysParse,s))||-1!==(i=Be.call(this._weekdaysParse,s))||-1!==(i=Be.call(this._minWeekdaysParse,s))?i:null:-1!==(i=Be.call(this._minWeekdaysParse,s))||-1!==(i=Be.call(this._weekdaysParse,s))||-1!==(i=Be.call(this._shortWeekdaysParse,s))?i:null}function qt(e,t,n){var r,i,o;if(this._weekdaysParseExact)return Bt.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=d([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function zt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Yt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=At(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Gt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Mt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Qt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Xt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ft),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Xt(){function e(e,t){return t.length-e.length}var t,n,r,i,o,s=[],a=[],u=[],c=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),r=Le(this.weekdaysMin(n,"")),i=Le(this.weekdaysShort(n,"")),o=Le(this.weekdays(n,"")),s.push(r),a.push(i),u.push(o),c.push(r),c.push(i),c.push(o);s.sort(e),a.sort(e),u.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+s.join("|")+")","i")}function $t(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,$t),V("k",["kk",2],0,Jt),V("hmm",0,0,(function(){return""+$t.apply(this)+R(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+$t.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),se("hour",13),je("a",en),je("A",en),je("H",Ee),je("h",Ee),je("k",Ee),je("HH",Ee,be),je("hh",Ee,be),je("kk",Ee,be),je("hmm",Se),je("hmmss",Oe),je("Hmm",Se),je("Hmmss",Oe),Ue(["H","HH"],Ye),Ue(["k","kk"],(function(e,t,n){var r=le(e);t[Ye]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[Ye]=le(e),y(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r)),y(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r,2)),t[Ke]=le(e.substr(i)),y(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ye]=le(e.substr(0,r)),t[Ge]=le(e.substr(r,2)),t[Ke]=le(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=fe("Hours",!0);function on(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var sn,an={calendar:D,longDateFormat:H,invalidDate:G,ordinal:Q,dayOfMonthOrdinalParse:X,relativeTime:J,months:et,monthsShort:tt,week:xt,weekdays:Dt,weekdaysMin:Rt,weekdaysShort:jt,meridiemParse:nn},un={},cn={};function ln(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function fn(e){return e?e.toLowerCase().replace("_","-"):e}function hn(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=fn(e[o]).split("-")).length,n=(n=fn(e[o+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&ln(i,n)>=t-1)break;t--}o++}return sn}function pn(t){var n=null;if(void 0===un[t]&&e&&e.exports)try{n=sn._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),dn(n)}catch(r){un[t]=null}return un[t]}function dn(e,t){var n;return e&&((n=c(t)?mn(e):vn(e,t))?sn=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),sn._abbr}function vn(e,t){if(null!==t){var n,r=an;if(t.abbr=e,null!=un[e])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=un[e]._config;else if(null!=t.parentLocale)if(null!=un[t.parentLocale])r=un[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return un[e]=new N(A(r,t)),cn[e]&&cn[e].forEach((function(e){vn(e.name,e.config)})),dn(e),un[e]}return delete un[e],null}function yn(e,t){if(null!=t){var n,r,i=an;null!=un[e]&&null!=un[e].parentLocale?un[e].set(A(un[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=A(i,t),null==r&&(t.abbr=e),(n=new N(t)).parentLocale=un[e],un[e]=n),dn(e)}else null!=un[e]&&(null!=un[e].parentLocale?(un[e]=un[e].parentLocale,e===dn()&&dn(e)):null!=un[e]&&delete un[e]);return un[e]}function mn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return sn;if(!o(e)){if(t=pn(e))return t;e=[e]}return hn(e)}function bn(){return k(un)}function gn(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=n[ze]<0||n[ze]>11?ze:n[He]<1||n[He]>Ze(n[qe],n[ze])?He:n[Ye]<0||n[Ye]>24||24===n[Ye]&&(0!==n[Ge]||0!==n[Ke]||0!==n[Qe])?Ye:n[Ge]<0||n[Ge]>59?Ge:n[Ke]<0||n[Ke]>59?Ke:n[Qe]<0||n[Qe]>999?Qe:-1,y(e)._overflowDayOfYear&&(t<qe||t>He)&&(t=He),y(e)._overflowWeeks&&-1===t&&(t=Xe),y(e)._overflowWeekday&&-1===t&&(t=$e),y(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Sn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],On=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xn=/^\/?Date\((-?\d+)/i,kn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Tn(e){var t,n,r,i,o,s,a=e._i,u=_n.exec(a)||wn.exec(a);if(u){for(y(e).iso=!0,t=0,n=Sn.length;t<n;t++)if(Sn[t][1].exec(u[1])){i=Sn[t][0],r=!1!==Sn[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=On.length;t<n;t++)if(On[t][1].exec(u[3])){o=(u[2]||" ")+On[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!En.exec(u[4]))return void(e._isValid=!1);s="Z"}e._f=i+(o||"")+(s||""),Vn(e)}else e._isValid=!1}function In(e,t,n,r,i,o){var s=[Pn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&s.push(parseInt(o,10)),s}function Pn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function An(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Nn(e,t,n){return!e||jt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(y(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function jn(e){var t,n=kn.exec(An(e._i));if(n){if(t=In(n[4],n[3],n[2],n[5],n[6],n[7]),!Nn(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=gt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function Rn(e){var t=xn.exec(e._i);null===t?(Tn(e),!1===e._isValid&&(delete e._isValid,jn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Mn(e,t,n){return null!=e?e:null!=t?t:n}function Ln(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Fn(e){var t,n,r,i,o,s=[];if(!e._d){for(r=Ln(e),e._w&&null==e._a[He]&&null==e._a[ze]&&Un(e),null!=e._dayOfYear&&(o=Mn(e._a[qe],r[qe]),(e._dayOfYear>vt(o)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=gt(o,0,e._dayOfYear),e._a[ze]=n.getUTCMonth(),e._a[He]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=r[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ye]&&0===e._a[Ge]&&0===e._a[Ke]&&0===e._a[Qe]&&(e._nextDay=!0,e._a[Ye]=0),e._d=(e._useUTC?gt:bt).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ye]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Un(e){var t,n,r,i,o,s,a,u,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,s=4,n=Mn(t.GG,e._a[qe],Et(Kn(),1,4).year),r=Mn(t.W,1),((i=Mn(t.E,1))<1||i>7)&&(u=!0)):(o=e._locale._week.dow,s=e._locale._week.doy,c=Et(Kn(),o,s),n=Mn(t.gg,e._a[qe],c.year),r=Mn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o),r<1||r>St(n,o,s)?y(e)._overflowWeeks=!0:null!=u?y(e)._overflowWeekday=!0:(a=wt(n,r,i,o,s),e._a[qe]=a.year,e._dayOfYear=a.dayOfYear)}function Vn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],y(e).empty=!0;var t,n,i,o,s,a,u=""+e._i,c=u.length,l=0;for(i=z(e._f,e._locale).match(M)||[],t=0;t<i.length;t++)o=i[t],(n=(u.match(Re(o,e))||[])[0])&&((s=u.substr(0,u.indexOf(n))).length>0&&y(e).unusedInput.push(s),u=u.slice(u.indexOf(n)+n.length),l+=n.length),U[o]?(n?y(e).empty=!1:y(e).unusedTokens.push(o),We(o,n,e)):e._strict&&!n&&y(e).unusedTokens.push(o);y(e).charsLeftOver=c-l,u.length>0&&y(e).unusedInput.push(u),e._a[Ye]<=12&&!0===y(e).bigHour&&e._a[Ye]>0&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[Ye]=Wn(e._locale,e._a[Ye],e._meridiem),null!==(a=y(e).era)&&(e._a[qe]=e._locale.erasConvertYear(a,e._a[qe])),Fn(e),gn(e)}else jn(e);else Tn(e)}function Wn(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function Bn(e){var t,n,r,i,o,s,a=!1;if(0===e._f.length)return y(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,s=!1,t=w({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Vn(t),m(t)&&(s=!0),o+=y(t).charsLeftOver,o+=10*y(t).unusedTokens.length,y(t).score=o,a?o<r&&(r=o,n=t):(null==r||o<r||s)&&(r=o,n=t,s&&(a=!0));p(e,n||t)}function qn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=h([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Fn(e)}}function zn(e){var t=new E(gn(Hn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Hn(e){var t=e._i,n=e._f;return e._locale=e._locale||mn(e._l),null===t||void 0===n&&""===t?b({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new E(gn(t)):(f(t)?e._d=t:o(n)?Bn(e):n?Vn(e):Yn(e),m(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):f(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Rn(e):o(t)?(e._a=h(t.slice(0),(function(e){return parseInt(e,10)})),Fn(e)):s(t)?qn(e):l(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Gn(e,t,n,r,i){var a={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(e)&&u(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,zn(a)}function Kn(e,t,n,r){return Gn(e,t,n,r,!1)}r.createFromInputFallback=x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:b()})),Xn=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Kn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:b()}));function $n(e,t){var n,r;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Kn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Jn(){return $n("isBefore",[].slice.call(arguments,0))}function Zn(){return $n("isAfter",[].slice.call(arguments,0))}var er=function(){return Date.now?Date.now():+new Date},tr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nr(e){var t,n,r=!1;for(t in e)if(a(e,t)&&(-1===Be.call(tr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<tr.length;++n)if(e[tr[n]]){if(r)return!1;parseFloat(e[tr[n]])!==le(e[tr[n]])&&(r=!0)}return!0}function rr(){return this._isValid}function ir(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||t.isoWeek||0,s=t.day||0,a=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._isValid=nr(t),this._milliseconds=+l+1e3*c+6e4*u+1e3*a*60*60,this._days=+s+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=mn(),this._bubble()}function sr(e){return e instanceof or}function ar(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&le(e[r])!==le(t[r]))&&s++;return s+o}function cr(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),je("Z",Ae),je("ZZ",Ae),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=fr(Ae,e)}));var lr=/([\+\-]|\d\d)/gi;function fr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(lr)||["-",0,0])[1]+le(n[2]))?0:"+"===n[0]?r:-r}function hr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(S(e)||f(e)?e.valueOf():Kn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Kn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function dr(e,t,n){var i,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=fr(Ae,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!t||this._changeInProgress?Nr(this,Cr(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:pr(this)}function vr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function mr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function br(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=fr(Pe,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function gr(e){return!!this.isValid()&&(e=e?Kn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function wr(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return w(t,this),(t=Hn(t))._a?(e=t._isUTC?d(t._a):Kn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Sr(){return!!this.isValid()&&this._isUTC}function Or(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var xr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,kr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,o=e,s=null;return sr(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:l(e)||!isNaN(+e)?(o={},t?o[t]=+e:o.milliseconds=+e):(s=xr.exec(e))?(n="-"===s[1]?-1:1,o={y:0,d:le(s[He])*n,h:le(s[Ye])*n,m:le(s[Ge])*n,s:le(s[Ke])*n,ms:le(ar(1e3*s[Qe]))*n}):(s=kr.exec(e))?(n="-"===s[1]?-1:1,o={y:Tr(s[2],n),M:Tr(s[3],n),w:Tr(s[4],n),d:Tr(s[5],n),h:Tr(s[6],n),m:Tr(s[7],n),s:Tr(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Pr(Kn(o.from),Kn(o.to)),(o={}).ms=i.milliseconds,o.M=i.months),r=new or(o),sr(e)&&a(e,"_locale")&&(r._locale=e._locale),sr(e)&&a(e,"_isValid")&&(r._isValid=e._isValid),r}function Tr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ir(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Pr(e,t){var n;return e.isValid()&&t.isValid()?(t=hr(t,e),e.isBefore(t)?n=Ir(e,t):((n=Ir(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ar(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(T(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Nr(this,Cr(n,r),e),this}}function Nr(e,t,n,i){var o=t._milliseconds,s=ar(t._days),a=ar(t._months);e.isValid()&&(i=null==i||i,a&&ct(e,he(e,"Month")+a*n),s&&pe(e,"Date",he(e,"Date")+s*n),o&&e._d.setTime(e._d.valueOf()+o*n),i&&r.updateOffset(e,s||a))}Cr.fn=or.prototype,Cr.invalid=ir;var Dr=Ar(1,"add"),jr=Ar(-1,"subtract");function Rr(e){return"string"===typeof e||e instanceof String}function Mr(e){return S(e)||f(e)||Rr(e)||l(e)||Fr(e)||Lr(e)||null===e||void 0===e}function Lr(e){var t,n,r=s(e)&&!u(e),i=!1,o=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<o.length;t+=1)n=o[t],i=i||a(e,n);return r&&i}function Fr(e){var t=o(e),n=!1;return t&&(n=0===e.filter((function(t){return!l(t)&&Rr(e)})).length),t&&n}function Ur(e){var t,n,r=s(e)&&!u(e),i=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=o[t],i=i||a(e,n);return r&&i}function Vr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function Wr(e,t){1===arguments.length&&(arguments[0]?Mr(arguments[0])?(e=arguments[0],t=void 0):Ur(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Kn(),i=hr(n,this).startOf("day"),o=r.calendarFormat(this,i)||"sameElse",s=t&&(I(t[o])?t[o].call(this,n):t[o]);return this.format(s||this.localeData().calendar(o,this,Kn(n)))}function Br(){return new E(this)}function qr(e,t){var n=S(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function zr(e,t){var n=S(e)?e:Kn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Hr(e,t,n,r){var i=S(e)?e:Kn(e),o=S(t)?t:Kn(t);return!!(this.isValid()&&i.isValid()&&o.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(o,n):!this.isAfter(o,n))}function Yr(e,t){var n,r=S(e)?e:Kn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Gr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,o;if(!this.isValid())return NaN;if(!(r=hr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":o=Xr(this,r)/12;break;case"month":o=Xr(this,r);break;case"quarter":o=Xr(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:ce(o)}function Xr(e,t){if(e.date()<t.date())return-Xr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function $r(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Jr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):I(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Zr(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",o="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+n+r)}function ei(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ti(e,t){return this.isValid()&&(S(e)&&e.isValid()||Kn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ni(e){return this.from(Kn(),e)}function ri(e,t){return this.isValid()&&(S(e)&&e.isValid()||Kn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ii(e){return this.to(Kn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=mn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var si=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function ai(){return this._locale}var ui=1e3,ci=60*ui,li=60*ci,fi=3506328*li;function hi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-fi:new Date(e,t,n).valueOf()}function di(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-fi:Date.UTC(e,t,n)}function vi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?di:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=hi(t+(this._isUTC?0:this.utcOffset()*ci),li);break;case"minute":t=this._d.valueOf(),t-=hi(t,ci);break;case"second":t=this._d.valueOf(),t-=hi(t,ui)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?di:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=li-hi(t+(this._isUTC?0:this.utcOffset()*ci),li)-1;break;case"minute":t=this._d.valueOf(),t+=ci-hi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=ui-hi(t,ui)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function mi(){return this._d.valueOf()-6e4*(this._offset||0)}function bi(){return Math.floor(this.valueOf()/1e3)}function gi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function wi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function Si(){return m(this)}function Oi(){return p({},y(this))}function xi(){return y(this).overflow}function ki(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,o,s=this._eras||mn("en")._eras;for(n=0,i=s.length;n<i;++n)switch("string"===typeof s[n].since&&(o=r(s[n].since).startOf("day"),s[n].since=o.valueOf()),typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":o=r(s[n].until).startOf("day").valueOf(),s[n].until=o.valueOf()}return s}function Ti(e,t,n){var r,i,o,s,a,u=this.eras();for(e=e.toUpperCase(),r=0,i=u.length;r<i;++r)if(o=u[r].name.toUpperCase(),s=u[r].abbr.toUpperCase(),a=u[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(s===e)return u[r];break;case"NNNN":if(o===e)return u[r];break;case"NNNNN":if(a===e)return u[r]}else if([o,s,a].indexOf(e)>=0)return u[r]}function Ii(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Di(){var e,t,n,i,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(n=o[e].since<=o[e].until?1:-1,i=this.clone().startOf("day").valueOf(),o[e].since<=i&&i<=o[e].until||o[e].until<=i&&i<=o[e].since)return(this.year()-r(o[e].since).year())*n+o[e].offset;return this.year()}function ji(e){return a(this,"_erasNameRegex")||Wi.call(this),e?this._erasNameRegex:this._erasRegex}function Ri(e){return a(this,"_erasAbbrRegex")||Wi.call(this),e?this._erasAbbrRegex:this._erasRegex}function Mi(e){return a(this,"_erasNarrowRegex")||Wi.call(this),e?this._erasNarrowRegex:this._erasRegex}function Li(e,t){return t.erasAbbrRegex(e)}function Fi(e,t){return t.erasNameRegex(e)}function Ui(e,t){return t.erasNarrowRegex(e)}function Vi(e,t){return t._eraYearOrdinalRegex||Te}function Wi(){var e,t,n=[],r=[],i=[],o=[],s=this.eras();for(e=0,t=s.length;e<t;++e)r.push(Le(s[e].name)),n.push(Le(s[e].abbr)),i.push(Le(s[e].narrow)),o.push(Le(s[e].name)),o.push(Le(s[e].abbr)),o.push(Le(s[e].narrow));this._erasRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function Bi(e,t){V(0,[e,e.length],0,t)}function qi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function zi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Hi(){return St(this.year(),1,4)}function Yi(){return St(this.isoWeekYear(),1,4)}function Gi(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Ki(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var o;return null==e?Et(this,r,i).year:(t>(o=St(e,r,i))&&(t=o),Xi.call(this,e,t,n,r,i))}function Xi(e,t,n,r,i){var o=wt(e,t,n,r,i),s=gt(o.year,0,o.dayOfYear);return this.year(s.getUTCFullYear()),this.month(s.getUTCMonth()),this.date(s.getUTCDate()),this}function $i(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),je("N",Li),je("NN",Li),je("NNN",Li),je("NNNN",Fi),je("NNNNN",Ui),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?y(n).era=i:y(n).invalidEra=e})),je("y",Te),je("yy",Te),je("yyy",Te),je("yyyy",Te),je("yo",Vi),Ue(["y","yy","yyy","yyyy"],qe),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[qe]=n._locale.eraYearOrdinalParse(e,i):t[qe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),Bi("gggg","weekYear"),Bi("ggggg","weekYear"),Bi("GGGG","isoWeekYear"),Bi("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),se("weekYear",1),se("isoWeekYear",1),je("G",Ie),je("g",Ie),je("GG",Ee,be),je("gg",Ee,be),je("GGGG",ke,_e),je("gggg",ke,_e),je("GGGGG",Ce,we),je("ggggg",Ce,we),Ve(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=le(e)})),Ve(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),ne("quarter","Q"),se("quarter",7),je("Q",me),Ue("Q",(function(e,t){t[ze]=3*(le(e)-1)})),V("D",["DD",2],"Do","date"),ne("date","D"),se("date",9),je("D",Ee),je("DD",Ee,be),je("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],He),Ue("Do",(function(e,t){t[He]=le(e.match(Ee)[0])}));var Ji=fe("Date",!0);function Zi(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),se("dayOfYear",4),je("DDD",xe),je("DDDD",ge),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=le(e)})),V("m",["mm",2],0,"minute"),ne("minute","m"),se("minute",14),je("m",Ee),je("mm",Ee,be),Ue(["m","mm"],Ge);var eo=fe("Minutes",!1);V("s",["ss",2],0,"second"),ne("second","s"),se("second",15),je("s",Ee),je("ss",Ee,be),Ue(["s","ss"],Ke);var to,no,ro=fe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),se("millisecond",16),je("S",xe,me),je("SS",xe,be),je("SSS",xe,ge),to="SSSS";to.length<=9;to+="S")je(to,Te);function io(e,t){t[Qe]=le(1e3*("0."+e))}for(to="S";to.length<=9;to+="S")Ue(to,io);function oo(){return this._isUTC?"UTC":""}function so(){return this._isUTC?"Coordinated Universal Time":""}no=fe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ao=E.prototype;function uo(e){return Kn(1e3*e)}function co(){return Kn.apply(null,arguments).parseZone()}function lo(e){return e}ao.add=Dr,ao.calendar=Wr,ao.clone=Br,ao.diff=Qr,ao.endOf=yi,ao.format=ei,ao.from=ti,ao.fromNow=ni,ao.to=ri,ao.toNow=ii,ao.get=de,ao.invalidAt=xi,ao.isAfter=qr,ao.isBefore=zr,ao.isBetween=Hr,ao.isSame=Yr,ao.isSameOrAfter=Gr,ao.isSameOrBefore=Kr,ao.isValid=Si,ao.lang=si,ao.locale=oi,ao.localeData=ai,ao.max=Xn,ao.min=Qn,ao.parsingFlags=Oi,ao.set=ve,ao.startOf=vi,ao.subtract=jr,ao.toArray=_i,ao.toObject=wi,ao.toDate=gi,ao.toISOString=Jr,ao.inspect=Zr,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ao[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ao.toJSON=Ei,ao.toString=$r,ao.unix=bi,ao.valueOf=mi,ao.creationData=ki,ao.eraName=Pi,ao.eraNarrow=Ai,ao.eraAbbr=Ni,ao.eraYear=Di,ao.year=yt,ao.isLeapYear=mt,ao.weekYear=qi,ao.isoWeekYear=zi,ao.quarter=ao.quarters=$i,ao.month=lt,ao.daysInMonth=ft,ao.week=ao.weeks=Tt,ao.isoWeek=ao.isoWeeks=It,ao.weeksInYear=Gi,ao.weeksInWeekYear=Ki,ao.isoWeeksInYear=Hi,ao.isoWeeksInISOWeekYear=Yi,ao.date=Ji,ao.day=ao.days=zt,ao.weekday=Ht,ao.isoWeekday=Yt,ao.dayOfYear=Zi,ao.hour=ao.hours=rn,ao.minute=ao.minutes=eo,ao.second=ao.seconds=ro,ao.millisecond=ao.milliseconds=no,ao.utcOffset=dr,ao.utc=yr,ao.local=mr,ao.parseZone=br,ao.hasAlignedHourOffset=gr,ao.isDST=_r,ao.isLocal=Er,ao.isUtcOffset=Sr,ao.isUtc=Or,ao.isUTC=Or,ao.zoneAbbr=oo,ao.zoneName=so,ao.dates=x("dates accessor is deprecated. Use date instead.",Ji),ao.months=x("months accessor is deprecated. Use month instead",lt),ao.years=x("years accessor is deprecated. Use year instead",yt),ao.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vr),ao.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",wr);var fo=N.prototype;function ho(e,t,n,r){var i=mn(),o=d().set(r,t);return i[n](o,e)}function po(e,t,n){if(l(e)&&(t=e,e=void 0),e=e||"",null!=t)return ho(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=ho(e,r,n,"month");return i}function vo(e,t,n,r){"boolean"===typeof e?(l(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,l(t)&&(n=t,t=void 0),t=t||"");var i,o=mn(),s=e?o._week.dow:0,a=[];if(null!=n)return ho(t,(n+s)%7,r,"day");for(i=0;i<7;i++)a[i]=ho(t,(i+s)%7,r,"day");return a}function yo(e,t){return po(e,t,"months")}function mo(e,t){return po(e,t,"monthsShort")}function bo(e,t,n){return vo(e,t,n,"weekdays")}function go(e,t,n){return vo(e,t,n,"weekdaysShort")}function _o(e,t,n){return vo(e,t,n,"weekdaysMin")}fo.calendar=j,fo.longDateFormat=Y,fo.invalidDate=K,fo.ordinal=$,fo.preparse=lo,fo.postformat=lo,fo.relativeTime=Z,fo.pastFuture=ee,fo.set=P,fo.eras=Ci,fo.erasParse=Ti,fo.erasConvertYear=Ii,fo.erasAbbrRegex=Ri,fo.erasNameRegex=ji,fo.erasNarrowRegex=Mi,fo.months=ot,fo.monthsShort=st,fo.monthsParse=ut,fo.monthsRegex=pt,fo.monthsShortRegex=ht,fo.week=Ot,fo.firstDayOfYear=Ct,fo.firstDayOfWeek=kt,fo.weekdays=Ut,fo.weekdaysMin=Wt,fo.weekdaysShort=Vt,fo.weekdaysParse=qt,fo.weekdaysRegex=Gt,fo.weekdaysShortRegex=Kt,fo.weekdaysMinRegex=Qt,fo.isPM=tn,fo.meridiem=on,dn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===le(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=x("moment.lang is deprecated. Use moment.locale instead.",dn),r.langData=x("moment.langData is deprecated. Use moment.localeData instead.",mn);var wo=Math.abs;function Eo(){var e=this._data;return this._milliseconds=wo(this._milliseconds),this._days=wo(this._days),this._months=wo(this._months),e.milliseconds=wo(e.milliseconds),e.seconds=wo(e.seconds),e.minutes=wo(e.minutes),e.hours=wo(e.hours),e.months=wo(e.months),e.years=wo(e.years),this}function So(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Oo(e,t){return So(this,e,t,1)}function xo(e,t){return So(this,e,t,-1)}function ko(e){return e<0?Math.floor(e):Math.ceil(e)}function Co(){var e,t,n,r,i,o=this._milliseconds,s=this._days,a=this._months,u=this._data;return o>=0&&s>=0&&a>=0||o<=0&&s<=0&&a<=0||(o+=864e5*ko(Io(a)+s),s=0,a=0),u.milliseconds=o%1e3,e=ce(o/1e3),u.seconds=e%60,t=ce(e/60),u.minutes=t%60,n=ce(t/60),u.hours=n%24,s+=ce(n/24),a+=i=ce(To(s)),s-=ko(Io(i)),r=ce(a/12),a%=12,u.days=s,u.months=a,u.years=r,this}function To(e){return 4800*e/146097}function Io(e){return 146097*e/4800}function Po(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+To(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Io(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ao(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*le(this._months/12):NaN}function No(e){return function(){return this.as(e)}}var Do=No("ms"),jo=No("s"),Ro=No("m"),Mo=No("h"),Lo=No("d"),Fo=No("w"),Uo=No("M"),Vo=No("Q"),Wo=No("y");function Bo(){return Cr(this)}function qo(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function zo(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ho=zo("milliseconds"),Yo=zo("seconds"),Go=zo("minutes"),Ko=zo("hours"),Qo=zo("days"),Xo=zo("months"),$o=zo("years");function Jo(){return ce(this.days()/7)}var Zo=Math.round,es={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ts(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function ns(e,t,n,r){var i=Cr(e).abs(),o=Zo(i.as("s")),s=Zo(i.as("m")),a=Zo(i.as("h")),u=Zo(i.as("d")),c=Zo(i.as("M")),l=Zo(i.as("w")),f=Zo(i.as("y")),h=o<=n.ss&&["s",o]||o<n.s&&["ss",o]||s<=1&&["m"]||s<n.m&&["mm",s]||a<=1&&["h"]||a<n.h&&["hh",a]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(h=h||l<=1&&["w"]||l<n.w&&["ww",l]),(h=h||c<=1&&["M"]||c<n.M&&["MM",c]||f<=1&&["y"]||["yy",f])[2]=t,h[3]=+e>0,h[4]=r,ts.apply(null,h)}function rs(e){return void 0===e?Zo:"function"===typeof e&&(Zo=e,!0)}function is(e,t){return void 0!==es[e]&&(void 0===t?es[e]:(es[e]=t,"s"===e&&(es.ss=t-1),!0))}function os(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,o=es;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(o=Object.assign({},es,t),null!=t.s&&null==t.ss&&(o.ss=t.s-1)),r=ns(this,!i,o,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var ss=Math.abs;function as(e){return(e>0)-(e<0)||+e}function us(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,o,s,a,u=ss(this._milliseconds)/1e3,c=ss(this._days),l=ss(this._months),f=this.asSeconds();return f?(e=ce(u/60),t=ce(e/60),u%=60,e%=60,n=ce(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=f<0?"-":"",o=as(this._months)!==as(f)?"-":"",s=as(this._days)!==as(f)?"-":"",a=as(this._milliseconds)!==as(f)?"-":"",i+"P"+(n?o+n+"Y":"")+(l?o+l+"M":"")+(c?s+c+"D":"")+(t||e||u?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(u?a+r+"S":"")):"P0D"}var cs=or.prototype;return cs.isValid=rr,cs.abs=Eo,cs.add=Oo,cs.subtract=xo,cs.as=Po,cs.asMilliseconds=Do,cs.asSeconds=jo,cs.asMinutes=Ro,cs.asHours=Mo,cs.asDays=Lo,cs.asWeeks=Fo,cs.asMonths=Uo,cs.asQuarters=Vo,cs.asYears=Wo,cs.valueOf=Ao,cs._bubble=Co,cs.clone=Bo,cs.get=qo,cs.milliseconds=Ho,cs.seconds=Yo,cs.minutes=Go,cs.hours=Ko,cs.days=Qo,cs.weeks=Jo,cs.months=Xo,cs.years=$o,cs.humanize=os,cs.toISOString=us,cs.toString=us,cs.toJSON=us,cs.locale=oi,cs.localeData=ai,cs.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",us),cs.lang=si,V("X",0,0,"unix"),V("x",0,0,"valueOf"),je("x",Ie),je("X",Ne),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(le(e))})),r.version="2.29.1",i(Kn),r.fn=ao,r.min=Jn,r.max=Zn,r.now=er,r.utc=d,r.unix=uo,r.months=yo,r.isDate=f,r.locale=dn,r.invalid=b,r.duration=Cr,r.isMoment=S,r.weekdays=bo,r.parseZone=co,r.localeData=mn,r.isDuration=sr,r.monthsShort=mo,r.weekdaysMin=_o,r.defineLocale=vn,r.updateLocale=yn,r.locales=bn,r.weekdaysShort=go,r.normalizeUnits=re,r.relativeTimeRounding=rs,r.relativeTimeThreshold=is,r.calendarFormat=Vr,r.prototype=ao,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},1725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,o){for(var s,a,u=i(e),c=1;c<arguments.length;c++){for(var l in s=Object(arguments[c]))n.call(s,l)&&(u[l]=s[l]);if(t){a=t(s);for(var f=0;f<a.length;f++)r.call(s,a[f])&&(u[a[f]]=s[a[f]])}}return u}},8872:function(e){(function(){var t,n,r,i,o,s;"undefined"!==typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!==typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*process.uptime(),o=i-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},5475:function(e,t,n){for(var r=n(8872),i="undefined"===typeof window?n.g:window,o=["moz","webkit"],s="AnimationFrame",a=i["request"+s],u=i["cancel"+s]||i["cancelRequest"+s],c=0;!a&&c<o.length;c++)a=i[o[c]+"Request"+s],u=i[o[c]+"Cancel"+s]||i[o[c]+"CancelRequest"+s];if(!a||!u){var l=0,f=0,h=[];a=function(e){if(0===h.length){var t=r(),n=Math.max(0,16.666666666666668-(t-l));l=n+t,setTimeout((function(){var e=h.slice(0);h.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(l)}catch(n){setTimeout((function(){throw n}),0)}}),Math.round(n))}return h.push({handle:++f,callback:e,cancelled:!1}),f},u=function(e){for(var t=0;t<h.length;t++)h[t].handle===e&&(h[t].cancelled=!0)}}e.exports=function(e){return a.call(i,e)},e.exports.cancel=function(){u.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=a,e.cancelAnimationFrame=u}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(1725),o=n(5296);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(s(227));function a(e,t,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var u=!1,c=null,l=!1,f=null,h={onError:function(e){u=!0,c=e}};function p(e,t,n,r,i,o,s,l,f){u=!1,c=null,a.apply(h,arguments)}var d=null,v=null,y=null;function m(e,t,n){var r=e.type||"unknown-event";e.currentTarget=y(n),function(e,t,n,r,i,o,a,h,d){if(p.apply(this,arguments),u){if(!u)throw Error(s(198));var v=c;u=!1,c=null,l||(l=!0,f=v)}}(r,t,void 0,e),e.currentTarget=null}var b=null,g={};function _(){if(b)for(var e in g){var t=g[e],n=b.indexOf(e);if(!(-1<n))throw Error(s(96,e));if(!E[n]){if(!t.extractEvents)throw Error(s(97,e));for(var r in E[n]=t,n=t.eventTypes){var i=void 0,o=n[r],a=t,u=r;if(S.hasOwnProperty(u))throw Error(s(99,u));S[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&w(c[i],a,u);i=!0}else o.registrationName?(w(o.registrationName,a,u),i=!0):i=!1;if(!i)throw Error(s(98,r,e))}}}}function w(e,t,n){if(O[e])throw Error(s(100,e));O[e]=t,x[e]=t.eventTypes[n].dependencies}var E=[],S={},O={},x={};function k(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];if(!g.hasOwnProperty(t)||g[t]!==r){if(g[t])throw Error(s(102,t));g[t]=r,n=!0}}n&&_()}var C=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),T=null,I=null,P=null;function A(e){if(e=v(e)){if("function"!==typeof T)throw Error(s(280));var t=e.stateNode;t&&(t=d(t),T(e.stateNode,e.type,t))}}function N(e){I?P?P.push(e):P=[e]:I=e}function D(){if(I){var e=I,t=P;if(P=I=null,A(e),t)for(e=0;e<t.length;e++)A(t[e])}}function j(e,t){return e(t)}function R(e,t,n,r,i){return e(t,n,r,i)}function M(){}var L=j,F=!1,U=!1;function V(){null===I&&null===P||(M(),D())}function W(e,t,n){if(U)return e(t,n);U=!0;try{return L(e,t,n)}finally{U=!1,V()}}var B=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,q=Object.prototype.hasOwnProperty,z={},H={};function Y(e,t,n,r,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o}var G={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){G[e]=new Y(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];G[t]=new Y(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){G[e]=new Y(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){G[e]=new Y(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){G[e]=new Y(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){G[e]=new Y(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){G[e]=new Y(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){G[e]=new Y(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){G[e]=new Y(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function Q(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,Q);G[t]=new Y(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,Q);G[t]=new Y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,Q);G[t]=new Y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){G[e]=new Y(e,1,!1,e.toLowerCase(),null,!1)})),G.xlinkHref=new Y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){G[e]=new Y(e,1,!1,e.toLowerCase(),null,!0)}));var X=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $(e,t,n,r){var i=G.hasOwnProperty(t)?G[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!q.call(H,e)||!q.call(z,e)&&(B.test(e)?H[e]=!0:(z[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"===typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,re=Z?Symbol.for("react.strict_mode"):60108,ie=Z?Symbol.for("react.profiler"):60114,oe=Z?Symbol.for("react.provider"):60109,se=Z?Symbol.for("react.context"):60110,ae=Z?Symbol.for("react.concurrent_mode"):60111,ue=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,le=Z?Symbol.for("react.suspense_list"):60120,fe=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,pe=Z?Symbol.for("react.block"):60121,de="function"===typeof Symbol&&Symbol.iterator;function ve(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=de&&e[de]||e["@@iterator"])?e:null}function ye(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case ie:return"Profiler";case re:return"StrictMode";case ce:return"Suspense";case le:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case se:return"Context.Consumer";case oe:return"Context.Provider";case ue:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case fe:return ye(e.type);case pe:return ye(e.render);case he:if(e=1===e._status?e._result:null)return ye(e)}return null}function me(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,o=ye(e.type);n=null,r&&(n=ye(r.type)),r=o,o="",i?o=" (at "+i.fileName.replace(J,"")+":"+i.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+o}t+=n,e=e.return}while(e);return t}function be(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function ge(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function _e(e){e._valueTracker||(e._valueTracker=function(e){var t=ge(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function we(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ge(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Ee(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Se(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=be(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Oe(e,t){null!=(t=t.checked)&&$(e,"checked",t,!1)}function xe(e,t){Oe(e,t);var n=be(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ce(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ce(e,t.type,be(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ke(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ce(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Te(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Ie(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+be(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Pe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:be(n)}}function Ne(e,t){var n=be(t.value),r=be(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function De(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var je="http://www.w3.org/1999/xhtml",Re="http://www.w3.org/2000/svg";function Me(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?Me(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Fe,Ue,Ve=(Ue=function(e,t){if(e.namespaceURI!==Re||"innerHTML"in e)e.innerHTML=t;else{for((Fe=Fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return Ue(e,t)}))}:Ue);function We(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Be(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qe={animationend:Be("Animation","AnimationEnd"),animationiteration:Be("Animation","AnimationIteration"),animationstart:Be("Animation","AnimationStart"),transitionend:Be("Transition","TransitionEnd")},ze={},He={};function Ye(e){if(ze[e])return ze[e];if(!qe[e])return e;var t,n=qe[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return ze[e]=n[t];return e}C&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete qe.animationend.animation,delete qe.animationiteration.animation,delete qe.animationstart.animation),"TransitionEvent"in window||delete qe.transitionend.transition);var Ge=Ye("animationend"),Ke=Ye("animationiteration"),Qe=Ye("animationstart"),Xe=Ye("transitionend"),$e="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Je=new("function"===typeof WeakMap?WeakMap:Map);function Ze(e){var t=Je.get(e);return void 0===t&&(t=new Map,Je.set(e,t)),t}function et(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function tt(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function nt(e){if(et(e)!==e)throw Error(s(188))}function rt(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=et(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return nt(i),e;if(o===r)return nt(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=o;break}if(u===r){a=!0,r=i,n=o;break}u=u.sibling}if(!a){for(u=o.child;u;){if(u===n){a=!0,n=o,r=i;break}if(u===r){a=!0,r=o,n=i;break}u=u.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function it(e,t){if(null==t)throw Error(s(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function ot(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var st=null;function at(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)m(e,t[r],n[r]);else t&&m(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function ut(e){if(null!==e&&(st=it(st,e)),e=st,st=null,e){if(ot(e,at),st)throw Error(s(95));if(l)throw e=f,l=!1,f=null,e}}function ct(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function lt(e){if(!C)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"===typeof t[e]),t}var ft=[];function ht(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ft.length&&ft.push(e)}function pt(e,t,n,r){if(ft.length){var i=ft.pop();return i.topLevelType=e,i.eventSystemFlags=r,i.nativeEvent=t,i.targetInst=n,i}return{topLevelType:e,eventSystemFlags:r,nativeEvent:t,targetInst:n,ancestors:[]}}function dt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r=n;if(3===r.tag)r=r.stateNode.containerInfo;else{for(;r.return;)r=r.return;r=3!==r.tag?null:r.stateNode.containerInfo}if(!r)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=An(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ct(e.nativeEvent);r=e.topLevelType;var o=e.nativeEvent,s=e.eventSystemFlags;0===n&&(s|=64);for(var a=null,u=0;u<E.length;u++){var c=E[u];c&&(c=c.extractEvents(r,t,o,i,s))&&(a=it(a,c))}ut(a)}}function vt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Qt(t,"scroll",!0);break;case"focus":case"blur":Qt(t,"focus",!0),Qt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":lt(e)&&Qt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===$e.indexOf(e)&&Kt(e,t)}n.set(e,null)}}var yt,mt,bt,gt=!1,_t=[],wt=null,Et=null,St=null,Ot=new Map,xt=new Map,kt=[],Ct="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),Tt="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function It(e,t,n,r,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:i,container:r}}function Pt(e,t){switch(e){case"focus":case"blur":wt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":St=null;break;case"pointerover":case"pointerout":Ot.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xt.delete(t.pointerId)}}function At(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e=It(t,n,r,i,o),null!==t&&(null!==(t=Nn(t))&&mt(t)),e):(e.eventSystemFlags|=r,e)}function Nt(e){var t=An(e.target);if(null!==t){var n=et(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=tt(n)))return e.blockedOn=t,void o.unstable_runWithPriority(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Nn(t);return null!==n&&mt(n),e.blockedOn=t,!1}return!0}function jt(e,t,n){Dt(e)&&n.delete(t)}function Rt(){for(gt=!1;0<_t.length;){var e=_t[0];if(null!==e.blockedOn){null!==(e=Nn(e.blockedOn))&&yt(e);break}var t=Zt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:_t.shift()}null!==wt&&Dt(wt)&&(wt=null),null!==Et&&Dt(Et)&&(Et=null),null!==St&&Dt(St)&&(St=null),Ot.forEach(jt),xt.forEach(jt)}function Mt(e,t){e.blockedOn===t&&(e.blockedOn=null,gt||(gt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Rt)))}function Lt(e){function t(t){return Mt(t,e)}if(0<_t.length){Mt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==wt&&Mt(wt,e),null!==Et&&Mt(Et,e),null!==St&&Mt(St,e),Ot.forEach(t),xt.forEach(t),n=0;n<kt.length;n++)(r=kt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<kt.length&&null===(n=kt[0]).blockedOn;)Nt(n),null===n.blockedOn&&kt.shift()}var Ft={},Ut=new Map,Vt=new Map,Wt=["abort","abort",Ge,"animationEnd",Ke,"animationIteration",Qe,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Xe,"transitionEnd","waiting","waiting"];function Bt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[r],eventPriority:t},Vt.set(r,t),Ut.set(r,o),Ft[i]=o}}Bt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Bt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Bt(Wt,2);for(var qt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),zt=0;zt<qt.length;zt++)Vt.set(qt[zt],0);var Ht=o.unstable_UserBlockingPriority,Yt=o.unstable_runWithPriority,Gt=!0;function Kt(e,t){Qt(t,e,!1)}function Qt(e,t,n){var r=Vt.get(t);switch(void 0===r?2:r){case 0:r=Xt.bind(null,t,1,e);break;case 1:r=$t.bind(null,t,1,e);break;default:r=Jt.bind(null,t,1,e)}n?e.addEventListener(t,r,!0):e.addEventListener(t,r,!1)}function Xt(e,t,n,r){F||M();var i=Jt,o=F;F=!0;try{R(i,e,t,n,r)}finally{(F=o)||V()}}function $t(e,t,n,r){Yt(Ht,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){if(Gt)if(0<_t.length&&-1<Ct.indexOf(e))e=It(null,e,t,n,r),_t.push(e);else{var i=Zt(e,t,n,r);if(null===i)Pt(e,r);else if(-1<Ct.indexOf(e))e=It(i,e,t,n,r),_t.push(e);else if(!function(e,t,n,r,i){switch(t){case"focus":return wt=At(wt,e,t,n,r,i),!0;case"dragenter":return Et=At(Et,e,t,n,r,i),!0;case"mouseover":return St=At(St,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ot.set(o,At(Ot.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,xt.set(o,At(xt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r)){Pt(e,r),e=pt(e,r,null,t);try{W(dt,e)}finally{ht(e)}}}}function Zt(e,t,n,r){if(null!==(n=An(n=ct(r)))){var i=et(n);if(null===i)n=null;else{var o=i.tag;if(13===o){if(null!==(n=tt(i)))return n;n=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}e=pt(e,r,n,t);try{W(dt,e)}finally{ht(e)}return null}var en={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tn=["Webkit","ms","Moz","O"];function nn(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||en.hasOwnProperty(e)&&en[e]?(""+t).trim():t+"px"}function rn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=nn(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(en).forEach((function(e){tn.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),en[t]=en[e]}))}));var on=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sn(e,t){if(t){if(on[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62,""))}}function an(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var un=je;function cn(e,t){var n=Ze(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=x[t];for(var r=0;r<t.length;r++)vt(t[r],e,n)}function ln(){}function fn(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function hn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pn(e,t){var n,r=hn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hn(r)}}function dn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vn(){for(var e=window,t=fn();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=fn((e=t.contentWindow).document)}return t}function yn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var mn="$?",bn="$!",gn=null,_n=null;function wn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function En(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sn="function"===typeof setTimeout?setTimeout:void 0,On="function"===typeof clearTimeout?clearTimeout:void 0;function xn(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function kn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||n===bn||n===mn){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Cn=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+Cn,In="__reactEventHandlers$"+Cn,Pn="__reactContainere$"+Cn;function An(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=kn(e);null!==e;){if(n=e[Tn])return n;e=kn(e)}return t}n=(e=n).parentNode}return null}function Nn(e){return!(e=e[Tn]||e[Pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Dn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function jn(e){return e[In]||null}function Rn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function Mn(e,t){var n=e.stateNode;if(!n)return null;var r=d(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}function Ln(e,t,n){(t=Mn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Fn(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=Rn(t);for(t=n.length;0<t--;)Ln(n[t],"captured",e);for(t=0;t<n.length;t++)Ln(n[t],"bubbled",e)}}function Un(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=Mn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=it(n._dispatchListeners,t),n._dispatchInstances=it(n._dispatchInstances,e))}function Vn(e){e&&e.dispatchConfig.registrationName&&Un(e._targetInst,null,e)}function Wn(e){ot(e,Fn)}var Bn=null,qn=null,zn=null;function Hn(){if(zn)return zn;var e,t,n=qn,r=n.length,i="value"in Bn?Bn.value:Bn.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return zn=i.slice(e,1<t?1-t:void 0)}function Yn(){return!0}function Gn(){return!1}function Kn(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Yn:Gn,this.isPropagationStopped=Gn,this}function Qn(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function Xn(e){if(!(e instanceof this))throw Error(s(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function $n(e){e.eventPool=[],e.getPooled=Qn,e.release=Xn}i(Kn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yn)},persist:function(){this.isPersistent=Yn},isPersistent:Gn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Gn,this._dispatchInstances=this._dispatchListeners=null}}),Kn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Kn.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,$n(n),n},$n(Kn);var Jn=Kn.extend({data:null}),Zn=Kn.extend({data:null}),er=[9,13,27,32],tr=C&&"CompositionEvent"in window,nr=null;C&&"documentMode"in document&&(nr=document.documentMode);var rr=C&&"TextEvent"in window&&!nr,ir=C&&(!tr||nr&&8<nr&&11>=nr),or=String.fromCharCode(32),sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},ar=!1;function ur(e,t){switch(e){case"keyup":return-1!==er.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function cr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var lr=!1;var fr={eventTypes:sr,extractEvents:function(e,t,n,r){var i;if(tr)e:{switch(e){case"compositionstart":var o=sr.compositionStart;break e;case"compositionend":o=sr.compositionEnd;break e;case"compositionupdate":o=sr.compositionUpdate;break e}o=void 0}else lr?ur(e,n)&&(o=sr.compositionEnd):"keydown"===e&&229===n.keyCode&&(o=sr.compositionStart);return o?(ir&&"ko"!==n.locale&&(lr||o!==sr.compositionStart?o===sr.compositionEnd&&lr&&(i=Hn()):(qn="value"in(Bn=r)?Bn.value:Bn.textContent,lr=!0)),o=Jn.getPooled(o,t,n,r),i?o.data=i:null!==(i=cr(n))&&(o.data=i),Wn(o),i=o):i=null,(e=rr?function(e,t){switch(e){case"compositionend":return cr(t);case"keypress":return 32!==t.which?null:(ar=!0,or);case"textInput":return(e=t.data)===or&&ar?null:e;default:return null}}(e,n):function(e,t){if(lr)return"compositionend"===e||!tr&&ur(e,t)?(e=Hn(),zn=qn=Bn=null,lr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ir&&"ko"!==t.locale?null:t.data}}(e,n))?((t=Zn.getPooled(sr.beforeInput,t,n,r)).data=e,Wn(t)):t=null,null===i?t:null===t?i:[i,t]}},hr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!hr[e.type]:"textarea"===t}var dr={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function vr(e,t,n){return(e=Kn.getPooled(dr.change,e,t,n)).type="change",N(n),Wn(e),e}var yr=null,mr=null;function br(e){ut(e)}function gr(e){if(we(Dn(e)))return e}function _r(e,t){if("change"===e)return t}var wr=!1;function Er(){yr&&(yr.detachEvent("onpropertychange",Sr),mr=yr=null)}function Sr(e){if("value"===e.propertyName&&gr(mr))if(e=vr(mr,e,ct(e)),F)ut(e);else{F=!0;try{j(br,e)}finally{F=!1,V()}}}function Or(e,t,n){"focus"===e?(Er(),mr=n,(yr=t).attachEvent("onpropertychange",Sr)):"blur"===e&&Er()}function xr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return gr(mr)}function kr(e,t){if("click"===e)return gr(t)}function Cr(e,t){if("input"===e||"change"===e)return gr(t)}C&&(wr=lt("input")&&(!document.documentMode||9<document.documentMode));var Tr={eventTypes:dr,_isInputEventSupported:wr,extractEvents:function(e,t,n,r){var i=t?Dn(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var s=_r;else if(pr(i))if(wr)s=Cr;else{s=xr;var a=Or}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(s=kr);if(s&&(s=s(e,t)))return vr(s,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ce(i,"number",i.value)}},Ir=Kn.extend({view:null,detail:null}),Pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pr[e])&&!!t[e]}function Nr(){return Ar}var Dr=0,jr=0,Rr=!1,Mr=!1,Lr=Ir.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Nr,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Dr;return Dr=e.screenX,Rr?"mousemove"===e.type?e.screenX-t:0:(Rr=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=jr;return jr=e.screenY,Mr?"mousemove"===e.type?e.screenY-t:0:(Mr=!0,0)}}),Fr=Lr.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Ur={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Vr={eventTypes:Ur,extractEvents:function(e,t,n,r,i){var o="mouseover"===e||"pointerover"===e,s="mouseout"===e||"pointerout"===e;if(o&&0===(32&i)&&(n.relatedTarget||n.fromElement)||!s&&!o)return null;(o=r.window===r?r:(o=r.ownerDocument)?o.defaultView||o.parentWindow:window,s)?(s=t,null!==(t=(t=n.relatedTarget||n.toElement)?An(t):null)&&(t!==et(t)||5!==t.tag&&6!==t.tag)&&(t=null)):s=null;if(s===t)return null;if("mouseout"===e||"mouseover"===e)var a=Lr,u=Ur.mouseLeave,c=Ur.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(a=Fr,u=Ur.pointerLeave,c=Ur.pointerEnter,l="pointer");if(e=null==s?o:Dn(s),o=null==t?o:Dn(t),(u=a.getPooled(u,s,n,r)).type=l+"leave",u.target=e,u.relatedTarget=o,(n=a.getPooled(c,t,n,r)).type=l+"enter",n.target=o,n.relatedTarget=e,l=t,(r=s)&&l)e:{for(c=l,s=0,e=a=r;e;e=Rn(e))s++;for(e=0,t=c;t;t=Rn(t))e++;for(;0<s-e;)a=Rn(a),s--;for(;0<e-s;)c=Rn(c),e--;for(;s--;){if(a===c||a===c.alternate)break e;a=Rn(a),c=Rn(c)}a=null}else a=null;for(c=a,a=[];r&&r!==c&&(null===(s=r.alternate)||s!==c);)a.push(r),r=Rn(r);for(r=[];l&&l!==c&&(null===(s=l.alternate)||s!==c);)r.push(l),l=Rn(l);for(l=0;l<a.length;l++)Un(a[l],"bubbled",u);for(l=r.length;0<l--;)Un(r[l],"captured",n);return 0===(64&i)?[u]:[u,n]}};var Wr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Br=Object.prototype.hasOwnProperty;function qr(e,t){if(Wr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Br.call(t,n[r])||!Wr(e[n[r]],t[n[r]]))return!1;return!0}var zr=C&&"documentMode"in document&&11>=document.documentMode,Hr={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Yr=null,Gr=null,Kr=null,Qr=!1;function Xr(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qr||null==Yr||Yr!==fn(n)?null:("selectionStart"in(n=Yr)&&yn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Kr&&qr(Kr,n)?null:(Kr=n,(e=Kn.getPooled(Hr.select,Gr,e,t)).type="select",e.target=Yr,Wn(e),e))}var $r={eventTypes:Hr,extractEvents:function(e,t,n,r,i,o){if(!(o=!(i=o||(r.window===r?r.document:9===r.nodeType?r:r.ownerDocument)))){e:{i=Ze(i),o=x.onSelect;for(var s=0;s<o.length;s++)if(!i.has(o[s])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?Dn(t):window,e){case"focus":(pr(i)||"true"===i.contentEditable)&&(Yr=i,Gr=t,Kr=null);break;case"blur":Kr=Gr=Yr=null;break;case"mousedown":Qr=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qr=!1,Xr(n,r);case"selectionchange":if(zr)break;case"keydown":case"keyup":return Xr(n,r)}return null}},Jr=Kn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Zr=Kn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ei=Ir.extend({relatedTarget:null});function ti(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ni={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ri={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ii=Ir.extend({key:function(e){if(e.key){var t=ni[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ti(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ri[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Nr,charCode:function(e){return"keypress"===e.type?ti(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ti(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),oi=Lr.extend({dataTransfer:null}),si=Ir.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Nr}),ai=Kn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),ui=Lr.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),ci={eventTypes:Ft,extractEvents:function(e,t,n,r){var i=Ut.get(e);if(!i)return null;switch(e){case"keypress":if(0===ti(n))return null;case"keydown":case"keyup":e=ii;break;case"blur":case"focus":e=ei;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Lr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=oi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=si;break;case Ge:case Ke:case Qe:e=Jr;break;case Xe:e=ai;break;case"scroll":e=Ir;break;case"wheel":e=ui;break;case"copy":case"cut":case"paste":e=Zr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Fr;break;default:e=Kn}return Wn(t=e.getPooled(i,t,n,r)),t}};if(b)throw Error(s(101));b=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_(),d=jn,v=Nn,y=Dn,k({SimpleEventPlugin:ci,EnterLeaveEventPlugin:Vr,ChangeEventPlugin:Tr,SelectEventPlugin:$r,BeforeInputEventPlugin:fr});var li=[],fi=-1;function hi(e){0>fi||(e.current=li[fi],li[fi]=null,fi--)}function pi(e,t){fi++,li[fi]=e.current,e.current=t}var di={},vi={current:di},yi={current:!1},mi=di;function bi(e,t){var n=e.type.contextTypes;if(!n)return di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function gi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function _i(){hi(yi),hi(vi)}function wi(e,t,n){if(vi.current!==di)throw Error(s(168));pi(vi,t),pi(yi,n)}function Ei(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in e))throw Error(s(108,ye(t)||"Unknown",o));return i({},n,{},r)}function Si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||di,mi=vi.current,pi(vi,e),pi(yi,yi.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Ei(e,t,mi),r.__reactInternalMemoizedMergedChildContext=e,hi(yi),hi(vi),pi(vi,e)):hi(yi),pi(yi,n)}var xi=o.unstable_runWithPriority,ki=o.unstable_scheduleCallback,Ci=o.unstable_cancelCallback,Ti=o.unstable_requestPaint,Ii=o.unstable_now,Pi=o.unstable_getCurrentPriorityLevel,Ai=o.unstable_ImmediatePriority,Ni=o.unstable_UserBlockingPriority,Di=o.unstable_NormalPriority,ji=o.unstable_LowPriority,Ri=o.unstable_IdlePriority,Mi={},Li=o.unstable_shouldYield,Fi=void 0!==Ti?Ti:function(){},Ui=null,Vi=null,Wi=!1,Bi=Ii(),qi=1e4>Bi?Ii:function(){return Ii()-Bi};function zi(){switch(Pi()){case Ai:return 99;case Ni:return 98;case Di:return 97;case ji:return 96;case Ri:return 95;default:throw Error(s(332))}}function Hi(e){switch(e){case 99:return Ai;case 98:return Ni;case 97:return Di;case 96:return ji;case 95:return Ri;default:throw Error(s(332))}}function Yi(e,t){return e=Hi(e),xi(e,t)}function Gi(e,t,n){return e=Hi(e),ki(e,t,n)}function Ki(e){return null===Ui?(Ui=[e],Vi=ki(Ai,Xi)):Ui.push(e),Mi}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ci(e)}Xi()}function Xi(){if(!Wi&&null!==Ui){Wi=!0;var e=0;try{var t=Ui;Yi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ui=null}catch(n){throw null!==Ui&&(Ui=Ui.slice(e+1)),ki(Ai,Qi),n}finally{Wi=!1}}}function $i(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Ji(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Zi={current:null},eo=null,to=null,no=null;function ro(){no=to=eo=null}function io(e){var t=Zi.current;hi(Zi),e.type._context._currentValue=t}function oo(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function so(e,t){eo=e,no=to=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(js=!0),e.firstContext=null)}function ao(e,t){if(no!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(no=e,t=1073741823),t={context:e,observedBits:t,next:null},null===to){if(null===eo)throw Error(s(308));to=t,eo.dependencies={expirationTime:0,firstContext:t,responders:null}}else to=to.next=t;return e._currentValue}var uo=!1;function co(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function fo(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function ho(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function po(e,t){var n=e.alternate;null!==n&&lo(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function vo(e,t,n,r){var o=e.updateQueue;uo=!1;var s=o.baseQueue,a=o.shared.pending;if(null!==a){if(null!==s){var u=s.next;s.next=a.next,a.next=u}s=a,o.shared.pending=null,null!==(u=e.alternate)&&(null!==(u=u.updateQueue)&&(u.baseQueue=a))}if(null!==s){u=s.next;var c=o.baseState,l=0,f=null,h=null,p=null;if(null!==u)for(var d=u;;){if((a=d.expirationTime)<r){var v={expirationTime:d.expirationTime,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null};null===p?(h=p=v,f=c):p=p.next=v,a>l&&(l=a)}else{null!==p&&(p=p.next={expirationTime:1073741823,suspenseConfig:d.suspenseConfig,tag:d.tag,payload:d.payload,callback:d.callback,next:null}),pu(a,d.suspenseConfig);e:{var y=e,m=d;switch(a=t,v=n,m.tag){case 1:if("function"===typeof(y=m.payload)){c=y.call(v,c,a);break e}c=y;break e;case 3:y.effectTag=-4097&y.effectTag|64;case 0:if(null===(a="function"===typeof(y=m.payload)?y.call(v,c,a):y)||void 0===a)break e;c=i({},c,a);break e;case 2:uo=!0}}null!==d.callback&&(e.effectTag|=32,null===(a=o.effects)?o.effects=[d]:a.push(d))}if(null===(d=d.next)||d===u){if(null===(a=o.shared.pending))break;d=s.next=a.next,a.next=u,o.baseQueue=s=a,o.shared.pending=null}}null===p?f=c:p.next=h,o.baseState=f,o.baseQueue=p,du(l),e.expirationTime=l,e.memoizedState=c}}function yo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=i,i=n,"function"!==typeof r)throw Error(s(191,r));r.call(i)}}}var mo=X.ReactCurrentBatchConfig,bo=(new r.Component).refs;function go(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var _o={isMounted:function(e){return!!(e=e._reactInternalFiber)&&et(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=mo.suspense;(i=fo(r=tu(r,e,i),i)).payload=t,void 0!==n&&null!==n&&(i.callback=n),ho(e,i),nu(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=eu(),i=mo.suspense;(i=fo(r=tu(r,e,i),i)).tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ho(e,i),nu(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=eu(),r=mo.suspense;(r=fo(n=tu(n,e,r),r)).tag=2,void 0!==t&&null!==t&&(r.callback=t),ho(e,r),nu(e,n)}};function wo(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!qr(n,r)||!qr(i,o))}function Eo(e,t,n){var r=!1,i=di,o=t.contextType;return"object"===typeof o&&null!==o?o=ao(o):(i=gi(t)?mi:vi.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?bi(e,i):di),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=_o,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function So(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&_o.enqueueReplaceState(t,t.state,null)}function Oo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=bo,co(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ao(o):(o=gi(t)?mi:vi.current,i.context=bi(e,o)),vo(e,n,i,r),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(go(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&_o.enqueueReplaceState(i,i.state,null),vo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.effectTag|=4)}var xo=Array.isArray;function ko(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===bo&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Co(e,t){if("textarea"!==e.type)throw Error(s(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function To(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=ju(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ko(e,t,n),r.return=e,r):((r=Ru(n.type,n.key,n.props,null,e.mode,r)).ref=ko(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Mu(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Ru(t.type,t.key,t.props,null,e.mode,n)).ref=ko(e,null,t),n.return=e,n;case te:return(t=Fu(t,e.mode,n)).return=e,t}if(xo(t)||ve(t))return(t=Mu(t,e.mode,n,null)).return=e,t;Co(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===i?n.type===ne?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case te:return n.key===i?l(e,t,n,r):null}if(xo(n)||ve(n))return null!==i?null:f(e,t,n,r,null);Co(e,n)}return null}function d(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case ee:return e=e.get(null===r.key?n:r.key)||null,r.type===ne?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case te:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xo(r)||ve(r))return f(t,e=e.get(n)||null,r,i,null);Co(t,r)}return null}function v(i,s,a,u){for(var c=null,l=null,f=s,v=s=0,y=null;null!==f&&v<a.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=p(i,f,a[v],u);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),s=o(m,s,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===a.length)return n(i,f),c;if(null===f){for(;v<a.length;v++)null!==(f=h(i,a[v],u))&&(s=o(f,s,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<a.length;v++)null!==(y=d(f,i,v,a[v],u))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),s=o(y,s,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,a,u,c){var l=ve(u);if("function"!==typeof l)throw Error(s(150));if(null==(u=l.call(u)))throw Error(s(151));for(var f=l=null,v=a,y=a=0,m=null,b=u.next();null!==v&&!b.done;y++,b=u.next()){v.index>y?(m=v,v=null):m=v.sibling;var g=p(i,v,b.value,c);if(null===g){null===v&&(v=m);break}e&&v&&null===g.alternate&&t(i,v),a=o(g,a,y),null===f?l=g:f.sibling=g,f=g,v=m}if(b.done)return n(i,v),l;if(null===v){for(;!b.done;y++,b=u.next())null!==(b=h(i,b.value,c))&&(a=o(b,a,y),null===f?l=b:f.sibling=b,f=b);return l}for(v=r(i,v);!b.done;y++,b=u.next())null!==(b=d(v,i,y,b.value,c))&&(e&&null!==b.alternate&&v.delete(null===b.key?y:b.key),a=o(b,a,y),null===f?l=b:f.sibling=b,f=b);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,o,u){var c="object"===typeof o&&null!==o&&o.type===ne&&null===o.key;c&&(o=o.props.children);var l="object"===typeof o&&null!==o;if(l)switch(o.$$typeof){case ee:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(o.type===ne){n(e,c.sibling),(r=i(c,o.props.children)).return=e,e=r;break e}}else if(c.elementType===o.type){n(e,c.sibling),(r=i(c,o.props)).ref=ko(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===ne?((r=Mu(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=Ru(o.type,o.key,o.props,null,e.mode,u)).ref=ko(e,r,o),u.return=e,e=u)}return a(e);case te:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Fu(o,e.mode,u)).return=e,e=r}return a(e)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Lu(o,e.mode,u)).return=e,e=r),a(e);if(xo(o))return v(e,r,o,u);if(ve(o))return y(e,r,o,u);if(l&&Co(e,o),"undefined"===typeof o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(s(152,e.displayName||e.name||"Component"))}return n(e,r)}}var Io=To(!0),Po=To(!1),Ao={},No={current:Ao},Do={current:Ao},jo={current:Ao};function Ro(e){if(e===Ao)throw Error(s(174));return e}function Mo(e,t){switch(pi(jo,t),pi(Do,e),pi(No,Ao),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Le(null,"");break;default:t=Le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}hi(No),pi(No,t)}function Lo(){hi(No),hi(Do),hi(jo)}function Fo(e){Ro(jo.current);var t=Ro(No.current),n=Le(t,e.type);t!==n&&(pi(Do,e),pi(No,n))}function Uo(e){Do.current===e&&(hi(No),hi(Do))}var Vo={current:0};function Wo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||n.data===mn||n.data===bn))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Bo(e,t){return{responder:e,props:t}}var qo=X.ReactCurrentDispatcher,zo=X.ReactCurrentBatchConfig,Ho=0,Yo=null,Go=null,Ko=null,Qo=!1;function Xo(){throw Error(s(321))}function $o(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Wr(e[n],t[n]))return!1;return!0}function Jo(e,t,n,r,i,o){if(Ho=o,Yo=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,qo.current=null===e||null===e.memoizedState?ws:Es,e=n(r,i),t.expirationTime===Ho){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(s(301));o+=1,Ko=Go=null,t.updateQueue=null,qo.current=Ss,e=n(r,i)}while(t.expirationTime===Ho)}if(qo.current=_s,t=null!==Go&&null!==Go.next,Ho=0,Ko=Go=Yo=null,Qo=!1,t)throw Error(s(300));return e}function Zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Ko?Yo.memoizedState=Ko=e:Ko=Ko.next=e,Ko}function es(){if(null===Go){var e=Yo.alternate;e=null!==e?e.memoizedState:null}else e=Go.next;var t=null===Ko?Yo.memoizedState:Ko.next;if(null!==t)Ko=t,Go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(Go=e).memoizedState,baseState:Go.baseState,baseQueue:Go.baseQueue,queue:Go.queue,next:null},null===Ko?Yo.memoizedState=Ko=e:Ko=Ko.next=e}return Ko}function ts(e,t){return"function"===typeof t?t(e):t}function ns(e){var t=es(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=Go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=o=null,c=i;do{var l=c.expirationTime;if(l<Ho){var f={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(a=u=f,o=r):u=u.next=f,l>Yo.expirationTime&&(Yo.expirationTime=l,du(l))}else null!==u&&(u=u.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),pu(l,c.suspenseConfig),r=c.eagerReducer===e?c.eagerState:e(r,c.action);c=c.next}while(null!==c&&c!==i);null===u?o=r:u.next=a,Wr(r,t.memoizedState)||(js=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function rs(e){var t=es(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);Wr(o,t.memoizedState)||(js=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function is(e){var t=Zo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ts,lastRenderedState:e}).dispatch=gs.bind(null,Yo,e),[t.memoizedState,e]}function os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Yo.updateQueue)?(t={lastEffect:null},Yo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ss(){return es().memoizedState}function as(e,t,n,r){var i=Zo();Yo.effectTag|=e,i.memoizedState=os(1|t,n,void 0,void 0===r?null:r)}function us(e,t,n,r){var i=es();r=void 0===r?null:r;var o=void 0;if(null!==Go){var s=Go.memoizedState;if(o=s.destroy,null!==r&&$o(r,s.deps))return void os(t,n,o,r)}Yo.effectTag|=e,i.memoizedState=os(1|t,n,o,r)}function cs(e,t){return as(516,4,e,t)}function ls(e,t){return us(516,4,e,t)}function fs(e,t){return us(4,2,e,t)}function hs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ps(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,us(4,2,hs.bind(null,t,e),n)}function ds(){}function vs(e,t){return Zo().memoizedState=[e,void 0===t?null:t],e}function ys(e,t){var n=es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$o(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ms(e,t){var n=es();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&$o(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function bs(e,t,n){var r=zi();Yi(98>r?98:r,(function(){e(!0)})),Yi(97<r?97:r,(function(){var r=zo.suspense;zo.suspense=void 0===t?null:t;try{e(!1),n()}finally{zo.suspense=r}}))}function gs(e,t,n){var r=eu(),i=mo.suspense;i={expirationTime:r=tu(r,e,i),suspenseConfig:i,action:n,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Yo||null!==o&&o===Yo)Qo=!0,i.expirationTime=Ho,Yo.expirationTime=Ho;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.eagerReducer=o,i.eagerState=a,Wr(a,s))return}catch(u){}nu(e,r)}}var _s={readContext:ao,useCallback:Xo,useContext:Xo,useEffect:Xo,useImperativeHandle:Xo,useLayoutEffect:Xo,useMemo:Xo,useReducer:Xo,useRef:Xo,useState:Xo,useDebugValue:Xo,useResponder:Xo,useDeferredValue:Xo,useTransition:Xo},ws={readContext:ao,useCallback:vs,useContext:ao,useEffect:cs,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,as(4,2,hs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return as(4,2,e,t)},useMemo:function(e,t){var n=Zo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Zo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=gs.bind(null,Yo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Zo().memoizedState=e},useState:is,useDebugValue:ds,useResponder:Bo,useDeferredValue:function(e,t){var n=is(e),r=n[0],i=n[1];return cs((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=is(!1),n=t[0];return t=t[1],[vs(bs.bind(null,t,e),[t,e]),n]}},Es={readContext:ao,useCallback:ys,useContext:ao,useEffect:ls,useImperativeHandle:ps,useLayoutEffect:fs,useMemo:ms,useReducer:ns,useRef:ss,useState:function(){return ns(ts)},useDebugValue:ds,useResponder:Bo,useDeferredValue:function(e,t){var n=ns(ts),r=n[0],i=n[1];return ls((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=ns(ts),n=t[0];return t=t[1],[ys(bs.bind(null,t,e),[t,e]),n]}},Ss={readContext:ao,useCallback:ys,useContext:ao,useEffect:ls,useImperativeHandle:ps,useLayoutEffect:fs,useMemo:ms,useReducer:rs,useRef:ss,useState:function(){return rs(ts)},useDebugValue:ds,useResponder:Bo,useDeferredValue:function(e,t){var n=rs(ts),r=n[0],i=n[1];return ls((function(){var n=zo.suspense;zo.suspense=void 0===t?null:t;try{i(e)}finally{zo.suspense=n}}),[e,t]),r},useTransition:function(e){var t=rs(ts),n=t[0];return t=t[1],[ys(bs.bind(null,t,e),[t,e]),n]}},Os=null,xs=null,ks=!1;function Cs(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ts(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Is(e){if(ks){var t=xs;if(t){var n=t;if(!Ts(e,t)){if(!(t=xn(n.nextSibling))||!Ts(e,t))return e.effectTag=-1025&e.effectTag|2,ks=!1,void(Os=e);Cs(Os,n)}Os=e,xs=xn(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,ks=!1,Os=e}}function Ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Os=e}function As(e){if(e!==Os)return!1;if(!ks)return Ps(e),ks=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!En(t,e.memoizedProps))for(t=xs;t;)Cs(e,t),t=xn(t.nextSibling);if(Ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){xs=xn(e.nextSibling);break e}t--}else"$"!==n&&n!==bn&&n!==mn||t++}e=e.nextSibling}xs=null}}else xs=Os?xn(e.stateNode.nextSibling):null;return!0}function Ns(){xs=Os=null,ks=!1}var Ds=X.ReactCurrentOwner,js=!1;function Rs(e,t,n,r){t.child=null===e?Po(t,null,n,r):Io(t,e.child,n,r)}function Ms(e,t,n,r,i){n=n.render;var o=t.ref;return so(t,i),r=Jo(e,t,n,r,o,i),null===e||js?(t.effectTag|=1,Rs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Js(e,t,i))}function Ls(e,t,n,r,i,o){if(null===e){var s=n.type;return"function"!==typeof s||Du(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ru(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Fs(e,t,s,r,i,o))}return s=e.child,i<o&&(i=s.memoizedProps,(n=null!==(n=n.compare)?n:qr)(i,r)&&e.ref===t.ref)?Js(e,t,o):(t.effectTag|=1,(e=ju(s,r)).ref=t.ref,e.return=t,t.child=e)}function Fs(e,t,n,r,i,o){return null!==e&&qr(e.memoizedProps,r)&&e.ref===t.ref&&(js=!1,i<o)?(t.expirationTime=e.expirationTime,Js(e,t,o)):Vs(e,t,n,r,o)}function Us(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Vs(e,t,n,r,i){var o=gi(n)?mi:vi.current;return o=bi(t,o),so(t,i),n=Jo(e,t,n,r,o,i),null===e||js?(t.effectTag|=1,Rs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Js(e,t,i))}function Ws(e,t,n,r,i){if(gi(n)){var o=!0;Si(t)}else o=!1;if(so(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Eo(t,n,r),Oo(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var u=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=ao(c):c=bi(t,c=gi(n)?mi:vi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;f||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==c)&&So(t,s,r,c),uo=!1;var h=t.memoizedState;s.state=h,vo(t,r,s,i),u=t.memoizedState,a!==r||h!==u||yi.current||uo?("function"===typeof l&&(go(t,n,l,r),u=t.memoizedState),(a=uo||wo(t,n,a,r,h,u,c))?(f||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.effectTag|=4)):("function"===typeof s.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.effectTag|=4),r=!1)}else s=t.stateNode,lo(e,t),a=t.memoizedProps,s.props=t.type===t.elementType?a:Ji(t.type,a),u=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=ao(c):c=bi(t,c=gi(n)?mi:vi.current),(f="function"===typeof(l=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||u!==c)&&So(t,s,r,c),uo=!1,u=t.memoizedState,s.state=u,vo(t,r,s,i),h=t.memoizedState,a!==r||u!==h||yi.current||uo?("function"===typeof l&&(go(t,n,l,r),h=t.memoizedState),(l=uo||wo(t,n,a,r,u,h,c))?(f||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof s.componentDidUpdate&&(t.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=c,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return Bs(e,t,n,r,o,i)}function Bs(e,t,n,r,i,o){Us(e,t);var s=0!==(64&t.effectTag);if(!r&&!s)return i&&Oi(t,n,!1),Js(e,t,o);r=t.stateNode,Ds.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&s?(t.child=Io(t,e.child,null,o),t.child=Io(t,null,a,o)):Rs(e,t,a,o),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function qs(e){var t=e.stateNode;t.pendingContext?wi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&wi(0,t.context,!1),Mo(e,t.containerInfo)}var zs,Hs,Ys,Gs={dehydrated:null,retryTime:0};function Ks(e,t,n){var r,i=t.mode,o=t.pendingProps,s=Vo.current,a=!1;if((r=0!==(64&t.effectTag))||(r=0!==(2&s)&&(null===e||null!==e.memoizedState)),r?(a=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(s|=1),pi(Vo,1&s),null===e){if(void 0!==o.fallback&&Is(t),a){if(a=o.fallback,(o=Mu(null,i,0,null)).return=t,0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Mu(a,i,n,null)).return=t,o.sibling=n,t.memoizedState=Gs,t.child=o,n}return i=o.children,t.memoizedState=null,t.child=Po(t,null,i,n)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,a){if(o=o.fallback,(n=ju(e,e.pendingProps)).return=t,0===(2&t.mode)&&(a=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=a;null!==a;)a.return=n,a=a.sibling;return(i=ju(i,o)).return=t,n.sibling=i,n.childExpirationTime=0,t.memoizedState=Gs,t.child=n,i}return n=Io(t,e.child,o.children,n),t.memoizedState=null,t.child=n}if(e=e.child,a){if(a=o.fallback,(o=Mu(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0===(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(n=Mu(a,i,n,null)).return=t,o.sibling=n,n.effectTag|=2,o.childExpirationTime=0,t.memoizedState=Gs,t.child=o,n}return t.memoizedState=null,t.child=Io(t,e,o.children,n)}function Qs(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),oo(e.return,t)}function Xs(e,t,n,r,i,o){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailExpiration:0,tailMode:i,lastEffect:o}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailExpiration=0,s.tailMode=i,s.lastEffect=o)}function $s(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Rs(e,t,r.children,n),0!==(2&(r=Vo.current)))r=1&r|2,t.effectTag|=64;else{if(null!==e&&0!==(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Qs(e,n);else if(19===e.tag)Qs(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(pi(Vo,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Wo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Xs(t,!1,i,n,o,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Wo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Xs(t,!0,n,null,o,t.lastEffect);break;case"together":Xs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Js(e,t,n){null!==e&&(t.dependencies=e.dependencies);var r=t.expirationTime;if(0!==r&&du(r),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=ju(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=ju(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zs(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ea(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(t.type)&&_i(),null;case 3:return Lo(),hi(yi),hi(vi),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!As(t)||(t.effectTag|=4),null;case 5:Uo(t),n=Ro(jo.current);var o=t.type;if(null!==e&&null!=t.stateNode)Hs(e,t,o,r,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!r){if(null===t.stateNode)throw Error(s(166));return null}if(e=Ro(No.current),As(t)){r=t.stateNode,o=t.type;var a=t.memoizedProps;switch(r[Tn]=t,r[In]=a,o){case"iframe":case"object":case"embed":Kt("load",r);break;case"video":case"audio":for(e=0;e<$e.length;e++)Kt($e[e],r);break;case"source":Kt("error",r);break;case"img":case"image":case"link":Kt("error",r),Kt("load",r);break;case"form":Kt("reset",r),Kt("submit",r);break;case"details":Kt("toggle",r);break;case"input":Se(r,a),Kt("invalid",r),cn(n,"onChange");break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Kt("invalid",r),cn(n,"onChange");break;case"textarea":Ae(r,a),Kt("invalid",r),cn(n,"onChange")}for(var u in sn(o,a),e=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(e=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(e=["children",""+c]):O.hasOwnProperty(u)&&null!=c&&cn(n,u)}switch(o){case"input":_e(r),ke(r,a,!0);break;case"textarea":_e(r),De(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ln)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(u=9===n.nodeType?n:n.ownerDocument,e===un&&(e=Me(o)),e===un?"script"===o?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(o,{is:r.is}):(e=u.createElement(o),"select"===o&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,o),e[Tn]=t,e[In]=r,zs(e,t),t.stateNode=e,u=an(o,r),o){case"iframe":case"object":case"embed":Kt("load",e),c=r;break;case"video":case"audio":for(c=0;c<$e.length;c++)Kt($e[c],e);c=r;break;case"source":Kt("error",e),c=r;break;case"img":case"image":case"link":Kt("error",e),Kt("load",e),c=r;break;case"form":Kt("reset",e),Kt("submit",e),c=r;break;case"details":Kt("toggle",e),c=r;break;case"input":Se(e,r),c=Ee(e,r),Kt("invalid",e),cn(n,"onChange");break;case"option":c=Te(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},c=i({},r,{value:void 0}),Kt("invalid",e),cn(n,"onChange");break;case"textarea":Ae(e,r),c=Pe(e,r),Kt("invalid",e),cn(n,"onChange");break;default:c=r}sn(o,c);var l=c;for(a in l)if(l.hasOwnProperty(a)){var f=l[a];"style"===a?rn(e,f):"dangerouslySetInnerHTML"===a?null!=(f=f?f.__html:void 0)&&Ve(e,f):"children"===a?"string"===typeof f?("textarea"!==o||""!==f)&&We(e,f):"number"===typeof f&&We(e,""+f):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(O.hasOwnProperty(a)?null!=f&&cn(n,a):null!=f&&$(e,a,f,u))}switch(o){case"input":_e(e),ke(e,r,!1);break;case"textarea":_e(e),De(e);break;case"option":null!=r.value&&e.setAttribute("value",""+be(r.value));break;case"select":e.multiple=!!r.multiple,null!=(n=r.value)?Ie(e,!!r.multiple,n,!1):null!=r.defaultValue&&Ie(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof c.onClick&&(e.onclick=ln)}wn(o,r)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Ys(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));n=Ro(jo.current),Ro(No.current),As(t)?(n=t.stateNode,r=t.memoizedProps,n[Tn]=t,n.nodeValue!==r&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Tn]=t,t.stateNode=n)}return null;case 13:return hi(Vo),r=t.memoizedState,0!==(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==r,r=!1,null===e?void 0!==t.memoizedProps.fallback&&As(t):(r=null!==(o=e.memoizedState),n||null===o||null!==(o=e.child.sibling)&&(null!==(a=t.firstEffect)?(t.firstEffect=o,o.nextEffect=a):(t.firstEffect=t.lastEffect=o,o.nextEffect=null),o.effectTag=8)),n&&!r&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Vo.current)?Ra===Ta&&(Ra=Ia):(Ra!==Ta&&Ra!==Ia||(Ra=Pa),0!==Va&&null!==Na&&(Wu(Na,ja),Bu(Na,Va)))),(n||r)&&(t.effectTag|=4),null);case 4:return Lo(),null;case 10:return io(t),null;case 19:if(hi(Vo),null===(r=t.memoizedState))return null;if(o=0!==(64&t.effectTag),null===(a=r.rendering)){if(o)Zs(r,!1);else if(Ra!==Ta||null!==e&&0!==(64&e.effectTag))for(a=t.child;null!==a;){if(null!==(e=Wo(a))){for(t.effectTag|=64,Zs(r,!1),null!==(o=e.updateQueue)&&(t.updateQueue=o,t.effectTag|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=t.child;null!==r;)a=n,(o=r).effectTag&=2,o.nextEffect=null,o.firstEffect=null,o.lastEffect=null,null===(e=o.alternate)?(o.childExpirationTime=0,o.expirationTime=a,o.child=null,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null):(o.childExpirationTime=e.childExpirationTime,o.expirationTime=e.expirationTime,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,a=e.dependencies,o.dependencies=null===a?null:{expirationTime:a.expirationTime,firstContext:a.firstContext,responders:a.responders}),r=r.sibling;return pi(Vo,1&Vo.current|2),t.child}a=a.sibling}}else{if(!o)if(null!==(e=Wo(a))){if(t.effectTag|=64,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Zs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*qi()-r.renderingStartTime>r.tailExpiration&&1<n&&(t.effectTag|=64,o=!0,Zs(r,!1),t.expirationTime=t.childExpirationTime=n-1);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(n=r.last)?n.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(0===r.tailExpiration&&(r.tailExpiration=qi()+500),n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=qi(),n.sibling=null,t=Vo.current,pi(Vo,o?1&t|2:1&t),n):null}throw Error(s(156,t.tag))}function ta(e){switch(e.tag){case 1:gi(e.type)&&_i();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(Lo(),hi(yi),hi(vi),0!==(64&(t=e.effectTag)))throw Error(s(285));return e.effectTag=-4097&t|64,e;case 5:return Uo(e),null;case 13:return hi(Vo),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return hi(Vo),null;case 4:return Lo(),null;case 10:return io(e),null;default:return null}}function na(e,t){return{value:e,source:t,stack:me(t)}}zs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Hs=function(e,t,n,r,o){var s=e.memoizedProps;if(s!==r){var a,u,c=t.stateNode;switch(Ro(No.current),e=null,n){case"input":s=Ee(c,s),r=Ee(c,r),e=[];break;case"option":s=Te(c,s),r=Te(c,r),e=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":s=Pe(c,s),r=Pe(c,r),e=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(c.onclick=ln)}for(a in sn(n,r),n=null,s)if(!r.hasOwnProperty(a)&&s.hasOwnProperty(a)&&null!=s[a])if("style"===a)for(u in c=s[a])c.hasOwnProperty(u)&&(n||(n={}),n[u]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(O.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in r){var l=r[a];if(c=null!=s?s[a]:void 0,r.hasOwnProperty(a)&&l!==c&&(null!=l||null!=c))if("style"===a)if(c){for(u in c)!c.hasOwnProperty(u)||l&&l.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in l)l.hasOwnProperty(u)&&c[u]!==l[u]&&(n||(n={}),n[u]=l[u])}else n||(e||(e=[]),e.push(a,n)),n=l;else"dangerouslySetInnerHTML"===a?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(a,l)):"children"===a?c===l||"string"!==typeof l&&"number"!==typeof l||(e=e||[]).push(a,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(O.hasOwnProperty(a)?(null!=l&&cn(o,a),e||c===l||(e=[])):(e=e||[]).push(a,l))}n&&(e=e||[]).push("style",n),o=e,(t.updateQueue=o)&&(t.effectTag|=4)}},Ys=function(e,t,n,r){n!==r&&(t.effectTag|=4)};var ra="function"===typeof WeakSet?WeakSet:Set;function ia(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=me(n)),null!==n&&ye(n.type),t=t.value,null!==e&&1===e.tag&&ye(e.type);try{console.error(t)}catch(i){setTimeout((function(){throw i}))}}function oa(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){ku(e,n)}else t.current=null}function sa(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 3:case 5:case 6:case 4:case 17:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return}throw Error(s(163))}function aa(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.destroy;n.destroy=void 0,void 0!==r&&r()}n=n.next}while(n!==t)}}function ua(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ca(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ua(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps);e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&yo(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}yo(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&wn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Lt(n)))))}throw Error(s(163))}function la(e,t,n){switch("function"===typeof Pu&&Pu(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e.next;Yi(97<n?97:n,(function(){var e=r;do{var n=e.destroy;if(void 0!==n){var i=t;try{n()}catch(o){ku(i,o)}}e=e.next}while(e!==r)}))}break;case 1:oa(t),"function"===typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(n){ku(e,n)}}(t,n);break;case 5:oa(t);break;case 4:ya(e,t,n)}}function fa(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&fa(t)}function ha(e){return 5===e.tag||3===e.tag||4===e.tag}function pa(e){e:{for(var t=e.return;null!==t;){if(ha(t)){var n=t;break e}t=t.return}throw Error(s(160))}switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(s(161))}16&n.effectTag&&(We(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ha(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}r?da(e,n,t):va(e,n,t)}function da(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ln));else if(4!==r&&null!==(e=e.child))for(da(e,t,n),e=e.sibling;null!==e;)da(e,t,n),e=e.sibling}function va(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function ya(e,t,n){for(var r,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(s(160));switch(r=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var u=e,c=o,l=n,f=c;;)if(la(u,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(u=r,c=o.stateNode,8===u.nodeType?u.parentNode.removeChild(c):u.removeChild(c)):r.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(la(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function ma(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void aa(3,t);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[In]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Oe(n,r),an(e,i),t=an(e,r),i=0;i<o.length;i+=2){var a=o[i],u=o[i+1];"style"===a?rn(n,u):"dangerouslySetInnerHTML"===a?Ve(n,u):"children"===a?We(n,u):$(n,a,u,t)}switch(e){case"input":xe(n,r);break;case"textarea":Ne(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(e=r.value)?Ie(n,!!r.multiple,e,!1):t!==!!r.multiple&&(null!=r.defaultValue?Ie(n,!!r.multiple,r.defaultValue,!0):Ie(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(s(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,Lt(t.containerInfo)));case 13:if(n=t,null===t.memoizedState?r=!1:(r=!0,n=t.child,Ba=qi()),null!==n)e:for(e=n;;){if(5===e.tag)o=e.stateNode,r?"function"===typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=void 0!==(i=e.memoizedProps.style)&&null!==i&&i.hasOwnProperty("display")?i.display:null,o.style.display=nn("display",i));else if(6===e.tag)e.stateNode.nodeValue=r?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void ba(t);case 19:return void ba(t)}throw Error(s(163))}function ba(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ra),t.forEach((function(t){var r=Tu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}var ga="function"===typeof WeakMap?WeakMap:Map;function _a(e,t,n){(n=fo(n,null)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){za||(za=!0,Ha=r),ia(e,t)},n}function wa(e,t,n){(n=fo(n,null)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ia(e,t),r(i)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ya?Ya=new Set([this]):Ya.add(this),ia(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var Ea,Sa=Math.ceil,Oa=X.ReactCurrentDispatcher,xa=X.ReactCurrentOwner,ka=16,Ca=32,Ta=0,Ia=3,Pa=4,Aa=0,Na=null,Da=null,ja=0,Ra=Ta,Ma=null,La=1073741823,Fa=1073741823,Ua=null,Va=0,Wa=!1,Ba=0,qa=null,za=!1,Ha=null,Ya=null,Ga=!1,Ka=null,Qa=90,Xa=null,$a=0,Ja=null,Za=0;function eu(){return 0!==(48&Aa)?1073741821-(qi()/10|0):0!==Za?Za:Za=1073741821-(qi()/10|0)}function tu(e,t,n){if(0===(2&(t=t.mode)))return 1073741823;var r=zi();if(0===(4&t))return 99===r?1073741823:1073741822;if(0!==(Aa&ka))return ja;if(null!==n)e=$i(e,0|n.timeoutMs||5e3,250);else switch(r){case 99:e=1073741823;break;case 98:e=$i(e,150,100);break;case 97:case 96:e=$i(e,5e3,250);break;case 95:e=2;break;default:throw Error(s(326))}return null!==Na&&e===ja&&--e,e}function nu(e,t){if(50<$a)throw $a=0,Ja=null,Error(s(185));if(null!==(e=ru(e,t))){var n=zi();1073741823===t?0!==(8&Aa)&&0===(48&Aa)?au(e):(ou(e),0===Aa&&Qi()):ou(e),0===(4&Aa)||98!==n&&99!==n||(null===Xa?Xa=new Map([[e,t]]):(void 0===(n=Xa.get(e))||n>t)&&Xa.set(e,t))}}function ru(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null!==i&&(Na===i&&(du(t),Ra===Pa&&Wu(i,ja)),Bu(i,t)),i}function iu(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!Vu(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function ou(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Ki(au.bind(null,e));else{var t=iu(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var r=eu();if(1073741823===t?r=99:1===t||2===t?r=95:r=0>=(r=10*(1073741821-t)-10*(1073741821-r))?99:250>=r?98:5250>=r?97:95,null!==n){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=r)return;n!==Mi&&Ci(n)}e.callbackExpirationTime=t,e.callbackPriority=r,t=1073741823===t?Ki(au.bind(null,e)):Gi(r,su.bind(null,e),{timeout:10*(1073741821-t)-qi()}),e.callbackNode=t}}}function su(e,t){if(Za=0,t)return qu(e,t=eu()),ou(e),null;var n=iu(e);if(0!==n){if(t=e.callbackNode,0!==(48&Aa))throw Error(s(327));if(Su(),e===Na&&n===ja||lu(e,n),null!==Da){var r=Aa;Aa|=ka;for(var i=hu();;)try{yu();break}catch(u){fu(e,u)}if(ro(),Aa=r,Oa.current=i,1===Ra)throw t=Ma,lu(e,n),Wu(e,n),ou(e),t;if(null===Da)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,r=Ra,Na=null,r){case Ta:case 1:throw Error(s(345));case 2:qu(e,2<n?2:n);break;case Ia:if(Wu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=gu(i)),1073741823===La&&10<(i=Ba+500-qi())){if(Wa){var o=e.lastPingedTime;if(0===o||o>=n){e.lastPingedTime=n,lu(e,n);break}}if(0!==(o=iu(e))&&o!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}e.timeoutHandle=Sn(_u.bind(null,e),i);break}_u(e);break;case Pa:if(Wu(e,n),n===(r=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=gu(i)),Wa&&(0===(i=e.lastPingedTime)||i>=n)){e.lastPingedTime=n,lu(e,n);break}if(0!==(i=iu(e))&&i!==n)break;if(0!==r&&r!==n){e.lastPingedTime=r;break}if(1073741823!==Fa?r=10*(1073741821-Fa)-qi():1073741823===La?r=0:(r=10*(1073741821-La)-5e3,0>(r=(i=qi())-r)&&(r=0),(n=10*(1073741821-n)-i)<(r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sa(r/1960))-r)&&(r=n)),10<r){e.timeoutHandle=Sn(_u.bind(null,e),r);break}_u(e);break;case 5:if(1073741823!==La&&null!==Ua){o=La;var a=Ua;if(0>=(r=0|a.busyMinDurationMs)?r=0:(i=0|a.busyDelayMs,r=(o=qi()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+r-o),10<r){Wu(e,n),e.timeoutHandle=Sn(_u.bind(null,e),r);break}}_u(e);break;default:throw Error(s(329))}if(ou(e),e.callbackNode===t)return su.bind(null,e)}}return null}function au(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!==(48&Aa))throw Error(s(327));if(Su(),e===Na&&t===ja||lu(e,t),null!==Da){var n=Aa;Aa|=ka;for(var r=hu();;)try{vu();break}catch(i){fu(e,i)}if(ro(),Aa=n,Oa.current=r,1===Ra)throw n=Ma,lu(e,t),Wu(e,t),ou(e),n;if(null!==Da)throw Error(s(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Na=null,_u(e),ou(e)}return null}function uu(e,t){var n=Aa;Aa|=1;try{return e(t)}finally{0===(Aa=n)&&Qi()}}function cu(e,t){var n=Aa;Aa&=-2,Aa|=8;try{return e(t)}finally{0===(Aa=n)&&Qi()}}function lu(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,On(n)),null!==Da)for(n=Da.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&_i();break;case 3:Lo(),hi(yi),hi(vi);break;case 5:Uo(r);break;case 4:Lo();break;case 13:case 19:hi(Vo);break;case 10:io(r)}n=n.return}Na=e,Da=ju(e.current,null),ja=t,Ra=Ta,Ma=null,Fa=La=1073741823,Ua=null,Va=0,Wa=!1}function fu(e,t){for(;;){try{if(ro(),qo.current=_s,Qo)for(var n=Yo.memoizedState;null!==n;){var r=n.queue;null!==r&&(r.pending=null),n=n.next}if(Ho=0,Ko=Go=Yo=null,Qo=!1,null===Da||null===Da.return)return Ra=1,Ma=t,Da=null;e:{var i=e,o=Da.return,s=Da,a=t;if(t=ja,s.effectTag|=2048,s.firstEffect=s.lastEffect=null,null!==a&&"object"===typeof a&&"function"===typeof a.then){var u=a;if(0===(2&s.mode)){var c=s.alternate;c?(s.updateQueue=c.updateQueue,s.memoizedState=c.memoizedState,s.expirationTime=c.expirationTime):(s.updateQueue=null,s.memoizedState=null)}var l=0!==(1&Vo.current),f=o;do{var h;if(h=13===f.tag){var p=f.memoizedState;if(null!==p)h=null!==p.dehydrated;else{var d=f.memoizedProps;h=void 0!==d.fallback&&(!0!==d.unstable_avoidThisFallback||!l)}}if(h){var v=f.updateQueue;if(null===v){var y=new Set;y.add(u),f.updateQueue=y}else v.add(u);if(0===(2&f.mode)){if(f.effectTag|=64,s.effectTag&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var m=fo(1073741823,null);m.tag=2,ho(s,m)}s.expirationTime=1073741823;break e}a=void 0,s=t;var b=i.pingCache;if(null===b?(b=i.pingCache=new ga,a=new Set,b.set(u,a)):void 0===(a=b.get(u))&&(a=new Set,b.set(u,a)),!a.has(s)){a.add(s);var g=Cu.bind(null,i,u,s);u.then(g,g)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);a=Error((ye(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+me(s))}5!==Ra&&(Ra=2),a=na(a,s),f=o;do{switch(f.tag){case 3:u=a,f.effectTag|=4096,f.expirationTime=t,po(f,_a(f,u,t));break e;case 1:u=a;var _=f.type,w=f.stateNode;if(0===(64&f.effectTag)&&("function"===typeof _.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Ya||!Ya.has(w)))){f.effectTag|=4096,f.expirationTime=t,po(f,wa(f,u,t));break e}}f=f.return}while(null!==f)}Da=bu(Da)}catch(E){t=E;continue}break}}function hu(){var e=Oa.current;return Oa.current=_s,null===e?_s:e}function pu(e,t){e<La&&2<e&&(La=e),null!==t&&e<Fa&&2<e&&(Fa=e,Ua=t)}function du(e){e>Va&&(Va=e)}function vu(){for(;null!==Da;)Da=mu(Da)}function yu(){for(;null!==Da&&!Li();)Da=mu(Da)}function mu(e){var t=Ea(e.alternate,e,ja);return e.memoizedProps=e.pendingProps,null===t&&(t=bu(e)),xa.current=null,t}function bu(e){Da=e;do{var t=Da.alternate;if(e=Da.return,0===(2048&Da.effectTag)){if(t=ea(t,Da,ja),1===ja||1!==Da.childExpirationTime){for(var n=0,r=Da.child;null!==r;){var i=r.expirationTime,o=r.childExpirationTime;i>n&&(n=i),o>n&&(n=o),r=r.sibling}Da.childExpirationTime=n}if(null!==t)return t;null!==e&&0===(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Da.firstEffect),null!==Da.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Da.firstEffect),e.lastEffect=Da.lastEffect),1<Da.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Da:e.firstEffect=Da,e.lastEffect=Da))}else{if(null!==(t=ta(Da)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Da.sibling))return t;Da=e}while(null!==Da);return Ra===Ta&&(Ra=5),null}function gu(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function _u(e){var t=zi();return Yi(99,wu.bind(null,e,t)),null}function wu(e,t){do{Su()}while(null!==Ka);if(0!==(48&Aa))throw Error(s(327));var n=e.finishedWork,r=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=gu(n);if(e.firstPendingTime=i,r<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:r<=e.firstSuspendedTime&&(e.firstSuspendedTime=r-1),r<=e.lastPingedTime&&(e.lastPingedTime=0),r<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Na&&(Da=Na=null,ja=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,i=n.firstEffect):i=n:i=n.firstEffect,null!==i){var o=Aa;Aa|=Ca,xa.current=null,gn=Gt;var a=vn();if(yn(a)){if("selectionStart"in a)var u={start:a.selectionStart,end:a.selectionEnd};else e:{var c=(u=(u=a.ownerDocument)&&u.defaultView||window).getSelection&&u.getSelection();if(c&&0!==c.rangeCount){u=c.anchorNode;var l=c.anchorOffset,f=c.focusNode;c=c.focusOffset;try{u.nodeType,f.nodeType}catch(k){u=null;break e}var h=0,p=-1,d=-1,v=0,y=0,m=a,b=null;t:for(;;){for(var g;m!==u||0!==l&&3!==m.nodeType||(p=h+l),m!==f||0!==c&&3!==m.nodeType||(d=h+c),3===m.nodeType&&(h+=m.nodeValue.length),null!==(g=m.firstChild);)b=m,m=g;for(;;){if(m===a)break t;if(b===u&&++v===l&&(p=h),b===f&&++y===c&&(d=h),null!==(g=m.nextSibling))break;b=(m=b).parentNode}m=g}u=-1===p||-1===d?null:{start:p,end:d}}else u=null}u=u||{start:0,end:0}}else u=null;_n={activeElementDetached:null,focusedElem:a,selectionRange:u},Gt=!1,qa=i;do{try{Eu()}catch(k){if(null===qa)throw Error(s(330));ku(qa,k),qa=qa.nextEffect}}while(null!==qa);qa=i;do{try{for(a=e,u=t;null!==qa;){var _=qa.effectTag;if(16&_&&We(qa.stateNode,""),128&_){var w=qa.alternate;if(null!==w){var E=w.ref;null!==E&&("function"===typeof E?E(null):E.current=null)}}switch(1038&_){case 2:pa(qa),qa.effectTag&=-3;break;case 6:pa(qa),qa.effectTag&=-3,ma(qa.alternate,qa);break;case 1024:qa.effectTag&=-1025;break;case 1028:qa.effectTag&=-1025,ma(qa.alternate,qa);break;case 4:ma(qa.alternate,qa);break;case 8:ya(a,l=qa,u),fa(l)}qa=qa.nextEffect}}catch(k){if(null===qa)throw Error(s(330));ku(qa,k),qa=qa.nextEffect}}while(null!==qa);if(E=_n,w=vn(),_=E.focusedElem,u=E.selectionRange,w!==_&&_&&_.ownerDocument&&dn(_.ownerDocument.documentElement,_)){null!==u&&yn(_)&&(w=u.start,void 0===(E=u.end)&&(E=w),"selectionStart"in _?(_.selectionStart=w,_.selectionEnd=Math.min(E,_.value.length)):(E=(w=_.ownerDocument||document)&&w.defaultView||window).getSelection&&(E=E.getSelection(),l=_.textContent.length,a=Math.min(u.start,l),u=void 0===u.end?a:Math.min(u.end,l),!E.extend&&a>u&&(l=u,u=a,a=l),l=pn(_,a),f=pn(_,u),l&&f&&(1!==E.rangeCount||E.anchorNode!==l.node||E.anchorOffset!==l.offset||E.focusNode!==f.node||E.focusOffset!==f.offset)&&((w=w.createRange()).setStart(l.node,l.offset),E.removeAllRanges(),a>u?(E.addRange(w),E.extend(f.node,f.offset)):(w.setEnd(f.node,f.offset),E.addRange(w))))),w=[];for(E=_;E=E.parentNode;)1===E.nodeType&&w.push({element:E,left:E.scrollLeft,top:E.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<w.length;_++)(E=w[_]).element.scrollLeft=E.left,E.element.scrollTop=E.top}Gt=!!gn,_n=gn=null,e.current=n,qa=i;do{try{for(_=e;null!==qa;){var S=qa.effectTag;if(36&S&&ca(_,qa.alternate,qa),128&S){w=void 0;var O=qa.ref;if(null!==O){var x=qa.stateNode;qa.tag,w=x,"function"===typeof O?O(w):O.current=w}}qa=qa.nextEffect}}catch(k){if(null===qa)throw Error(s(330));ku(qa,k),qa=qa.nextEffect}}while(null!==qa);qa=null,Fi(),Aa=o}else e.current=n;if(Ga)Ga=!1,Ka=e,Qa=t;else for(qa=i;null!==qa;)t=qa.nextEffect,qa.nextEffect=null,qa=t;if(0===(t=e.firstPendingTime)&&(Ya=null),1073741823===t?e===Ja?$a++:($a=0,Ja=e):$a=0,"function"===typeof Iu&&Iu(n.stateNode,r),ou(e),za)throw za=!1,e=Ha,Ha=null,e;return 0!==(8&Aa)||Qi(),null}function Eu(){for(;null!==qa;){var e=qa.effectTag;0!==(256&e)&&sa(qa.alternate,qa),0===(512&e)||Ga||(Ga=!0,Gi(97,(function(){return Su(),null}))),qa=qa.nextEffect}}function Su(){if(90!==Qa){var e=97<Qa?97:Qa;return Qa=90,Yi(e,Ou)}}function Ou(){if(null===Ka)return!1;var e=Ka;if(Ka=null,0!==(48&Aa))throw Error(s(331));var t=Aa;for(Aa|=Ca,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!==(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:aa(5,n),ua(5,n)}}catch(r){if(null===e)throw Error(s(330));ku(e,r)}n=e.nextEffect,e.nextEffect=null,e=n}return Aa=t,Qi(),!0}function xu(e,t,n){ho(e,t=_a(e,t=na(n,t),1073741823)),null!==(e=ru(e,1073741823))&&ou(e)}function ku(e,t){if(3===e.tag)xu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){xu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ya||!Ya.has(r))){ho(n,e=wa(n,e=na(t,e),1073741823)),null!==(n=ru(n,1073741823))&&ou(n);break}}n=n.return}}function Cu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),Na===e&&ja===n?Ra===Pa||Ra===Ia&&1073741823===La&&qi()-Ba<500?lu(e,ja):Wa=!0:Vu(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,ou(e)))}function Tu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=tu(t=eu(),e,null)),null!==(e=ru(e,t))&&ou(e)}Ea=function(e,t,n){var r=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||yi.current)js=!0;else{if(r<n){switch(js=!1,t.tag){case 3:qs(t),Ns();break;case 5:if(Fo(t),4&t.mode&&1!==n&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:gi(t.type)&&Si(t);break;case 4:Mo(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value,i=t.type._context,pi(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Ks(e,t,n):(pi(Vo,1&Vo.current),null!==(t=Js(e,t,n))?t.sibling:null);pi(Vo,1&Vo.current);break;case 19:if(r=t.childExpirationTime>=n,0!==(64&e.effectTag)){if(r)return $s(e,t,n);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),pi(Vo,Vo.current),!r)return null}return Js(e,t,n)}js=!1}}else js=!1;switch(t.expirationTime=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=bi(t,vi.current),so(t,n),i=Jo(null,t,r,e,i,n),t.effectTag|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,gi(r)){var o=!0;Si(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,co(t);var a=r.getDerivedStateFromProps;"function"===typeof a&&go(t,r,a,e),i.updater=_o,t.stateNode=i,i._reactInternalFiber=t,Oo(t,r,e,n),t=Bs(null,t,r,!0,o,n)}else t.tag=0,Rs(null,t,i,n),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=function(e){if("function"===typeof e)return Du(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===ue)return 11;if(e===fe)return 14}return 2}(i),e=Ji(i,e),o){case 0:t=Vs(null,t,i,e,n);break e;case 1:t=Ws(null,t,i,e,n);break e;case 11:t=Ms(null,t,i,e,n);break e;case 14:t=Ls(null,t,i,Ji(i.type,e),r,n);break e}throw Error(s(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Vs(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ws(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(qs(t),r=t.updateQueue,null===e||null===r)throw Error(s(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,lo(e,t),vo(t,r,null,n),(r=t.memoizedState.element)===i)Ns(),t=Js(e,t,n);else{if((i=t.stateNode.hydrate)&&(xs=xn(t.stateNode.containerInfo.firstChild),Os=t,i=ks=!0),i)for(n=Po(t,null,r,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else Rs(e,t,r,n),Ns();t=t.child}return t;case 5:return Fo(t),null===e&&Is(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,En(r,i)?a=null:null!==o&&En(r,o)&&(t.effectTag|=16),Us(e,t),4&t.mode&&1!==n&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Rs(e,t,a,n),t=t.child),t;case 6:return null===e&&Is(t),null;case 13:return Ks(e,t,n);case 4:return Mo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Io(t,null,r,n):Rs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ms(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Rs(e,t,t.pendingProps,n),t.child;case 8:case 12:return Rs(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var u=t.type._context;if(pi(Zi,u._currentValue),u._currentValue=o,null!==a)if(u=a.value,0===(o=Wr(u,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(a.children===i.children&&!yi.current){t=Js(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){a=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&o)){1===u.tag&&((l=fo(n,null)).tag=2,ho(u,l)),u.expirationTime<n&&(u.expirationTime=n),null!==(l=u.alternate)&&l.expirationTime<n&&(l.expirationTime=n),oo(u.return,n),c.expirationTime<n&&(c.expirationTime=n);break}l=l.next}}else a=10===u.tag&&u.type===t.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===t){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Rs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,so(t,n),r=r(i=ao(i,o.unstable_observedBits)),t.effectTag|=1,Rs(e,t,r,n),t.child;case 14:return o=Ji(i=t.type,t.pendingProps),Ls(e,t,i,o=Ji(i.type,o),r,n);case 15:return Fs(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,gi(r)?(e=!0,Si(t)):e=!1,so(t,n),Eo(t,r,i),Oo(t,r,i,n),Bs(null,t,r,!0,e,n);case 19:return $s(e,t,n)}throw Error(s(156,t.tag))};var Iu=null,Pu=null;function Au(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Nu(e,t,n,r){return new Au(e,t,n,r)}function Du(e){return!(!(e=e.prototype)||!e.isReactComponent)}function ju(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ru(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Du(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case ne:return Mu(n.children,i,o,t);case ae:a=8,i|=7;break;case re:a=8,i|=1;break;case ie:return(e=Nu(12,n,t,8|i)).elementType=ie,e.type=ie,e.expirationTime=o,e;case ce:return(e=Nu(13,n,t,i)).type=ce,e.elementType=ce,e.expirationTime=o,e;case le:return(e=Nu(19,n,t,i)).elementType=le,e.expirationTime=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case oe:a=10;break e;case se:a=9;break e;case ue:a=11;break e;case fe:a=14;break e;case he:a=16,r=null;break e;case pe:a=22;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Nu(a,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Mu(e,t,n,r){return(e=Nu(7,e,r,t)).expirationTime=n,e}function Lu(e,t,n){return(e=Nu(6,e,null,t)).expirationTime=n,e}function Fu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uu(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function Vu(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Wu(e,t){var n=e.firstSuspendedTime,r=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(r>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function Bu(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function qu(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function zu(e,t,n,r){var i=t.current,o=eu(),a=mo.suspense;o=tu(o,i,a);e:if(n){t:{if(et(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(s(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(s(171))}if(1===n.tag){var c=n.type;if(gi(c)){n=Ei(n,c,u);break e}}n=u}else n=di;return null===t.context?t.context=n:t.pendingContext=n,(t=fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),ho(i,t),nu(i,o),o}function Hu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Yu(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Gu(e,t){Yu(e,t),(e=e.alternate)&&Yu(e,t)}function Ku(e,t,n){var r=new Uu(e,t,n=null!=n&&!0===n.hydrate),i=Nu(3,null,null,2===t?7:1===t?3:0);r.current=i,i.stateNode=r,co(i),e[Pn]=r.current,n&&0!==t&&function(e,t){var n=Ze(t);Ct.forEach((function(e){vt(e,t,n)})),Tt.forEach((function(e){vt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=r}function Qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o._internalRoot;if("function"===typeof i){var a=i;i=function(){var e=Hu(s);a.call(e)}}zu(t,s,e,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ku(e,0,t?{hydrate:!0}:void 0)}(n,r),s=o._internalRoot,"function"===typeof i){var u=i;i=function(){var e=Hu(s);u.call(e)}}cu((function(){zu(t,s,e,i)}))}return Hu(s)}function $u(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Ju(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qu(t))throw Error(s(200));return $u(e,t,null,n)}Ku.prototype.render=function(e){zu(e,this._internalRoot,null,null)},Ku.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;zu(null,e,null,(function(){t[Pn]=null}))},yt=function(e){if(13===e.tag){var t=$i(eu(),150,100);nu(e,t),Gu(e,t)}},mt=function(e){13===e.tag&&(nu(e,3),Gu(e,3))},bt=function(e){if(13===e.tag){var t=eu();nu(e,t=tu(t,e,null)),Gu(e,t)}},T=function(e,t,n){switch(t){case"input":if(xe(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=jn(r);if(!i)throw Error(s(90));we(r),xe(r,i)}}}break;case"textarea":Ne(e,n);break;case"select":null!=(t=n.value)&&Ie(e,!!n.multiple,t,!1)}},j=uu,R=function(e,t,n,r,i){var o=Aa;Aa|=4;try{return Yi(98,e.bind(null,t,n,r,i))}finally{0===(Aa=o)&&Qi()}},M=function(){0===(49&Aa)&&(function(){if(null!==Xa){var e=Xa;Xa=null,e.forEach((function(e,t){qu(t,e),ou(t)})),Qi()}}(),Su())},L=function(e,t){var n=Aa;Aa|=2;try{return e(t)}finally{0===(Aa=n)&&Qi()}};var Zu={Events:[Nn,Dn,jn,k,S,Wn,function(e){ot(e,Vn)},N,D,Jt,ut,Su,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Iu=function(e){try{t.onCommitFiberRoot(n,e,void 0,64===(64&e.current.effectTag))}catch(r){}},Pu=function(e){try{t.onCommitFiberUnmount(n,e)}catch(r){}}}catch(r){}})(i({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:An,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zu,t.createPortal=Ju,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw Error(s(268,Object.keys(e)))}return e=null===(e=rt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!==(48&Aa))throw Error(s(187));var n=Aa;Aa|=1;try{return Yi(99,e.bind(null,t))}finally{Aa=n,Qi()}},t.hydrate=function(e,t,n){if(!Qu(t))throw Error(s(200));return Xu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Qu(t))throw Error(s(200));return Xu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Qu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Xu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Pn]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_createPortal=function(e,t){return Ju(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qu(n))throw Error(s(200));if(null==e||void 0===e._reactInternalFiber)throw Error(s(38));return Xu(e,t,n,!1,r)},t.version="16.14.0"},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6075:function(e,t,n){"use strict";var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2791),s=u(o),a=u(n(2007));function u(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},l=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],f=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},h=!("undefined"===typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),p=function(){return h?"_"+Math.random().toString(36).substr(2,12):void 0},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"===typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||p()},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||p()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"===typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(f(e,this.sizer),this.placeHolderSizer&&f(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&"undefined"!==typeof this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return h&&e?s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!==e&&void 0!==e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){l.forEach((function(t){return delete e[t]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,s.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),s.default.createElement("input",r({},i,{ref:this.inputRef})),s.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?s.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(o.Component);d.propTypes={className:a.default.string,defaultValue:a.default.any,extraWidth:a.default.oneOfType([a.default.number,a.default.string]),id:a.default.string,injectStyles:a.default.bool,inputClassName:a.default.string,inputRef:a.default.func,inputStyle:a.default.object,minWidth:a.default.oneOfType([a.default.number,a.default.string]),onAutosize:a.default.func,onChange:a.default.func,placeholder:a.default.string,placeholderIsMinWidth:a.default.bool,style:a.default.object,value:a.default.any},d.defaultProps={minWidth:1,injectStyles:!0},t.Z=d},1372:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,s=60114,a=60109,u=60110,c=60112,l=60113,f=60120,h=60115,p=60116,d=60121,v=60122,y=60117,m=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var g=Symbol.for;n=g("react.element"),r=g("react.portal"),i=g("react.fragment"),o=g("react.strict_mode"),s=g("react.profiler"),a=g("react.provider"),u=g("react.context"),c=g("react.forward_ref"),l=g("react.suspense"),f=g("react.suspense_list"),h=g("react.memo"),p=g("react.lazy"),d=g("react.block"),v=g("react.server.block"),y=g("react.fundamental"),m=g("react.debug_trace_mode"),b=g("react.legacy_hidden")}function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case s:case o:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case p:case h:case a:return e;default:return t}}case r:return t}}}t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===s||e===m||e===o||e===l||e===f||e===b||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===h||e.$$typeof===a||e.$$typeof===u||e.$$typeof===c||e.$$typeof===y||e.$$typeof===d||e[0]===v)},t.typeOf=_},7441:function(e,t,n){"use strict";e.exports=n(1372)},3688:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function s(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,s=null,a=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?s="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(s="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?a="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(a="UNSAFE_componentWillUpdate"),null!==n||null!==s||null!==a){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==s?"\n  "+s:"")+(null!==a?"\n  "+a:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return s}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},6664:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(2007));var r=a(n(8354)),i=a(n(2910)),o=a(n(2791)),s=a(n(119));n(5127);function a(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},l=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},f=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),c(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"===typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&l(e,r),i&&l(e,i),o&&l(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},i.render=function(){var e=u({},this.props);return delete e.classNames,o.default.createElement(s.default,u({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);f.defaultProps={classNames:""},f.propTypes={};var h=f;t.default=h,e.exports=t.default},8162:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;s(n(2007));var r=s(n(2791)),i=n(4164),o=s(n(2326));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var t,n;function s(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=s.prototype;return a.handleLifecycle=function(e,t,n){var o,s=this.props.children,a=r.default.Children.toArray(s)[t];a.props[e]&&(o=a.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},a.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),s=r.default.Children.toArray(t),a=s[0],u=s[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(u,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},s}(r.default.Component);a.propTypes={};var u=a;t.default=u,e.exports=t.default},119:function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(2007)),i=a(n(2791)),o=a(n(4164)),s=n(3688);n(5127);function a(e){return e&&e.__esModule?e:{default:e}}var u="unmounted";t.UNMOUNTED=u;var c="exited";t.EXITED=c;var l="entering";t.ENTERING=l;var f="entered";t.ENTERED=f;var h="exiting";t.EXITING=h;var p=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,s=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=c,r.appearStatus=l):i=f:i=t.unmountOnExit||t.mountOnEnter?u:c,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===u?{status:c}:null},s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==f&&(t=l):n!==l&&n!==f||(t=h)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===l?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},s.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),s=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:l},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,s,(function(){n.safeSetState({status:f},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:f},(function(){n.props.onEntered(e)}))},s.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:h},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===u)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function d(){}p.contextTypes={transitionGroup:r.object},p.childContextTypes={transitionGroup:function(){}},p.propTypes={},p.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},p.UNMOUNTED=0,p.EXITED=1,p.ENTERING=2,p.ENTERED=3,p.EXITING=4;var v=(0,s.polyfill)(p);t.default=v},2326:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=a(n(2007)),i=a(n(2791)),o=n(3688),s=n(8546);function a(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var l=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,s.getInitialChildMapping)(e,r):(0,s.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,s.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=u({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);f.childContextTypes={transitionGroup:r.default.object.isRequired},f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};var h=(0,o.polyfill)(f);t.default=h,e.exports=t.default},8267:function(e,t,n){"use strict";var r=a(n(6664)),i=a(n(8162)),o=a(n(2326)),s=a(n(119));function a(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:s.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},8546:function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:s(n,"appear",e),enter:s(n,"enter",e),exit:s(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var a=i(e.children),u=o(t,a);return Object.keys(u).forEach((function(i){var o=u[i];if((0,r.isValidElement)(o)){var c=i in t,l=i in a,f=t[i],h=(0,r.isValidElement)(f)&&!f.props.in;!l||c&&!h?l||!c||h?l&&c&&(0,r.isValidElement)(f)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:f.props.in,exit:s(o,"exit",e),enter:s(o,"enter",e)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:s(o,"exit",e),enter:s(o,"enter",e)})}})),u};var r=n(2791);function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var s in e)s in t?o.length&&(i[s]=o,o=[]):o.push(s);var a={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];a[i[u][r]]=n(c)}a[u]=n(u)}for(r=0;r<o.length;r++)a[o[r]]=n(o[r]);return a}function s(e,t,n){return null!=n[t]?n[t]:e.props[t]}},5127:function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n(2007))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},8118:function(e,t,n){"use strict";var r=n(2791);t.Z=function(e){r.useEffect(e,[])}},2455:function(e,t,n){"use strict";var r=n(2791),i=n(5125);t.Z=function(e,t,n){if(!i.isClient)return[t,function(){}];var o=n?n.raw?String:n.serializer:JSON.stringify,s=n?n.raw?String:n.deserializer:JSON.parse,a=r.useState((function(){try{var n=localStorage.getItem(e);return null!==n?s(n):(t&&localStorage.setItem(e,o(t)),t)}catch(a){return t}})),u=a[0],c=a[1];return r.useEffect((function(){try{localStorage.setItem(e,o(u))}catch(a){}}),[u]),[u,c]}},5125:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isClient="object"===typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=n(6300)},6374:function(e,t,n){"use strict";var r=n(2791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),t.Fragment=o("react.fragment")}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.jsx=c,t.jsxs=c},9117:function(e,t,n){"use strict";var r=n(1725),i="function"===typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,s=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,f=i?Symbol.for("react.context"):60110,h=i?Symbol.for("react.forward_ref"):60112,p=i?Symbol.for("react.suspense"):60113,d=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,y="function"===typeof Symbol&&Symbol.iterator;function m(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||b}function w(){}function E(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(m(85));this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var S=E.prototype=new w;S.constructor=E,r(S,_.prototype),S.isPureReactComponent=!0;var O={current:null},x=Object.prototype.hasOwnProperty,k={key:!0,ref:!0,__self:!0,__source:!0};function C(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,r)&&!k.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:s,ref:a,props:i,_owner:O.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===o}var I=/\/+/g,P=[];function A(e,t,n,r){if(P.length){var i=P.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function N(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>P.length&&P.push(e)}function D(e,t,n,r){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var a=!1;if(null===e)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case o:case s:a=!0}}if(a)return n(r,e,""===t?"."+R(e,0):t),1;if(a=0,t=""===t?".":t+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=t+R(i=e[u],u);a+=D(i,c,n,r)}else if(null===e||"object"!==typeof e?c=null:c="function"===typeof(c=y&&e[y]||e["@@iterator"])?c:null,"function"===typeof c)for(e=c.call(e),u=0;!(i=e.next()).done;)a+=D(i=i.value,c=t+R(i,u++),n,r);else if("object"===i)throw n=""+e,Error(m(31,"[object Object]"===n?"object with keys {"+Object.keys(e).join(", ")+"}":n,""));return a}function j(e,t,n){return null==e?0:D(e,"",t,n)}function R(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function L(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?F(e,r,n,(function(e){return e})):null!=e&&(T(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n)),r.push(e))}function F(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),j(e,L,t=A(t,o,r,i)),N(t)}var U={current:null};function V(){var e=U.current;if(null===e)throw Error(m(321));return e}var W={ReactCurrentDispatcher:U,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:O,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:function(e,t,n){if(null==e)return e;var r=[];return F(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;j(e,M,t=A(null,null,t,n)),N(t)},count:function(e){return j(e,(function(){return null}),null)},toArray:function(e){var t=[];return F(e,t,null,(function(e){return e})),t},only:function(e){if(!T(e))throw Error(m(143));return e}},t.Component=_,t.Fragment=a,t.Profiler=c,t.PureComponent=E,t.StrictMode=u,t.Suspense=p,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(m(267,e));var i=r({},e.props),s=e.key,a=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,u=O.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!k.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:o,type:e.type,key:s,ref:a,props:i,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=C,t.createFactory=function(e){var t=C.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return V().useCallback(e,t)},t.useContext=function(e,t){return V().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return V().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return V().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return V().useLayoutEffect(e,t)},t.useMemo=function(e,t){return V().useMemo(e,t)},t.useReducer=function(e,t,n){return V().useReducer(e,t,n)},t.useRef=function(e){return V().useRef(e)},t.useState=function(e){return V().useState(e)},t.version="16.14.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},9092:function(e,t,n){"use strict";t.kC=void 0;u(n(2791));var r=u(n(676)),i=n(6907),o=function(e){if(e&&e.__esModule)return e;var t=a();if(t&&t.has(e))return t.get(e);var n={};if(null!=e){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}}n.default=e,t&&t.set(e,n);return n}(n(8490)),s=u(n(2300));function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,r.default)("div",{shouldForwardProp:s.default})({boxSizing:"border-box",margin:0,minWidth:0},(function(e){return(0,o.default)(e.__css)(e.theme)}),(function(e){var t=e.theme,n=e.variant,r=e.tx,i=void 0===r?"variants":r;return(0,o.default)((0,o.get)(t,i+"."+n,(0,o.get)(t,n)))(t)}),(function(e){return(0,o.default)(e.sx)(e.theme)}),(function(e){return e.css}),(0,i.compose)(i.space,i.layout,i.typography,i.color,i.flexbox));var l=(0,r.default)(c)({display:"flex"});t.kC=l},9727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",a=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(A){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,o=Object.create(i.prototype),s=new T(r||[]);return o._invoke=function(e,t,n){var r=f;return function(i,o){if(r===p)throw new Error("Generator is already running");if(r===d){if("throw"===i)throw o;return P()}for(n.method=i,n.arg=o;;){var s=n.delegate;if(s){var a=x(s,n);if(a){if(a===v)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?d:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(e,n,s),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(A){return{type:"throw",arg:A}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",p="executing",d="completed",v={};function y(){}function m(){}function b(){}var g={};u(g,o,(function(){return this}));var _=Object.getPrototypeOf,w=_&&_(_(I([])));w&&w!==n&&r.call(w,o)&&(g=w);var E=b.prototype=y.prototype=Object.create(g);function S(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(i,o,s,a){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return n("throw",e,s,a)}))}a(u.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function x(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var o=i.arg;return o?o.done?(n[e.resultName]=o.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function I(e){if(e){var n=e[o];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,s=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return s.next=s}}return{next:P}}function P(){return{value:t,done:!0}}return m.prototype=b,u(E,"constructor",b),u(b,"constructor",m),m.displayName=u(b,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,u(e,a,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},S(O.prototype),u(O.prototype,s,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var s=new O(c(t,n,r,i),o);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},S(E),u(E,a,"Generator"),u(E,o,(function(){return this})),u(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=I,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(C),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return a.type="throw",a.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=r.call(s,"catchLoc"),c=r.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:I(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},6813:function(e,t){"use strict";var n,r,i,o,s;if("undefined"===typeof window||"function"!==typeof MessageChannel){var a=null,u=null,c=function e(){if(null!==a)try{var n=t.unstable_now();a(!0,n),a=null}catch(r){throw setTimeout(e,0),r}},l=Date.now();t.unstable_now=function(){return Date.now()-l},n=function(e){null!==a?setTimeout(n,0,e):(a=e,setTimeout(c,0))},r=function(e,t){u=setTimeout(e,t)},i=function(){clearTimeout(u)},o=function(){return!1},s=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,h=window.Date,p=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"===typeof f&&"function"===typeof f.now)t.unstable_now=function(){return f.now()};else{var y=h.now();t.unstable_now=function(){return h.now()-y}}var m=!1,b=null,g=-1,_=5,w=0;o=function(){return t.unstable_now()>=w},s=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):_=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,S=E.port2;E.port1.onmessage=function(){if(null!==b){var e=t.unstable_now();w=e+_;try{b(!0,e)?S.postMessage(null):(m=!1,b=null)}catch(n){throw S.postMessage(null),n}}else m=!1},n=function(e){b=e,m||(m=!0,S.postMessage(null))},r=function(e,n){g=p((function(){e(t.unstable_now())}),n)},i=function(){d(g),g=-1}}function O(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<C(i,t)))break e;e[r]=t,e[n]=i,n=r}}function x(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var o=2*(r+1)-1,s=e[o],a=o+1,u=e[a];if(void 0!==s&&0>C(s,n))void 0!==u&&0>C(u,s)?(e[r]=u,e[a]=n,r=a):(e[r]=s,e[o]=n,r=o);else{if(!(void 0!==u&&0>C(u,n)))break e;e[r]=u,e[a]=n,r=a}}}return t}return null}function C(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var T=[],I=[],P=1,A=null,N=3,D=!1,j=!1,R=!1;function M(e){for(var t=x(I);null!==t;){if(null===t.callback)k(I);else{if(!(t.startTime<=e))break;k(I),t.sortIndex=t.expirationTime,O(T,t)}t=x(I)}}function L(e){if(R=!1,M(e),!j)if(null!==x(T))j=!0,n(F);else{var t=x(I);null!==t&&r(L,t.startTime-e)}}function F(e,n){j=!1,R&&(R=!1,i()),D=!0;var s=N;try{for(M(n),A=x(T);null!==A&&(!(A.expirationTime>n)||e&&!o());){var a=A.callback;if(null!==a){A.callback=null,N=A.priorityLevel;var u=a(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===x(T)&&k(T),M(n)}else k(T);A=x(T)}if(null!==A)var c=!0;else{var l=x(I);null!==l&&r(L,l.startTime-n),c=!1}return c}finally{A=null,N=s,D=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=s;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){j||D||(j=!0,n(F))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return x(T)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();if("object"===typeof s&&null!==s){var u=s.delay;u="number"===typeof u&&0<u?a+u:a,s="number"===typeof s.timeout?s.timeout:U(e)}else s=U(e),u=a;return e={id:P++,callback:o,priorityLevel:e,startTime:u,expirationTime:s=u+s,sortIndex:-1},u>a?(e.sortIndex=u,O(I,e),null===x(T)&&e===x(I)&&(R?i():R=!0,r(L,u-a))):(e.sortIndex=s,O(T,e),j||D||(j=!0,n(F))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=x(T);return n!==A&&null!==A&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<A.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),s=Object.keys(t);if(o.length!==s.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!a(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},6907:function(e,t,n){"use strict";n.r(t),n.d(t,{alignContent:function(){return be},alignItems:function(){return me},alignSelf:function(){return Te},background:function(){return N},backgroundImage:function(){return Xe},backgroundPosition:function(){return Je},backgroundRepeat:function(){return Ze},backgroundSize:function(){return $e},border:function(){return I},borderBottom:function(){return Ge},borderColor:function(){return ze},borderLeft:function(){return Ke},borderRadius:function(){return Qe},borderRight:function(){return Ye},borderStyle:function(){return qe},borderTop:function(){return He},borderWidth:function(){return Be},borders:function(){return P},bottom:function(){return rt},boxShadow:function(){return H},buttonStyle:function(){return K},color:function(){return g},colorStyle:function(){return X},compose:function(){return v},createParser:function(){return l},createStyleFunction:function(){return p},display:function(){return oe},flex:function(){return Se},flexBasis:function(){return ke},flexDirection:function(){return Ee},flexGrow:function(){return Oe},flexShrink:function(){return xe},flexWrap:function(){return we},flexbox:function(){return S},fontFamily:function(){return fe},fontSize:function(){return le},fontStyle:function(){return ve},fontWeight:function(){return he},get:function(){return c},grid:function(){return k},gridArea:function(){return We},gridAutoColumns:function(){return Me},gridAutoFlow:function(){return Re},gridAutoRows:function(){return Le},gridColumn:function(){return De},gridColumnGap:function(){return Ae},gridGap:function(){return Pe},gridRow:function(){return je},gridRowGap:function(){return Ne},gridTemplateAreas:function(){return Ve},gridTemplateColumns:function(){return Fe},gridTemplateRows:function(){return Ue},height:function(){return J},justifyContent:function(){return _e},justifyItems:function(){return ge},justifySelf:function(){return Ce},layout:function(){return y},left:function(){return it},letterSpacing:function(){return ye},lineHeight:function(){return pe},margin:function(){return W},maxHeight:function(){return ne},maxWidth:function(){return te},minHeight:function(){return ee},minWidth:function(){return Z},opacity:function(){return ce},order:function(){return Ie},overflow:function(){return se},overflowX:function(){return ae},overflowY:function(){return ue},padding:function(){return B},position:function(){return R},right:function(){return nt},shadow:function(){return z},size:function(){return re},space:function(){return q},style:function(){return ot},system:function(){return d},textAlign:function(){return de},textShadow:function(){return H},textStyle:function(){return Q},top:function(){return tt},typography:function(){return w},variant:function(){return G},verticalAlign:function(){return ie},width:function(){return $},zIndex:function(){return et}});var r=n(1725),i=n.n(r),o=function(e,t){var n=i()({},e,t);for(var r in e){var o;e[r]&&"object"===typeof t[r]&&i()(n,((o={})[r]=i()(e[r],t[r]),o))}return n},s={breakpoints:[40,52,64].map((function(e){return e+"em"}))},a=function(e){return"@media screen and (min-width: "+e+")"},u=function(e,t){return c(t,e,e)},c=function(e,t,n,r,i){for(t=t&&t.split?t.split("."):[t],r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e},l=function e(t){var n={},r=function(e){var r={},u=!1,l=e.theme&&e.theme.disableStyledSystemCache;for(var p in e)if(t[p]){var d=t[p],v=e[p],y=c(e.theme,d.scale,d.defaults);if("object"!==typeof v)i()(r,d(v,y,e));else{if(n.breakpoints=!l&&n.breakpoints||c(e.theme,"breakpoints",s.breakpoints),Array.isArray(v)){n.media=!l&&n.media||[null].concat(n.breakpoints.map(a)),r=o(r,f(n.media,d,y,v,e));continue}null!==v&&(r=o(r,h(n.breakpoints,d,y,v,e)),u=!0)}}return u&&(r=function(e){var t={};return Object.keys(e).sort((function(e,t){return e.localeCompare(t,void 0,{numeric:!0,sensitivity:"base"})})).forEach((function(n){t[n]=e[n]})),t}(r)),r};r.config=t,r.propNames=Object.keys(t),r.cache=n;var u=Object.keys(t).filter((function(e){return"config"!==e}));return u.length>1&&u.forEach((function(n){var i;r[n]=e(((i={})[n]=t[n],i))})),r},f=function(e,t,n,r,o){var s={};return r.slice(0,e.length).forEach((function(r,a){var u,c=e[a],l=t(r,n,o);c?i()(s,((u={})[c]=i()({},s[c],l),u)):i()(s,l)})),s},h=function(e,t,n,r,o){var s={};for(var u in r){var c=e[u],l=t(r[u],n,o);if(c){var f,h=a(c);i()(s,((f={})[h]=i()({},s[h],l),f))}else i()(s,l)}return s},p=function(e){var t=e.properties,n=e.property,r=e.scale,i=e.transform,o=void 0===i?u:i,s=e.defaultScale;t=t||[n];var a=function(e,n,r){var i={},s=o(e,n,r);if(null!==s)return t.forEach((function(e){i[e]=s})),i};return a.scale=r,a.defaults=s,a},d=function(e){void 0===e&&(e={});var t={};return Object.keys(e).forEach((function(n){var r=e[n];t[n]=!0!==r?"function"!==typeof r?p(r):r:p({property:n,scale:n})})),l(t)},v=function(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach((function(t){t&&t.config&&i()(e,t.config)}));var o=l(e);return o},y=d({width:{property:"width",scale:"sizes",transform:function(e,t){return c(t,e,!function(e){return"number"===typeof e&&!isNaN(e)}(e)||e>1?e:100*e+"%")}},height:{property:"height",scale:"sizes"},minWidth:{property:"minWidth",scale:"sizes"},minHeight:{property:"minHeight",scale:"sizes"},maxWidth:{property:"maxWidth",scale:"sizes"},maxHeight:{property:"maxHeight",scale:"sizes"},size:{properties:["width","height"],scale:"sizes"},overflow:!0,overflowX:!0,overflowY:!0,display:!0,verticalAlign:!0}),m=y,b={color:{property:"color",scale:"colors"},backgroundColor:{property:"backgroundColor",scale:"colors"},opacity:!0};b.bg=b.backgroundColor;var g=d(b),_=g,w=d({fontFamily:{property:"fontFamily",scale:"fonts"},fontSize:{property:"fontSize",scale:"fontSizes",defaultScale:[12,14,16,20,24,32,48,64,72]},fontWeight:{property:"fontWeight",scale:"fontWeights"},lineHeight:{property:"lineHeight",scale:"lineHeights"},letterSpacing:{property:"letterSpacing",scale:"letterSpacings"},textAlign:!0,fontStyle:!0}),E=w,S=d({alignItems:!0,alignContent:!0,justifyItems:!0,justifyContent:!0,flexWrap:!0,flexDirection:!0,flex:!0,flexGrow:!0,flexShrink:!0,flexBasis:!0,justifySelf:!0,alignSelf:!0,order:!0}),O=S,x={space:[0,4,8,16,32,64,128,256,512]},k=d({gridGap:{property:"gridGap",scale:"space",defaultScale:x.space},gridColumnGap:{property:"gridColumnGap",scale:"space",defaultScale:x.space},gridRowGap:{property:"gridRowGap",scale:"space",defaultScale:x.space},gridColumn:!0,gridRow:!0,gridAutoFlow:!0,gridAutoColumns:!0,gridAutoRows:!0,gridTemplateColumns:!0,gridTemplateRows:!0,gridTemplateAreas:!0,gridArea:!0}),C=k,T={border:{property:"border",scale:"borders"},borderWidth:{property:"borderWidth",scale:"borderWidths"},borderStyle:{property:"borderStyle",scale:"borderStyles"},borderColor:{property:"borderColor",scale:"colors"},borderRadius:{property:"borderRadius",scale:"radii"},borderTop:{property:"borderTop",scale:"borders"},borderTopLeftRadius:{property:"borderTopLeftRadius",scale:"radii"},borderTopRightRadius:{property:"borderTopRightRadius",scale:"radii"},borderRight:{property:"borderRight",scale:"borders"},borderBottom:{property:"borderBottom",scale:"borders"},borderBottomLeftRadius:{property:"borderBottomLeftRadius",scale:"radii"},borderBottomRightRadius:{property:"borderBottomRightRadius",scale:"radii"},borderLeft:{property:"borderLeft",scale:"borders"},borderX:{properties:["borderLeft","borderRight"],scale:"borders"},borderY:{properties:["borderTop","borderBottom"],scale:"borders"},borderTopWidth:{property:"borderTopWidth",scale:"borderWidths"},borderTopColor:{property:"borderTopColor",scale:"colors"},borderTopStyle:{property:"borderTopStyle",scale:"borderStyles"}};T.borderTopLeftRadius={property:"borderTopLeftRadius",scale:"radii"},T.borderTopRightRadius={property:"borderTopRightRadius",scale:"radii"},T.borderBottomWidth={property:"borderBottomWidth",scale:"borderWidths"},T.borderBottomColor={property:"borderBottomColor",scale:"colors"},T.borderBottomStyle={property:"borderBottomStyle",scale:"borderStyles"},T.borderBottomLeftRadius={property:"borderBottomLeftRadius",scale:"radii"},T.borderBottomRightRadius={property:"borderBottomRightRadius",scale:"radii"},T.borderLeftWidth={property:"borderLeftWidth",scale:"borderWidths"},T.borderLeftColor={property:"borderLeftColor",scale:"colors"},T.borderLeftStyle={property:"borderLeftStyle",scale:"borderStyles"},T.borderRightWidth={property:"borderRightWidth",scale:"borderWidths"},T.borderRightColor={property:"borderRightColor",scale:"colors"},T.borderRightStyle={property:"borderRightStyle",scale:"borderStyles"};var I=d(T),P=I,A={background:!0,backgroundImage:!0,backgroundSize:!0,backgroundPosition:!0,backgroundRepeat:!0};A.bgImage=A.backgroundImage,A.bgSize=A.backgroundSize,A.bgPosition=A.backgroundPosition,A.bgRepeat=A.backgroundRepeat;var N=d(A),D=N,j={space:[0,4,8,16,32,64,128,256,512]},R=d({position:!0,zIndex:{property:"zIndex",scale:"zIndices"},top:{property:"top",scale:"space",defaultScale:j.space},right:{property:"right",scale:"space",defaultScale:j.space},bottom:{property:"bottom",scale:"space",defaultScale:j.space},left:{property:"left",scale:"space",defaultScale:j.space}}),M=R,L={space:[0,4,8,16,32,64,128,256,512]},F=function(e){return"number"===typeof e&&!isNaN(e)},U=function(e,t){if(!F(e))return c(t,e,e);var n=e<0,r=Math.abs(e),i=c(t,r,r);return F(i)?i*(n?-1:1):n?"-"+i:i},V={};V.margin={margin:{property:"margin",scale:"space",transform:U,defaultScale:L.space},marginTop:{property:"marginTop",scale:"space",transform:U,defaultScale:L.space},marginRight:{property:"marginRight",scale:"space",transform:U,defaultScale:L.space},marginBottom:{property:"marginBottom",scale:"space",transform:U,defaultScale:L.space},marginLeft:{property:"marginLeft",scale:"space",transform:U,defaultScale:L.space},marginX:{properties:["marginLeft","marginRight"],scale:"space",transform:U,defaultScale:L.space},marginY:{properties:["marginTop","marginBottom"],scale:"space",transform:U,defaultScale:L.space}},V.margin.m=V.margin.margin,V.margin.mt=V.margin.marginTop,V.margin.mr=V.margin.marginRight,V.margin.mb=V.margin.marginBottom,V.margin.ml=V.margin.marginLeft,V.margin.mx=V.margin.marginX,V.margin.my=V.margin.marginY,V.padding={padding:{property:"padding",scale:"space",defaultScale:L.space},paddingTop:{property:"paddingTop",scale:"space",defaultScale:L.space},paddingRight:{property:"paddingRight",scale:"space",defaultScale:L.space},paddingBottom:{property:"paddingBottom",scale:"space",defaultScale:L.space},paddingLeft:{property:"paddingLeft",scale:"space",defaultScale:L.space},paddingX:{properties:["paddingLeft","paddingRight"],scale:"space",defaultScale:L.space},paddingY:{properties:["paddingTop","paddingBottom"],scale:"space",defaultScale:L.space}},V.padding.p=V.padding.padding,V.padding.pt=V.padding.paddingTop,V.padding.pr=V.padding.paddingRight,V.padding.pb=V.padding.paddingBottom,V.padding.pl=V.padding.paddingLeft,V.padding.px=V.padding.paddingX,V.padding.py=V.padding.paddingY;var W=d(V.margin),B=d(V.padding),q=v(W,B),z=d({boxShadow:{property:"boxShadow",scale:"shadows"},textShadow:{property:"textShadow",scale:"shadows"}}),H=z,Y=n(8490),G=function(e){var t,n,r=e.scale,i=e.prop,o=void 0===i?"variant":i,s=e.variants,a=void 0===s?{}:s,u=e.key;n=Object.keys(a).length?function(e,t,n){return(0,Y.default)(c(t,e,null))(n.theme)}:function(e,t){return c(t,e,null)},n.scale=r||u,n.defaults=a;var f=((t={})[o]=n,t);return l(f)},K=G({key:"buttons"}),Q=G({key:"textStyles",prop:"textStyle"}),X=G({key:"colorStyles",prop:"colors"}),$=m.width,J=m.height,Z=m.minWidth,ee=m.minHeight,te=m.maxWidth,ne=m.maxHeight,re=m.size,ie=m.verticalAlign,oe=m.display,se=m.overflow,ae=m.overflowX,ue=m.overflowY,ce=_.opacity,le=E.fontSize,fe=E.fontFamily,he=E.fontWeight,pe=E.lineHeight,de=E.textAlign,ve=E.fontStyle,ye=E.letterSpacing,me=O.alignItems,be=O.alignContent,ge=O.justifyItems,_e=O.justifyContent,we=O.flexWrap,Ee=O.flexDirection,Se=O.flex,Oe=O.flexGrow,xe=O.flexShrink,ke=O.flexBasis,Ce=O.justifySelf,Te=O.alignSelf,Ie=O.order,Pe=C.gridGap,Ae=C.gridColumnGap,Ne=C.gridRowGap,De=C.gridColumn,je=C.gridRow,Re=C.gridAutoFlow,Me=C.gridAutoColumns,Le=C.gridAutoRows,Fe=C.gridTemplateColumns,Ue=C.gridTemplateRows,Ve=C.gridTemplateAreas,We=C.gridArea,Be=P.borderWidth,qe=P.borderStyle,ze=P.borderColor,He=P.borderTop,Ye=P.borderRight,Ge=P.borderBottom,Ke=P.borderLeft,Qe=P.borderRadius,Xe=D.backgroundImage,$e=D.backgroundSize,Je=D.backgroundPosition,Ze=D.backgroundRepeat,et=M.zIndex,tt=M.top,nt=M.right,rt=M.bottom,it=M.left,ot=function(e){var t=e.prop,n=e.cssProperty,r=e.alias,i=e.key,o=e.transformValue,s=e.scale,a=e.properties,u={};return u[t]=p({properties:a,property:n||t,scale:i,defaultScale:s,transform:o}),r&&(u[r]=u[t]),l(u)}},6023:function(e){e.exports=function(){"use strict";return function(e){var t="/*|*/",n=t+"}";function r(t){if(t)try{e(t+"}")}catch(n){}}return function(i,o,s,a,u,c,l,f,h,p){switch(i){case 1:if(0===h&&64===o.charCodeAt(0))return e(o+";"),"";break;case 2:if(0===f)return o+t;break;case 3:switch(f){case 102:case 112:return e(s[0]+o),"";default:return o+(0===p?t:"")}case-2:o.split(n).forEach(r)}}}}()},4237:function(e){"use strict";var t=function(){};e.exports=t},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e=n(2791),t=n(4164),r=n(2176),i=n.n(r),o=n(9589),s=n.n(o),a=n(3688),u=function(e,t){return e.substr(0,t.length)===t},c=function(e,t){for(var n=void 0,r=void 0,o=t.split("?")[0],s=m(o),a=""===s[0],u=y(e),c=0,l=u.length;c<l;c++){var f=!1,p=u[c].route;if(p.default)r={route:p,params:{},uri:t};else{for(var v=m(p.path),b={},_=Math.max(s.length,v.length),w=0;w<_;w++){var E=v[w],S=s[w];if(d(E)){b[E.slice(1)||"*"]=s.slice(w).map(decodeURIComponent).join("/");break}if(void 0===S){f=!0;break}var O=h.exec(E);if(O&&!a){-1===g.indexOf(O[1])||i()(!1);var x=decodeURIComponent(S);b[O[1]]=x}else if(E!==S){f=!0;break}}if(!f){n={route:p,params:b,uri:"/"+s.slice(0,w).join("/")};break}}}return n||r||null},l=function(e,t){if(u(e,"/"))return e;var n=e.split("?"),r=n[0],i=n[1],o=t.split("?")[0],s=m(r),a=m(o);if(""===s[0])return b(o,i);if(!u(s[0],".")){var c=a.concat(s).join("/");return b(("/"===o?"":"/")+c,i)}for(var l=a.concat(s),f=[],h=0,p=l.length;h<p;h++){var d=l[h];".."===d?f.pop():"."!==d&&f.push(d)}return b("/"+f.join("/"),i)},f=function(e,t){var n=e.split("?"),r=n[0],i=n[1],o=void 0===i?"":i,s="/"+m(r).map((function(e){var n=h.exec(e);return n?t[n[1]]:e})).join("/"),a=t.location,u=(a=void 0===a?{}:a).search,c=(void 0===u?"":u).split("?")[1]||"";return s=b(s,o,c)},h=/^:(.+)/,p=function(e){return h.test(e)},d=function(e){return e&&"*"===e[0]},v=function(e,t){return{route:e,score:e.default?0:m(e.path).reduce((function(e,t){return e+=4,!function(e){return""===e}(t)?p(t)?e+=2:d(t)?e-=5:e+=3:e+=1,e}),0),index:t}},y=function(e){return e.map(v).sort((function(e,t){return e.score<t.score?1:e.score>t.score?-1:e.index-t.index}))},m=function(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")},b=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n=n.filter((function(e){return e&&e.length>0})),e+(n&&n.length>0?"?"+n.join("&"):"")},g=["uri","path"],_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},w=function(e){var t=e.location,n=t.search,r=t.hash,i=t.href,o=t.origin,s=t.protocol,a=t.host,u=t.hostname,c=t.port,l=e.location.pathname;!l&&i&&E&&(l=new URL(i).pathname);return{pathname:encodeURI(decodeURI(l)),search:n,hash:r,href:i,origin:o,protocol:s,host:a,hostname:u,port:c,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}},E=!("undefined"===typeof window||!window.document||!window.document.createElement),S=function(e,t){var n=[],r=w(e),i=!1,o=function(){};return{get location(){return r},get transitioning(){return i},_onTransitionComplete:function(){i=!1,o()},listen:function(t){n.push(t);var i=function(){r=w(e),t({location:r,action:"POP"})};return e.addEventListener("popstate",i),function(){e.removeEventListener("popstate",i),n=n.filter((function(e){return e!==t}))}},navigate:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=s.state,u=s.replace,c=void 0!==u&&u;if("number"===typeof t)e.history.go(t);else{a=_({},a,{key:Date.now()+""});try{i||c?e.history.replaceState(a,null,t):e.history.pushState(a,null,t)}catch(f){e.location[c?"replace":"assign"](t)}}r=w(e),i=!0;var l=new Promise((function(e){return o=e}));return n.forEach((function(e){return e({location:r,action:"PUSH"})})),l}}}(E?window:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",t=e.indexOf("?"),n={pathname:t>-1?e.substr(0,t):e,search:t>-1?e.substr(t):""},r=0,i=[n],o=[null];return{get location(){return i[r]},addEventListener:function(e,t){},removeEventListener:function(e,t){},history:{get entries(){return i},get index(){return r},get state(){return o[r]},pushState:function(e,t,n){var s=n.split("?"),a=s[0],u=s[1],c=void 0===u?"":u;r++,i.push({pathname:a,search:c.length?"?"+c:c}),o.push(e)},replaceState:function(e,t,n){var s=n.split("?"),a=s[0],u=s[1],c=void 0===u?"":u;i[r]={pathname:a,search:c},o[r]=e},go:function(e){var t=r+e;t<0||t>o.length-1||(r=t)}}}}()),O=S.navigate,x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function k(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function I(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var P=function(e,t){var n=s()(t);return n.displayName=e,n},A=P("Location"),N=function(t){var n=t.children;return e.createElement(A.Consumer,null,(function(t){return t?n(t):e.createElement(D,null,n)}))},D=function(t){function n(){var e,r;C(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=T(this,t.call.apply(t,[this].concat(o))),r.state={context:r.getContext(),refs:{unlisten:null}},T(r,e)}return I(n,t),n.prototype.getContext=function(){var e=this.props.history;return{navigate:e.navigate,location:e.location}},n.prototype.componentDidCatch=function(e,t){if(!Y(e))throw e;(0,this.props.history.navigate)(e.uri,{replace:!0})},n.prototype.componentDidUpdate=function(e,t){t.context.location!==this.state.context.location&&this.props.history._onTransitionComplete()},n.prototype.componentDidMount=function(){var e=this,t=this.state.refs,n=this.props.history;n._onTransitionComplete(),t.unlisten=n.listen((function(){Promise.resolve().then((function(){requestAnimationFrame((function(){e.unmounted||e.setState((function(){return{context:e.getContext()}}))}))}))}))},n.prototype.componentWillUnmount=function(){var e=this.state.refs;this.unmounted=!0,e.unlisten()},n.prototype.render=function(){var t=this.state.context,n=this.props.children;return e.createElement(A.Provider,{value:t},"function"===typeof n?n(t):n||null)},n}(e.Component);D.defaultProps={history:S};var j=P("Base",{baseuri:"/",basepath:"/"}),R=function(t){return e.createElement(j.Consumer,null,(function(n){return e.createElement(N,null,(function(r){return e.createElement(M,x({},n,r,t))}))}))},M=function(t){function n(){return C(this,n),T(this,t.apply(this,arguments))}return I(n,t),n.prototype.render=function(){var t=this.props,n=t.location,r=t.navigate,i=t.basepath,o=t.primary,s=t.children,a=(t.baseuri,t.component),u=void 0===a?"div":a,f=k(t,["location","navigate","basepath","primary","children","baseuri","component"]),h=e.Children.toArray(s).reduce((function(e,t){var n=X(i)(t);return e.concat(n)}),[]),p=n.pathname,d=c(h,p);if(d){var v=d.params,y=d.uri,m=d.route,b=d.route.value;i=m.default?i:m.path.replace(/\*$/,"");var g=x({},v,{uri:y,location:n,navigate:function(e,t){return r(l(e,y),t)}}),_=e.cloneElement(b,g,b.props.children?e.createElement(R,{location:n,primary:o},b.props.children):void 0),w=o?F:u,E=o?x({uri:y,location:n,component:u},f):f;return e.createElement(j.Provider,{value:{baseuri:y,basepath:i}},e.createElement(w,E,_))}return null},n}(e.PureComponent);M.defaultProps={primary:!0};var L=P("Focus"),F=function(t){var n=t.uri,r=t.location,i=t.component,o=k(t,["uri","location","component"]);return e.createElement(L.Consumer,null,(function(t){return e.createElement(W,x({},o,{component:i,requestFocus:t,uri:n,location:r}))}))},U=!0,V=0,W=function(t){function n(){var e,r;C(this,n);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=r=T(this,t.call.apply(t,[this].concat(o))),r.state={},r.requestFocus=function(e){!r.state.shouldFocus&&e&&e.focus()},T(r,e)}return I(n,t),n.getDerivedStateFromProps=function(e,t){if(null==t.uri)return x({shouldFocus:!0},e);var n=e.uri!==t.uri,r=t.location.pathname!==e.location.pathname&&e.location.pathname===e.uri;return x({shouldFocus:n||r},e)},n.prototype.componentDidMount=function(){V++,this.focus()},n.prototype.componentWillUnmount=function(){0===--V&&(U=!0)},n.prototype.componentDidUpdate=function(e,t){e.location!==this.props.location&&this.state.shouldFocus&&this.focus()},n.prototype.focus=function(){var e=this.props.requestFocus;e?e(this.node):U?U=!1:this.node&&(this.node.contains(document.activeElement)||this.node.focus())},n.prototype.render=function(){var t=this,n=this.props,r=(n.children,n.style),i=(n.requestFocus,n.component),o=void 0===i?"div":i,s=(n.uri,n.location,k(n,["children","style","requestFocus","component","uri","location"]));return e.createElement(o,x({style:x({outline:"none"},r),tabIndex:"-1",ref:function(e){return t.node=e}},s),e.createElement(L.Provider,{value:this.requestFocus},this.props.children))},n}(e.Component);(0,a.polyfill)(W);var B=function(){},q=e.forwardRef;"undefined"===typeof q&&(q=function(e){return e});var z=q((function(t,n){var r=t.innerRef,i=k(t,["innerRef"]);return e.createElement(j.Consumer,null,(function(t){t.basepath;var o=t.baseuri;return e.createElement(N,null,(function(t){var s=t.location,a=t.navigate,c=i.to,f=i.state,h=i.replace,p=i.getProps,d=void 0===p?B:p,v=k(i,["to","state","replace","getProps"]),y=l(c,o),m=encodeURI(y),b=s.pathname===m,g=u(s.pathname,m);return e.createElement("a",x({ref:n||r,"aria-current":b?"page":void 0},v,d({isCurrent:b,isPartiallyCurrent:g,href:y,location:s}),{href:y,onClick:function(e){if(v.onClick&&v.onClick(e),$(e)){e.preventDefault();var t=h;if("boolean"!==typeof h&&b){var n=x({},s.state),r=(n.key,k(n,["key"]));t=function(e,t){var n=Object.keys(e);return n.length===Object.keys(t).length&&n.every((function(n){return t.hasOwnProperty(n)&&e[n]===t[n]}))}(x({},f),r)}a(y,{state:f,replace:t})}}}))}))}))}));function H(e){this.uri=e}z.displayName="Link";var Y=function(e){return e instanceof H},G=function(e){function t(){return C(this,t),T(this,e.apply(this,arguments))}return I(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.navigate,n=e.to,r=(e.from,e.replace),i=void 0===r||r,o=e.state,s=(e.noThrow,e.baseuri),a=k(e,["navigate","to","from","replace","state","noThrow","baseuri"]);Promise.resolve().then((function(){var e=l(n,s);t(f(e,a),{replace:i,state:o})}))},t.prototype.render=function(){var e=this.props,t=(e.navigate,e.to),n=(e.from,e.replace,e.state,e.noThrow),r=e.baseuri,i=k(e,["navigate","to","from","replace","state","noThrow","baseuri"]),o=l(t,r);return n||function(e){throw new H(e)}(f(o,i)),null},t}(e.Component),K=function(t){return e.createElement(j.Consumer,null,(function(n){var r=n.baseuri;return e.createElement(N,null,(function(n){return e.createElement(G,x({},n,{baseuri:r},t))}))}))},Q=function(e){return e.replace(/(^\/+|\/+$)/g,"")},X=function t(n){return function(r){if(!r)return null;if(r.type===e.Fragment&&r.props.children)return e.Children.map(r.props.children,t(n));if(r.props.path||r.props.default||r.type===K||i()(!1),r.type!==K||r.props.from&&r.props.to||i()(!1),r.type!==K||function(e,t){var n=function(e){return p(e)};return m(e).filter(n).sort().join("/")===m(t).filter(n).sort().join("/")}(r.props.from,r.props.to)||i()(!1),r.props.default)return{value:r,default:!0};var o=r.type===K?r.props.from:r.props.path,s="/"===o?n:Q(n)+"/"+Q(o);return{value:r,default:r.props.default,path:r.props.children?Q(s)+"/*":s}}},$=function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},J=n(4942);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,J.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ne(e,t){if(e){if("string"===typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?te(e,t):void 0}}function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],s=!0,a=!1;try{for(n=n.call(e);!(s=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);s=!0);}catch(u){a=!0,i=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw i}}return o}}(e,t)||ne(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ie=n(2119),oe=n(2455),se=n(184),ae=new ie.Notion({autoSelectDevice:!1,timesync:!0}),ue={selectedDevice:null,status:null,user:null,loadingUser:!0},ce=(0,e.createContext)(),le=function(){return(0,e.useContext)(ce)};ae.__getApp(),ie.Notion.SERVER_TIMESTAMP;function fe(t){var n=t.children,r=function(){var t=re((0,oe.Z)("deviceId"),2),n=t[0],r=t[1],i=re((0,e.useState)(ee({},ue)),2),o=i[0],s=i[1],a=o.user,u=o.selectedDevice,c=(0,e.useCallback)((function(e){s((function(t){return ee(ee({},t),{},{selectedDevice:e})}))}),[]);(0,e.useEffect)((function(){a&&!u&&ae.selectDevice((function(e){return n?e.find((function(e){return e.deviceId===n})):e[0]}))}),[a,n,u]),(0,e.useEffect)((function(){if(u){var e=ae.status().subscribe((function(e){s((function(t){return ee(ee({},t),{},{status:e})}))}));return function(){e.unsubscribe()}}}),[u]),(0,e.useEffect)((function(){s((function(e){return ee(ee({},e),{},{loadingUser:!0})}));var e=ae.onAuthStateChanged().subscribe((function(e){s((function(t){return ee(ee({},t),{},{user:e,loadingUser:!1})}))}));return function(){e.unsubscribe()}}),[]),(0,e.useEffect)((function(){var e=ae.onDeviceChange().subscribe((function(e){c(e),r(e.deviceId)}));return function(){e.unsubscribe()}}),[c,r]);var l=(0,e.useCallback)((function(){return new Promise((function(e){ae.logout().then(e),s(ee(ee({},ue),{},{loadingUser:!1}))}))}),[]);return ee(ee({},o),{},{lastSelectedDeviceId:n,setLastSelectedDeviceId:r,logoutNotion:l,setSelectedDevice:c})}();return(0,se.jsx)(ce.Provider,{value:r,children:n})}function he(){var t=le(),n=t.user,r=t.lastSelectedDeviceId,i=re((0,e.useState)([]),2),o=i[0],s=i[1],a=re((0,e.useState)(""),2),u=a[0],c=a[1],l=re((0,e.useState)(!0),2),f=l[0],h=l[1],p=re((0,e.useState)(!1),2),d=p[0],v=p[1],y=re((0,e.useState)(""),2),m=y[0],b=y[1];return(0,e.useEffect)((function(){n&&!d&&(h(!0),ae.getDevices().then((function(e){s(e),e.length&&c(r||e[0].deviceId)})).catch((function(e){b(e.message)})).finally((function(){h(!1)})))}),[n,r,d]),(0,se.jsx)("main",{className:"main-container",children:(0,se.jsxs)("form",{className:"card login-form",onSubmit:function(e){e.preventDefault(),v(!0),ae.selectDevice((function(e){return e.find((function(e){return e.deviceId===u}))})).then((function(){O("/")})).catch((function(e){b(e.message)}))},children:[(0,se.jsx)("h3",{className:"card-heading",children:"Devices"}),m?(0,se.jsx)("h4",{className:"card-error",children:m}):null,(0,se.jsxs)("div",{className:"row",children:[(0,se.jsx)("label",{children:"Select a Device"}),(0,se.jsx)("select",{name:"deviceSelect",value:u,disabled:f,onChange:function(e){return c(e.target.value)},children:o.map((function(e){return(0,se.jsx)("option",{value:e.deviceId,children:e.deviceNickname||e.modelName},e.deviceId)}))})]}),(0,se.jsx)("div",{className:"row",children:(0,se.jsx)("button",{type:"submit",className:"card-btn",disabled:f,children:f?"Loading Devices...":"Select"})})]})})}function pe(){return(0,se.jsx)("div",{className:"loading-container",children:(0,se.jsx)("div",{className:"loading-spinner"})})}function de(e,t,n,r,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void n(c)}a.done?t(u):Promise.resolve(u).then(r,i)}function ve(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){de(o,r,i,s,a,"next",e)}function a(e){de(o,r,i,s,a,"throw",e)}s(void 0)}))}}var ye=n(7757),me=n.n(ye),be=n(8118);function ge(t){var n=t.onLogin,r=t.loading,i=t.error,o=t.footerComponent,s=re((0,e.useState)(""),2),a=s[0],u=s[1],c=re((0,e.useState)(""),2),l=c[0],f=c[1];return(0,se.jsxs)("form",{className:"card login-form",onSubmit:function(e){e.preventDefault(),n({email:a,password:l})},children:[(0,se.jsx)("h3",{className:"card-heading",children:"Login"}),i?(0,se.jsx)("h4",{className:"card-error",children:i}):null,(0,se.jsxs)("div",{className:"row",children:[(0,se.jsx)("label",{children:"Email"}),(0,se.jsx)("input",{type:"email",value:a,disabled:r,onChange:function(e){return u(e.target.value)}})]}),(0,se.jsxs)("div",{className:"row",children:[(0,se.jsx)("label",{children:"Password"}),(0,se.jsx)("input",{type:"password",value:l,disabled:r,onChange:function(e){return f(e.target.value)}})]}),(0,se.jsx)("div",{className:"row",children:(0,se.jsx)("button",{type:"submit",className:"card-btn",disabled:r,children:r?"Logging in...":"Login"})}),o]})}function _e(){return(0,se.jsxs)("footer",{className:"card-footer",children:[(0,se.jsx)("a",{className:"card-link card-footer-cta",href:"https://github.com/neurosity/notion-react-starter",target:"_blank",rel:"noopener noreferrer",children:"View source code"}),(0,se.jsxs)("div",{className:"card-footer-credits",children:["Built by"," ",(0,se.jsx)("a",{className:"card-link",href:"https://neurosity.co",target:"_blank",rel:"noopener noreferrer",children:"Neurosity"})]})]})}function we(){var t=le(),n=t.user,r=t.lastSelectedDeviceId,i=t.setSelectedDevice,o=re((0,e.useState)(""),2),s=o[0],a=o[1],u=re((0,e.useState)(""),2),c=u[0],l=u[1],f=re((0,e.useState)(""),2),h=f[0],p=f[1],d=re((0,e.useState)(!1),2),v=d[0],y=d[1];function m(){p(""),a(""),l("")}return(0,be.Z)((function(){n&&O("/")})),(0,e.useEffect)((function(){function e(){return e=ve(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.next=3,ae.login({email:s,password:c}).catch((function(e){p(e.message)}));case 3:e.sent&&((t=new WebSocket("ws://localhost:9898/")).onopen=function(){console.log("WebSocket Client Connected");var e={action:"login",command:"auth",message:{email:s,password:c}};t.send(JSON.stringify(e))},t.onmessage=function(e){console.log("Received: '"+e.data+"'")},m(),O(r?"/":"/devices")),y(!1);case 6:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}s&&c&&function(){e.apply(this,arguments)}()}),[s,c,p,r,i]),(0,se.jsx)("main",{className:"main-container",children:(0,se.jsx)(ge,{onLogin:function(e){var t=e.email,n=e.password;t&&n?(p(""),a(t),l(n)):p("Please fill the form")},error:h,loading:v,footerComponent:(0,se.jsx)(_e,{})})})}function Ee(){var t=le().logoutNotion;return(0,e.useEffect)((function(){t().then((function(){O("/")}))}),[t]),null}function Se(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Oe=n(7441),xe=n(9613),ke=n.n(xe);var Ce=function(e){function t(e,r,u,c,h){for(var p,d,v,y,_,E=0,S=0,O=0,x=0,k=0,N=0,j=v=p=0,M=0,L=0,F=0,U=0,V=u.length,W=V-1,B="",q="",z="",H="";M<V;){if(d=u.charCodeAt(M),M===W&&0!==S+x+O+E&&(0!==S&&(d=47===S?10:47),x=O=E=0,V++,W++),0===S+x+O+E){if(M===W&&(0<L&&(B=B.replace(f,"")),0<B.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}d=59}switch(d){case 123:for(p=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(d=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(M+1)){case 42:case 47:e:{for(j=M+1;j<W;++j)switch(u.charCodeAt(j)){case 47:if(42===d&&42===u.charCodeAt(j-1)&&M+2!==j){M=j+1;break e}break;case 10:if(47===d){M=j+1;break e}}M=j}}break;case 91:d++;case 40:d++;case 34:case 39:for(;M++<W&&u.charCodeAt(M)!==d;);}if(0===v)break;M++}if(v=u.substring(U,M),0===p&&(p=(B=B.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<L&&(B=B.replace(f,"")),d=B.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=A}if(U=(v=t(r,L,v,d,h+1)).length,0<D&&(_=a(3,v,L=n(A,B,F),r,T,C,U,d,h,c),B=L.join(""),void 0!==_&&0===(U=(v=_.trim()).length)&&(d=0,v="")),0<U)switch(d){case 115:B=B.replace(w,s);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(m,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,F),v,c,h+1);z+=v,v=F=L=j=p=0,B="",d=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<L?B.replace(f,""):B).trim()).length))switch(0===j&&(p=B.charCodeAt(0),45===p||96<p&&123>p)&&(U=(B=B.replace(" ",":")).length),0<D&&void 0!==(_=a(1,B,r,e,T,C,q.length,c,h,c))&&0===(U=(B=_.trim()).length)&&(B="\0\0"),p=B.charCodeAt(0),d=B.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){H+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,p,d,B.charCodeAt(2)))}F=L=j=p=0,B="",d=u.charCodeAt(++M)}}switch(d){case 13:case 10:47===S?S=0:0===1+p&&107!==c&&0<B.length&&(L=1,B+="\0"),0<D*R&&a(0,B,r,e,T,C,q.length,c,h,c),C=1,T++;break;case 59:case 125:if(0===S+x+O+E){C++;break}default:switch(C++,y=u.charAt(M),d){case 9:case 32:if(0===x+E+S)switch(k){case 44:case 58:case 9:case 32:y="";break;default:32!==d&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===x+S+E&&(L=F=1,y="\f"+y);break;case 108:if(0===x+S+E+I&&0<j)switch(M-j){case 2:112===k&&58===u.charCodeAt(M-3)&&(I=k);case 8:111===N&&(I=N)}break;case 58:0===x+S+E&&(j=M);break;case 44:0===S+O+x+E&&(L=1,y+="\r");break;case 34:case 39:0===S&&(x=x===d?0:0===x?d:x);break;case 91:0===x+S+O&&E++;break;case 93:0===x+S+O&&E--;break;case 41:0===x+S+E&&O--;break;case 40:if(0===x+S+E){if(0===p)if(2*k+3*N===533);else p=1;O++}break;case 64:0===S+O+x+E+j+v&&(v=1);break;case 42:case 47:if(!(0<x+E+O))switch(S){case 0:switch(2*d+3*u.charCodeAt(M+1)){case 235:S=47;break;case 220:U=M,S=42}break;case 42:47===d&&42===k&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),y="",S=0)}}0===S&&(B+=y)}N=k,k=d,M++}if(0<(U=q.length)){if(L=r,0<D&&(void 0!==(_=a(2,q,L,e,T,C,U,c,h,c))&&0===(q=_).length))return H+q+z;if(q=L.join(",")+"{"+q+"}",0!==P*I){switch(2!==P||o(q,2)||(I=0),I){case 111:q=q.replace(g,":-moz-$1")+q;break;case 112:q=q.replace(b,"::-webkit-input-$1")+q.replace(b,"::-moz-$1")+q.replace(b,":-ms-input-$1")+q}I=0}}return H+q+z}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,s=e.length;switch(s){case 0:case 1:var a=0;for(e=0===s?"":e[0]+" ";a<o;++a)t[a]=r(e,t[a],n).trim();break;default:var u=a=0;for(t=[];a<o;++a)for(var c=0;c<s;++c)t[u++]=r(e[c]+" ",i[a],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var s=e+";",a=2*t+3*n+4*r;if(944===a){e=s.indexOf(":",9)+1;var u=s.substring(e,s.length-1).trim();return u=s.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(k,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return p.test(s)?s.replace(h,":-webkit-")+s.replace(h,":-moz-")+s:s;case 1e3:switch(t=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=s.replace(_,"tb");break;case 232:u=s.replace(_,"tb-rl");break;case 220:u=s.replace(_,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,a=(u=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(S,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(S,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+r&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+s}return s}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?r:r.replace(O,"$1"),n,t)}function s(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,s,a,u,l){for(var f,h=0,p=t;h<D;++h)switch(f=N[h].call(c,e,p,n,r,i,o,s,a,u,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!==typeof e?P=1:(P=2,j=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=a(-1,n,r,r,T,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(A,r,n,0,0);return 0<D&&(void 0!==(i=a(-2,o,r,r,T,C,o.length,0,0,0))&&(o=i)),"",I=0,C=T=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,g=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,C=1,T=1,I=0,P=1,A=[],N=[],D=0,j=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:D=N.length=0;break;default:if("function"===typeof t)N[D++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else R=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},Te={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ie=n(5524),Pe=n(2110),Ae=n.n(Pe);function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var De=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},je=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,Oe.typeOf)(e)},Re=Object.freeze([]),Me=Object.freeze({});function Le(e){return"function"==typeof e}function Fe(e){return e.displayName||e.name||"Component"}function Ue(e){return e&&"string"==typeof e.styledComponentId}var Ve="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",We="undefined"!=typeof window&&"HTMLElement"in window,Be=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY));function qe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var ze=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&qe(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var s=this.indexOfGroup(e+1),a=0,u=t.length;a<u;a++)this.tag.insertRule(s,t[a])&&(this.groupSizes[e]++,s++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),He=new Map,Ye=new Map,Ge=1,Ke=function(e){if(He.has(e))return He.get(e);for(;Ye.has(Ge);)Ge++;var t=Ge++;return He.set(e,t),Ye.set(t,e),t},Qe=function(e){return Ye.get(e)},Xe=function(e,t){t>=Ge&&(Ge=t+1),He.set(e,t),Ye.set(t,e)},$e="style["+Ve+'][data-styled-version="5.3.3"]',Je=new RegExp("^"+Ve+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),Ze=function(e,t,n){for(var r,i=n.split(","),o=0,s=i.length;o<s;o++)(r=i[o])&&e.registerName(t,r)},et=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var s=n[i].trim();if(s){var a=s.match(Je);if(a){var u=0|parseInt(a[1],10),c=a[2];0!==u&&(Xe(c,u),Ze(e,c,a[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(s)}}},tt=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},nt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(Ve))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(Ve,"active"),r.setAttribute("data-styled-version","5.3.3");var s=tt();return s&&r.setAttribute("nonce",s),n.insertBefore(r,o),r},rt=function(){function e(e){var t=this.element=nt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}qe(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),it=function(){function e(e){var t=this.element=nt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ot=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),st=We,at={isServer:!We,useCSSOMInjection:!Be},ut=function(){function e(e,t,n){void 0===e&&(e=Me),void 0===t&&(t={}),this.options=Ne({},at,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&We&&st&&(st=!1,function(e){for(var t=document.querySelectorAll($e),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(Ve)&&(et(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return Ke(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Ne({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new ot(i):r?new rt(i):new it(i),new ze(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(Ke(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Ke(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(Ke(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=Qe(i);if(void 0!==o){var s=e.names.get(o),a=t.getGroup(i);if(s&&a&&s.size){var u=Ve+".g"+i+'[id="'+o+'"]',c="";void 0!==s&&s.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+a+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),ct=/(a)(d)/gi,lt=function(e){return String.fromCharCode(e+(e>25?39:97))};function ft(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=lt(t%52)+n;return(lt(t%52)+n).replace(ct,"$1-$2")}var ht=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},pt=function(e){return ht(5381,e)};function dt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Le(n)&&!Ue(n))return!1}return!0}var vt=pt("5.3.3"),yt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&dt(e),this.componentId=t,this.baseHash=ht(vt,t),this.baseStyle=n,ut.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=jt(this.rules,e,t,n).join(""),s=ft(ht(this.baseHash,o)>>>0);if(!t.hasNameForId(r,s)){var a=n(o,"."+s,void 0,r);t.insertRules(r,s,a)}i.push(s),this.staticRulesId=s}else{for(var u=this.rules.length,c=ht(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var p=jt(h,e,t,n),d=Array.isArray(p)?p.join(""):p;c=ht(c,d+f),l+=d}}if(l){var v=ft(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),mt=/^\s*\/\/.*$/gm,bt=[":","[",".","#"];function gt(e){var t,n,r,i,o=void 0===e?Me:e,s=o.options,a=void 0===s?Me:s,u=o.plugins,c=void 0===u?Re:u,l=new Ce(a),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,s,a,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,r,o){return 0===r&&-1!==bt.indexOf(o[n.length])||o.match(i)?e:"."+t};function d(e,o,s,a){void 0===a&&(a="&");var u=e.replace(mt,""),c=o&&s?s+" "+o+" { "+u+" }":u;return t=a,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(s||!o?"":o,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),d.hash=c.length?c.reduce((function(e,t){return t.name||qe(15),ht(e,t.name)}),5381).toString():"",d}var _t=e.createContext(),wt=(_t.Consumer,e.createContext()),Et=(wt.Consumer,new ut),St=gt();function Ot(){return(0,e.useContext)(_t)||Et}function xt(){return(0,e.useContext)(wt)||St}function kt(t){var n=(0,e.useState)(t.stylisPlugins),r=n[0],i=n[1],o=Ot(),s=(0,e.useMemo)((function(){var e=o;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e}),[t.disableCSSOMInjection,t.sheet,t.target]),a=(0,e.useMemo)((function(){return gt({options:{prefix:!t.disableVendorPrefixes},plugins:r})}),[t.disableVendorPrefixes,r]);return(0,e.useEffect)((function(){ke()(r,t.stylisPlugins)||i(t.stylisPlugins)}),[t.stylisPlugins]),e.createElement(_t.Provider,{value:s},e.createElement(wt.Provider,{value:a},t.children))}var Ct=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=St);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return qe(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=St),this.name+e.hash},e}(),Tt=/([A-Z])/,It=/([A-Z])/g,Pt=/^ms-/,At=function(e){return"-"+e.toLowerCase()};function Nt(e){return Tt.test(e)?e.replace(It,At).replace(Pt,"-ms-"):e}var Dt=function(e){return null==e||!1===e||""===e};function jt(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],s=0,a=e.length;s<a;s+=1)""!==(i=jt(e[s],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return Dt(e)?"":Ue(e)?"."+e.styledComponentId:Le(e)?"function"!=typeof(u=e)||u.prototype&&u.prototype.isReactComponent||!t?e:jt(e(t),t,n,r):e instanceof Ct?n?(e.inject(n,r),e.getName(r)):e:je(e)?function e(t,n){var r,i,o=[];for(var s in t)t.hasOwnProperty(s)&&!Dt(t[s])&&(Array.isArray(t[s])&&t[s].isCss||Le(t[s])?o.push(Nt(s)+":",t[s],";"):je(t[s])?o.push.apply(o,e(t[s],s)):o.push(Nt(s)+": "+(r=s,(null==(i=t[s])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Te?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var u}var Rt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Mt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Le(e)||je(e)?Rt(jt(De(Re,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Rt(jt(De(e,n)))}new Set;var Lt=function(e,t,n){return void 0===n&&(n=Me),e.theme!==n.theme&&e.theme||t||n.theme},Ft=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Ut=/(^-|-$)/g;function Vt(e){return e.replace(Ft,"-").replace(Ut,"")}var Wt=function(e){return ft(pt(e)>>>0)};function Bt(e){return"string"==typeof e&&!0}var qt=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},zt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ht(e,t,n){var r=e[n];qt(t)&&qt(r)?Yt(r,t):e[n]=t}function Yt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(qt(s))for(var a in s)zt(a)&&Ht(e,s[a],a)}return e}var Gt=e.createContext();Gt.Consumer;var Kt={};function Qt(t,n,r){var i=Ue(t),o=!Bt(t),s=n.attrs,a=void 0===s?Re:s,u=n.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":Vt(e);Kt[n]=(Kt[n]||0)+1;var r=n+"-"+Wt("5.3.3"+n+Kt[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):u,l=n.displayName,f=void 0===l?function(e){return Bt(e)?"styled."+e:"Styled("+Fe(e)+")"}(t):l,h=n.displayName&&n.componentId?Vt(n.displayName)+"-"+n.componentId:n.componentId||c,p=i&&t.attrs?Array.prototype.concat(t.attrs,a).filter(Boolean):a,d=n.shouldForwardProp;i&&t.shouldForwardProp&&(d=n.shouldForwardProp?function(e,r,i){return t.shouldForwardProp(e,r,i)&&n.shouldForwardProp(e,r,i)}:t.shouldForwardProp);var v,y=new yt(r,h,i?t.componentStyle:void 0),m=y.isStatic&&0===a.length,b=function(t,n){return function(t,n,r,i){var o=t.attrs,s=t.componentStyle,a=t.defaultProps,u=t.foldedComponentIds,c=t.shouldForwardProp,l=t.styledComponentId,f=t.target,h=function(e,t,n){void 0===e&&(e=Me);var r=Ne({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,s=e;for(t in Le(s)&&(s=s(r)),s)r[t]=i[t]="className"===t?(n=i[t],o=s[t],n&&o?n+" "+o:n||o):s[t]})),[r,i]}(Lt(n,(0,e.useContext)(Gt),a)||Me,n,o),p=h[0],d=h[1],v=function(e,t,n,r){var i=Ot(),o=xt();return t?e.generateAndInjectStyles(Me,i,o):e.generateAndInjectStyles(n,i,o)}(s,i,p),y=r,m=d.$as||n.$as||d.as||n.as||f,b=Bt(m),g=d!==n?Ne({},n,{},d):n,_={};for(var w in g)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?_.as=g[w]:(c?c(w,Ie.Z,m):!b||(0,Ie.Z)(w))&&(_[w]=g[w]));return n.style&&d.style!==n.style&&(_.style=Ne({},n.style,{},d.style)),_.className=Array.prototype.concat(u,l,v!==l?v:null,n.className,d.className).filter(Boolean).join(" "),_.ref=y,(0,e.createElement)(m,_)}(v,t,n,m)};return b.displayName=f,(v=e.forwardRef(b)).attrs=p,v.componentStyle=y,v.displayName=f,v.shouldForwardProp=d,v.foldedComponentIds=i?Array.prototype.concat(t.foldedComponentIds,t.styledComponentId):Re,v.styledComponentId=h,v.target=i?t.target:t,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),o=t&&t+"-"+(Bt(e)?e:Vt(Fe(e)));return Qt(e,Ne({},i,{attrs:p,componentId:o}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?Yt({},t.defaultProps,e):e}}),v.toString=function(){return"."+v.styledComponentId},o&&Ae()(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var Xt=function(e){return function e(t,n,r){if(void 0===r&&(r=Me),!(0,Oe.isValidElementType)(n))return qe(1,String(n));var i=function(){return t(n,r,Mt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Ne({},r,{},i))},i.attrs=function(i){return e(t,n,Ne({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(Qt,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Xt[e]=Xt(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=dt(e),ut.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(jt(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&ut.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var n=tt();return"<style "+[n&&'nonce="'+n+'"',Ve+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+e+"</style>"},this.getStyleTags=function(){return t.sealed?qe(2):t._emitSheetCSS()},this.getStyleElement=function(){var n;if(t.sealed)return qe(2);var r=((n={})[Ve]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:t.instance.toString()},n),i=tt();return i&&(r.nonce=i),[e.createElement("style",Ne({},r,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new ut({isServer:!0}),this.sealed=!1}var n=t.prototype;n.collectStyles=function(t){return this.sealed?qe(2):e.createElement(kt,{sheet:this.instance},t)},n.interleaveWithNodeStream=function(e){return qe(3)}}();var $t=Xt,Jt=function(e,t){return Jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Jt(e,t)};function Zt(e,t){function n(){this.constructor=e}Jt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function en(e){return"function"===typeof e}var tn=!1,nn={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;tn=e},get useDeprecatedSynchronousErrorHandling(){return tn}};function rn(e){setTimeout((function(){throw e}),0)}var on={closed:!0,next:function(e){},error:function(e){if(nn.useDeprecatedSynchronousErrorHandling)throw e;rn(e)},complete:function(){}},sn=function(){return Array.isArray||function(e){return e&&"number"===typeof e.length}}();function an(e){return null!==e&&"object"===typeof e}var un=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),cn=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this,r=n._parentOrParents,i=n._ctorUnsubscribe,o=n._unsubscribe,s=n._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var a=0;a<r.length;++a){r[a].remove(this)}if(en(o)){i&&(this._unsubscribe=void 0);try{o.call(this)}catch(l){t=l instanceof un?ln(l.errors):[l]}}if(sn(s)){a=-1;for(var u=s.length;++a<u;){var c=s[a];if(an(c))try{c.unsubscribe()}catch(l){t=t||[],l instanceof un?t=t.concat(ln(l.errors)):t.push(l)}}}if(t)throw new un(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function ln(e){return e.reduce((function(e,t){return e.concat(t instanceof un?t.errors:t)}),[])}var fn=function(){return"function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),hn=function(e){function t(n,r,i){var o=e.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=on;break;case 1:if(!n){o.destination=on;break}if("object"===typeof n){n instanceof t?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new pn(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new pn(o,n,r,i)}return o}return Zt(t,e),t.prototype[fn]=function(){return this},t.create=function(e,n,r){var i=new t(e,n,r);return i.syncErrorThrowable=!1,i},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(cn),pn=function(e){function t(t,n,r,i){var o,s=e.call(this)||this;s._parentSubscriber=t;var a=s;return en(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==on&&(en((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=o,s._error=r,s._complete=i,s}return Zt(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;nn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=nn.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):rn(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;rn(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};nn.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),nn.useDeprecatedSynchronousErrorHandling)throw n;rn(n)}},t.prototype.__tryOrSetError=function(e,t,n){if(!nn.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return nn.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(rn(r),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(hn);var dn=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function vn(e){return e}function yn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mn(e)}function mn(e){return 0===e.length?vn:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var bn=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof hn)return e;if(e[fn])return e[fn]()}return e||t||n?new hn(e,t,n):new hn(on)}(e,t,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||nn.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),nn.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){nn.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof hn?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=gn(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[dn]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:mn(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=gn(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function gn(e){if(e||(e=nn.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var _n=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return Zt(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return Zt(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(cn)),wn=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),En=function(e){function t(n,r){void 0===r&&(r=wn.now);var i=e.call(this,n,(function(){return t.delegate&&t.delegate!==i?t.delegate.now():r()}))||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return Zt(t,e),t.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,i):e.prototype.schedule.call(this,n,r,i)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(wn),Sn=new En(_n);function On(e){return!sn(e)&&e-parseFloat(e)+1>=0}function xn(e){return e&&"function"===typeof e.schedule}function kn(e,t,n){void 0===e&&(e=0);var r=-1;return On(t)?r=Number(t)<1?1:Number(t):xn(t)&&(n=t),xn(n)||(n=Sn),new bn((function(t){var i=On(e)?e:+e-n.now();return n.schedule(Cn,i,{index:0,period:r,subscriber:t})}))}function Cn(e){var t=e.index,n=e.period,r=e.subscriber;if(r.next(t),!r.closed){if(-1===n)return r.complete();e.index=t+1,this.schedule(e,n)}}var Tn=n(5023),In=n.n(Tn);function Pn(e){return function(e){if(Array.isArray(e))return te(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ne(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var An=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function Nn(e,t){return new bn((function(n){var r=new cn,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function Dn(e,t){return t?Nn(e,t):new bn(An(e))}function jn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e[e.length-1];return xn(n)?(e.pop(),Nn(e,n)):Dn(e)}function Rn(e,t){return function(n){if("function"!==typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Mn(e,t))}}var Mn=function(){function e(e,t){this.project=e,this.thisArg=t}return e.prototype.call=function(e,t){return t.subscribe(new Ln(e,this.project,this.thisArg))},e}(),Ln=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return Zt(t,e),t.prototype._next=function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)},t}(hn);function Fn(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Un=Fn(),Vn=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function Wn(e){return!!e&&"function"!==typeof e.subscribe&&"function"===typeof e.then}var Bn=function(e){if(e&&"function"===typeof e[dn])return r=e,function(e){var t=r[dn]();if("function"!==typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(Vn(e))return An(e);if(Wn(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,rn),e};if(e&&"function"===typeof e[Un])return t=e,function(e){for(var n=t[Un]();;){var r=void 0;try{r=n.next()}catch(i){return e.error(i),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"===typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,i=an(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function qn(e,t){if(null!=e){if(function(e){return e&&"function"===typeof e[dn]}(e))return function(e,t){return new bn((function(n){var r=new cn;return r.add(t.schedule((function(){var i=e[dn]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}))}(e,t);if(Wn(e))return function(e,t){return new bn((function(n){var r=new cn;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}))}(e,t);if(Vn(e))return Nn(e,t);if(function(e){return e&&"function"===typeof e[Un]}(e)||"string"===typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new bn((function(n){var r,i=new cn;return i.add((function(){r&&"function"===typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[Un](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(o){return void n.error(o)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}var zn=function(e){function t(t){var n=e.call(this)||this;return n.parent=t,n}return Zt(t,e),t.prototype._next=function(e){this.parent.notifyNext(e)},t.prototype._error=function(e){this.parent.notifyError(e),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},t}(hn),Hn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zt(t,e),t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyError=function(e){this.destination.error(e)},t.prototype.notifyComplete=function(){this.destination.complete()},t}(hn);function Yn(e,t){if(!t.closed){if(e instanceof bn)return e.subscribe(t);var n;try{n=Bn(e)(t)}catch(r){t.error(r)}return n}}function Gn(e,t,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof t?function(r){return r.pipe(Gn((function(n,r){return(i=e(n,r),o?qn(i,o):i instanceof bn?i:new bn(Bn(i))).pipe(Rn((function(e,i){return t(n,e,r,i)})));var i,o}),n))}:("number"===typeof t&&(n=t),function(t){return t.lift(new Kn(e,n))})}var Kn=function(){function e(e,t){void 0===t&&(t=Number.POSITIVE_INFINITY),this.project=e,this.concurrent=t}return e.prototype.call=function(e,t){return t.subscribe(new Qn(e,this.project,this.concurrent))},e}(),Qn=function(e){function t(t,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return Zt(t,e),t.prototype._next=function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)},t.prototype._tryNext=function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)},t.prototype._innerSub=function(e){var t=new zn(this),n=this.destination;n.add(t);var r=Yn(e,t);r!==t&&n.add(r)},t.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},t.prototype.notifyNext=function(e){this.destination.next(e)},t.prototype.notifyComplete=function(){var e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},t}(Hn);function Xn(){return void 0===(e=1)&&(e=Number.POSITIVE_INFINITY),Gn(vn,e);var e}function $n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Xn()(jn.apply(void 0,e))}var Jn=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r}return Zt(t,e),t.prototype.requestAsyncId=function(t,n,r){return void 0===r&&(r=0),null!==r&&r>0?e.prototype.requestAsyncId.call(this,t,n,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame((function(){return t.flush(null)}))))},t.prototype.recycleAsyncId=function(t,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return e.prototype.recycleAsyncId.call(this,t,n,r);0===t.actions.length&&(cancelAnimationFrame(n),t.scheduled=void 0)},t}(_n),Zn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Zt(t,e),t.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,n=this.actions,r=-1,i=n.length;e=e||n.shift();do{if(t=e.execute(e.state,e.delay))break}while(++r<i&&(e=n.shift()));if(this.active=!1,t){for(;++r<i&&(e=n.shift());)e.unsubscribe();throw t}},t}(En),er=new Zn(Jn);function tr(e){return function(t){return t.lift(new rr(e))}}var nr,rr=function(){function e(e){this.notifier=e}return e.prototype.call=function(e,t){var n=new ir(e),r=Yn(this.notifier,new zn(n));return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n},e}(),ir=function(e){function t(t){var n=e.call(this,t)||this;return n.seenValue=!1,n}return Zt(t,e),t.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},t.prototype.notifyComplete=function(){},t}(Hn),or=$t.div(nr||(nr=Se(['\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  position: relative;\n\n  &:after {\n    content: " ";\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-25px, -25px);\n    width: 50px;\n    height: 50px;\n    background-color: ',";\n  }\n"])),(function(e){return e.isActive?"white":"transparent"}));function sr(t){var n=t.duration,r=void 0===n?3e3:n,i=t.frequencies,o=void 0===i?[10]:i,s=re((0,e.useState)(!1),2),a=s[0],u=s[1];return(0,e.useEffect)((function(){var e=o.map((function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e5;return kn(0,1e3/e/2,er).pipe(Rn((function(e){return e%2===0})),tr(kn(t)))}(e,r)}));$n.apply(void 0,Pn(e)).subscribe((function(e){u(e)}))}),[]),(0,se.jsx)(or,{isActive:a})}function ar(e){var t=e.start,n=e.index,r=e.count,i=e.subscriber;n>=r?i.complete():(i.next(t),i.closed||(e.index=n+1,e.start=t+1,this.schedule(e)))}function ur(){}function cr(e,t,n){return function(r){return r.lift(new pr(e,t,n))}}var lr,fr,hr,pr=function(){function e(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}return e.prototype.call=function(e,t){return t.subscribe(new dr(e,this.nextOrObserver,this.error,this.complete))},e}(),dr=function(e){function t(t,n,r,i){var o=e.call(this,t)||this;return o._tapNext=ur,o._tapError=ur,o._tapComplete=ur,o._tapError=r||ur,o._tapComplete=i||ur,en(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||ur,o._tapError=n.error||ur,o._tapComplete=n.complete||ur),o}return Zt(t,e),t.prototype._next=function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)},t.prototype._error=function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)},t.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()},t}(hn);var vr,yr,mr=$t.div(lr||(lr=Se(["\n  display: flex;\n  flex-wrap: wrap;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n"]))),br=$t.div(fr||(fr=Se(["\n  display: flex;\n  width: 33%;\n  height: 100px;\n  position: relative;\n  justify-content: center;\n  align-items: center;\n"]))),gr=$t.div(hr||(hr=Se(["\n  width: 20px;\n  height: 20px;\n  background-color: white;\n"])));function _r(t){var n=t.sampleSize,r=void 0===n?40:n,i=t.baselinePeriod,o=void 0===i?5e3:i,s=t.minWaitPeriod,a=void 0===s?800:s,u=t.maxWaitPeriod,c=void 0===u?1200:u,l=t.onVisualStimuli,f=void 0===l?function(){}:l,h=re((0,e.useState)(Array.from({length:9},(function(){return!1}))),2),p=h[0],d=h[1];return(0,e.useEffect)((function(){kn(o).subscribe((function(){var e,t,n,i,o;(n=0,i=r,void 0===n&&(n=0),new bn((function(e){void 0===i&&(i=n,n=0);var t=0,r=n;if(o)return o.schedule(ar,0,{index:t,count:i,start:n,subscriber:e});for(;;){if(t++>=i){e.complete();break}if(e.next(r++),e.closed)break}}))).pipe((e=function(){return kn(wr(a,c),er).pipe(cr((function(){!function(){var e=wr(0,p.length-1);d((function(t){return t.map((function(t,n){return n===e}))})),f("vep")}()})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return t.lift.call($n.apply(void 0,[t].concat(e)))}}(kn(250,er).pipe(cr((function(){d((function(e){return e.map((function(){return!1}))}))})))))},Gn(e,t,1))).subscribe()}))}),[]),(0,se.jsx)(mr,{children:p.map((function(e,t){return(0,se.jsx)(br,{children:e?(0,se.jsx)(gr,{}):null},t)}))})}function wr(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}var Er=$t.div(vr||(vr=Se(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 100%;\n  flex-wrap: wrap;\n"]))),Sr=$t.div(yr||(yr=Se(["\n  width: 33.33%;\n  text-align: center;\n"])));function Or(){return(0,se.jsxs)(Er,{children:[(0,se.jsxs)(Sr,{children:[(0,se.jsx)("p",{children:"3+9"}),(0,se.jsx)("p",{children:"5+11"}),(0,se.jsx)("p",{children:"4+13"}),(0,se.jsx)("p",{children:"12+7"}),(0,se.jsx)("p",{children:"14+28"})]}),(0,se.jsxs)(Sr,{children:[(0,se.jsx)("p",{children:"15+9"}),(0,se.jsx)("p",{children:"8+21"}),(0,se.jsx)("p",{children:"15-9"}),(0,se.jsx)("p",{children:"27-4"}),(0,se.jsx)("p",{children:"21-7"})]}),(0,se.jsxs)(Sr,{children:[(0,se.jsx)("p",{children:"3x7"}),(0,se.jsx)("p",{children:"4x4"}),(0,se.jsx)("p",{children:"13x3"}),(0,se.jsx)("p",{children:"4x16"}),(0,se.jsx)("p",{children:"8x8"})]})]})}var xr=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function kr(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||xr(r)&&xr(i)))return!1;var r,i;return!0}var Cr=function(e,t){var n;void 0===t&&(t=kr);var r,i=[],o=!1;return function(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];return o&&n===this&&t(s,i)||(r=e.apply(this,s),o=!0,n=this,i=s),r}};var Tr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ir={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Pr=function(e){for(var t,n=e.length,r=n^n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)};var Ar=function(e){function t(e,r,u,c,h){for(var p,d,v,y,_,E=0,S=0,O=0,x=0,k=0,N=0,j=v=p=0,M=0,L=0,F=0,U=0,V=u.length,W=V-1,B="",q="",z="",H="";M<V;){if(d=u.charCodeAt(M),M===W&&0!==S+x+O+E&&(0!==S&&(d=47===S?10:47),x=O=E=0,V++,W++),0===S+x+O+E){if(M===W&&(0<L&&(B=B.replace(f,"")),0<B.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:B+=u.charAt(M)}d=59}switch(d){case 123:for(p=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(d=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(M+1)){case 42:case 47:e:{for(j=M+1;j<W;++j)switch(u.charCodeAt(j)){case 47:if(42===d&&42===u.charCodeAt(j-1)&&M+2!==j){M=j+1;break e}break;case 10:if(47===d){M=j+1;break e}}M=j}}break;case 91:d++;case 40:d++;case 34:case 39:for(;M++<W&&u.charCodeAt(M)!==d;);}if(0===v)break;M++}if(v=u.substring(U,M),0===p&&(p=(B=B.replace(l,"").trim()).charCodeAt(0)),64===p){switch(0<L&&(B=B.replace(f,"")),d=B.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=A}if(U=(v=t(r,L,v,d,h+1)).length,0<D&&(_=a(3,v,L=n(A,B,F),r,T,C,U,d,h,c),B=L.join(""),void 0!==_&&0===(U=(v=_.trim()).length)&&(d=0,v="")),0<U)switch(d){case 115:B=B.replace(w,s);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(m,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,F),v,c,h+1);z+=v,v=F=L=j=p=0,B="",d=u.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<L?B.replace(f,""):B).trim()).length))switch(0===j&&(p=B.charCodeAt(0),45===p||96<p&&123>p)&&(U=(B=B.replace(" ",":")).length),0<D&&void 0!==(_=a(1,B,r,e,T,C,q.length,c,h,c))&&0===(U=(B=_.trim()).length)&&(B="\0\0"),p=B.charCodeAt(0),d=B.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){H+=B+u.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,p,d,B.charCodeAt(2)))}F=L=j=p=0,B="",d=u.charCodeAt(++M)}}switch(d){case 13:case 10:47===S?S=0:0===1+p&&107!==c&&0<B.length&&(L=1,B+="\0"),0<D*R&&a(0,B,r,e,T,C,q.length,c,h,c),C=1,T++;break;case 59:case 125:if(0===S+x+O+E){C++;break}default:switch(C++,y=u.charAt(M),d){case 9:case 32:if(0===x+E+S)switch(k){case 44:case 58:case 9:case 32:y="";break;default:32!==d&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===x+S+E&&(L=F=1,y="\f"+y);break;case 108:if(0===x+S+E+I&&0<j)switch(M-j){case 2:112===k&&58===u.charCodeAt(M-3)&&(I=k);case 8:111===N&&(I=N)}break;case 58:0===x+S+E&&(j=M);break;case 44:0===S+O+x+E&&(L=1,y+="\r");break;case 34:case 39:0===S&&(x=x===d?0:0===x?d:x);break;case 91:0===x+S+O&&E++;break;case 93:0===x+S+O&&E--;break;case 41:0===x+S+E&&O--;break;case 40:if(0===x+S+E){if(0===p)if(2*k+3*N===533);else p=1;O++}break;case 64:0===S+O+x+E+j+v&&(v=1);break;case 42:case 47:if(!(0<x+E+O))switch(S){case 0:switch(2*d+3*u.charCodeAt(M+1)){case 235:S=47;break;case 220:U=M,S=42}break;case 42:47===d&&42===k&&U+2!==M&&(33===u.charCodeAt(U+2)&&(q+=u.substring(U,M+1)),y="",S=0)}}0===S&&(B+=y)}N=k,k=d,M++}if(0<(U=q.length)){if(L=r,0<D&&(void 0!==(_=a(2,q,L,e,T,C,U,c,h,c))&&0===(q=_).length))return H+q+z;if(q=L.join(",")+"{"+q+"}",0!==P*I){switch(2!==P||o(q,2)||(I=0),I){case 111:q=q.replace(g,":-moz-$1")+q;break;case 112:q=q.replace(b,"::-webkit-input-$1")+q.replace(b,"::-moz-$1")+q.replace(b,":-ms-input-$1")+q}I=0}}return H+q+z}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,s=e.length;switch(s){case 0:case 1:var a=0;for(e=0===s?"":e[0]+" ";a<o;++a)t[a]=r(e,t[a],n).trim();break;default:var u=a=0;for(t=[];a<o;++a)for(var c=0;c<s;++c)t[u++]=r(e[c]+" ",i[a],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var s=e+";",a=2*t+3*n+4*r;if(944===a){e=s.indexOf(":",9)+1;var u=s.substring(e,s.length-1).trim();return u=s.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(k,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return p.test(s)?s.replace(h,":-webkit-")+s.replace(h,":-moz-")+s:s;case 1e3:switch(t=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=s.replace(_,"tb");break;case 232:u=s.replace(_,"tb-rl");break;case 220:u=s.replace(_,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(t=(s=e).length-10,a=(u=(33===s.charCodeAt(t)?s.substring(0,t):s).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(S,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(S,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===x.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+r&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(d,"$1-webkit-$2")+s}return s}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),j(2!==t?r:r.replace(O,"$1"),n,t)}function s(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function a(e,t,n,r,i,o,s,a,u,l){for(var f,h=0,p=t;h<D;++h)switch(f=N[h].call(c,e,p,n,r,i,o,s,a,u,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function u(e){return void 0!==(e=e.prefix)&&(j=null,e?"function"!==typeof e?P=1:(P=2,j=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<D){var i=a(-1,n,r,r,T,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(A,r,n,0,0);return 0<D&&(void 0!==(i=a(-2,o,r,r,T,C,o.length,0,0,0))&&(o=i)),"",I=0,C=T=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,p=/zoo|gra/,d=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,g=/:(read-only)/g,_=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,O=/[^]*?(:[rp][el]a[\w-]+)[^]*/,x=/stretch|:\s*\w+\-(?:conte|avail)/,k=/([^-])(image-set\()/,C=1,T=1,I=0,P=1,A=[],N=[],D=0,j=null,R=0;return c.use=function e(t){switch(t){case void 0:case null:D=N.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:N[D++]=t;break;case Boolean:R=0|!!t}}return e},c.set=u,void 0!==e&&u(e),c},Nr=n(6023),Dr=n.n(Nr),jr=/[A-Z]|^ms/g,Rr=Tr((function(e){return e.replace(jr,"-$&").toLowerCase()})),Mr=function(e,t){return null==t||"boolean"===typeof t?"":1===Ir[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},Lr=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"function":0,s=e([o()]);break;case"object":if(Array.isArray(o))s=e(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(i&&(i+=" "),i+=s)}}return i},Fr="undefined"!==typeof document;function Ur(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var Vr=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=Ur(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(i){0}}else{var r=Ur(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3===0&&this.tags.push(Ur(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();var Wr=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,r,i=t.key||"css",o=Dr()((function(e){n+=e,Fr&&a.insert(e,c)}));void 0!==t.prefix&&(r={prefix:t.prefix});var s={registered:{},inserted:{},nonce:t.nonce,key:i},a=new Vr(t);Fr&&a.inject();var u=new Ar(r);u.use(t.stylisPlugins)(o);var c="";function l(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return l.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return d.call(this,e);default:var r=s.registered[e];return!1===t&&void 0!==r?r:e}}var f,h,p=new WeakMap;function d(e){if(p.has(e))return p.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=l.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!==typeof e[n]?void 0!==s.registered[e[n]]?t+=n+"{"+s.registered[e[n]]+"}":t+=Rr(n)+":"+Mr(n,e[n])+";":Array.isArray(e[n])&&"string"===typeof e[n][0]&&void 0===s.registered[e[n][0]]?e[n].forEach((function(e){t+=Rr(n)+":"+Mr(n,e)+";"})):t+=n+"{"+l.call(this,e[n],!1)+"}"}),this),p.set(e,t),t}var v=/label:\s*([^\s;\n{]+)\s*;/g,y=function(e,t){return Pr(e+t)+t},m=function(e){var t=!0,n="",r="";null==e||void 0===e.raw?(t=!1,n+=l.call(this,e,!1)):n+=e[0];for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return o.forEach((function(r,i){n+=l.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[i+1]&&(n+=e[i+1])}),this),h=n,n=n.replace(v,(function(e,t){return r+="-"+t,""})),f=y(n,r),n};function b(e,t){void 0===s.inserted[f]&&(n="",u(e,t),s.inserted[f]=n)}var g=function(){var e=m.apply(this,arguments),t=i+"-"+f;return void 0===s.registered[t]&&(s.registered[t]=h),b("."+t,e),t};function _(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==s.registered[t]?e.push(t):n+=t+" "})),n}function w(e,t){var n=[],r=_(n,e);return n.length<2?e:r+g(n,t)}function E(e){s.inserted[e]=!0}if(Fr){var S=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(S,(function(e){a.tags[0].parentNode.insertBefore(e,a.tags[0]),e.getAttribute("data-emotion-"+i).split(" ").forEach(E)}))}var O={flush:function(){Fr&&(a.flush(),a.inject()),s.inserted={},s.registered={}},hydrate:function(e){e.forEach(E)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return w(Lr(t))},merge:w,getRegisteredStyles:_,injectGlobal:function(){var e=m.apply(this,arguments);b("",e)},keyframes:function(){var e=m.apply(this,arguments),t="animation-"+f;return b("","@keyframes "+t+"{"+e+"}"),t},css:g,sheet:a,caches:s};return e.__SECRET_EMOTION__=O,O},Br=Wr("undefined"!==typeof n.g?n.g:{}),qr=(Br.flush,Br.hydrate,Br.cx,Br.merge,Br.getRegisteredStyles,Br.injectGlobal),zr=(Br.keyframes,Br.css),Hr=(Br.sheet,Br.caches,n(2007)),Yr=n.n(Hr),Gr=n(5475),Kr=n.n(Gr),Qr=n(6075),Xr=n(8267);function $r(e){return $r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$r(e)}function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ei(e,t,n){return t&&Zr(e.prototype,t),n&&Zr(e,n),e}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ni(){return ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ni.apply(this,arguments)}function ri(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ti(e,t,n[t])}))}return e}function ii(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&si(e,t)}function oi(e){return oi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},oi(e)}function si(e,t){return si=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},si(e,t)}function ai(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ui(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e,t){return!t||"object"!==typeof t&&"function"!==typeof t?ui(e):t}function li(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var fi=function(){};function hi(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function pi(e,t,n,r){var i=[t,r];if(n&&e)for(var o in n)n.hasOwnProperty(o)&&n[o]&&i.push("".concat(hi(e,o)));return i.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var di=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===$r(e)&&null!==e?[e]:[]};function vi(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function yi(e){return vi(e)?window.pageYOffset:e.scrollTop}function mi(e,t){vi(e)?window.scrollTo(0,t):e.scrollTop=t}function bi(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fi,i=yi(e),o=t-i,s=10,a=0;function u(){var t=bi(a+=s,i,o,n);mi(e,t),a<n?Kr()(u):r(e)}u()}function _i(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function wi(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,s=e.isFixedPosition,a=e.theme.spacing,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return i}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var l=u.getBoundingClientRect().height,f=n.getBoundingClientRect(),h=f.bottom,p=f.height,d=f.top,v=n.offsetParent.getBoundingClientRect().top,y=window.innerHeight,m=yi(u),b=parseInt(getComputedStyle(n).marginBottom,10),g=parseInt(getComputedStyle(n).marginTop,10),_=v-g,w=y-d,E=_+m,S=l-m-d,O=h-y+m+b,x=m+d-g,k=160;switch(i){case"auto":case"bottom":if(w>=p)return{placement:"bottom",maxHeight:t};if(S>=p&&!s)return o&&gi(u,O,k),{placement:"bottom",maxHeight:t};if(!s&&S>=r||s&&w>=r)return o&&gi(u,O,k),{placement:"bottom",maxHeight:s?w-b:S-b};if("auto"===i||s){var C=t,T=s?_:E;return T>=r&&(C=Math.min(T-b-a.controlHeight,t)),{placement:"top",maxHeight:C}}if("bottom"===i)return mi(u,O),{placement:"bottom",maxHeight:t};break;case"top":if(_>=p)return{placement:"top",maxHeight:t};if(E>=p&&!s)return o&&gi(u,x,k),{placement:"top",maxHeight:t};if(!s&&E>=r||s&&_>=r){var I=t;return(!s&&E>=r||s&&_>=r)&&(I=s?_-g:E-g),o&&gi(u,x,k),{placement:"top",maxHeight:I}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var Ei=function(e){return"auto"===e?"bottom":e},Si=function(e){function t(){var e,n;Jr(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(ui(ui(n=ci(this,(e=oi(t)).call.apply(e,[this].concat(i))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),ti(ui(ui(n)),"getPlacement",(function(e){var t=n.props,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,s=t.menuPosition,a=t.menuShouldScrollIntoView,u=t.theme,c=n.context.getPortalPlacement;if(e){var l="fixed"===s,f=wi({maxHeight:i,menuEl:e,minHeight:r,placement:o,shouldScroll:a&&!l,isFixedPosition:l,theme:u});c&&c(f),n.setState(f)}})),ti(ui(ui(n)),"getUpdatedProps",(function(){var e=n.props.menuPlacement,t=n.state.placement||Ei(e);return ri({},n.props,{placement:t,maxHeight:n.state.maxHeight})})),n}return ii(t,e),ei(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(e.Component);ti(Si,"contextTypes",{getPortalPlacement:Yr().func});var Oi=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},xi=Oi,ki=Oi,Ci=function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.innerProps;return e.createElement("div",ni({className:i(zr(o("noOptionsMessage",t)),{"menu-notice":!0,"menu-notice--no-options":!0},r)},s),n)};Ci.defaultProps={children:"No options"};var Ti=function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.innerProps;return e.createElement("div",ni({className:i(zr(o("loadingMessage",t)),{"menu-notice":!0,"menu-notice--loading":!0},r)},s),n)};Ti.defaultProps={children:"Loading..."};var Ii=function(n){function r(){var e,t;Jr(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ti(ui(ui(t=ci(this,(e=oi(r)).call.apply(e,[this].concat(i))))),"state",{placement:null}),ti(ui(ui(t)),"getPortalPlacement",(function(e){var n=e.placement;n!==Ei(t.props.menuPlacement)&&t.setState({placement:n})})),t}return ii(r,n),ei(r,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var n=this.props,r=n.appendTo,i=n.children,o=n.controlElement,s=n.menuPlacement,a=n.menuPosition,u=n.getStyles,c="fixed"===a;if(!r&&!c||!o)return null;var l=this.state.placement||Ei(s),f=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(o),h=c?0:window.pageYOffset,p={offset:f[l]+h,position:a,rect:f},d=e.createElement("div",{className:zr(u("menuPortal",p))},i);return r?(0,t.createPortal)(d,r):d}}]),r}(e.Component);ti(Ii,"childContextTypes",{getPortalPlacement:Yr().func});var Pi=Array.isArray,Ai=Object.keys,Ni=Object.prototype.hasOwnProperty;function Di(e,t){if(e===t)return!0;if(e&&t&&"object"==$r(e)&&"object"==$r(t)){var n,r,i,o=Pi(e),s=Pi(t);if(o&&s){if((r=e.length)!=t.length)return!1;for(n=r;0!==n--;)if(!Di(e[n],t[n]))return!1;return!0}if(o!=s)return!1;var a=e instanceof Date,u=t instanceof Date;if(a!=u)return!1;if(a&&u)return e.getTime()==t.getTime();var c=e instanceof RegExp,l=t instanceof RegExp;if(c!=l)return!1;if(c&&l)return e.toString()==t.toString();var f=Ai(e);if((r=f.length)!==Ai(t).length)return!1;for(n=r;0!==n--;)if(!Ni.call(t,f[n]))return!1;for(n=r;0!==n--;)if(("_owner"!==(i=f[n])||!e.$$typeof)&&!Di(e[i],t[i]))return!1;return!0}return e!==e&&t!==t}function ji(e,t){try{return Di(e,t)}catch(n){if(n.message&&n.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",n.name,n.message),!1;throw n}}var Ri=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],Mi=function(e){for(var t=0;t<Ri.length;t++)e=e.replace(Ri[t].letters,Ri[t].base);return e},Li=function(e){return e.replace(/^\s+|\s+$/g,"")},Fi=function(e){return"".concat(e.label," ").concat(e.value)},Ui=function(t){return e.createElement("span",ni({className:zr({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},t))},Vi=function(t){function n(){return Jr(this,n),ci(this,oi(n).apply(this,arguments))}return ii(n,t),ei(n,[{key:"render",value:function(){var t=this.props,n=(t.in,t.out,t.onExited,t.appear,t.enter,t.exit,t.innerRef),r=(t.emotion,ai(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return e.createElement("input",ni({ref:n},r,{className:zr({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),n}(e.Component),Wi=function(e){function n(){return Jr(this,n),ci(this,oi(n).apply(this,arguments))}return ii(n,e),ei(n,[{key:"componentDidMount",value:function(){this.props.innerRef((0,t.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),n}(e.Component),Bi=["boxSizing","height","overflow","paddingRight","position"],qi={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function zi(e){e.preventDefault()}function Hi(e){e.stopPropagation()}function Yi(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Gi(){return"ontouchstart"in window||navigator.maxTouchPoints}var Ki=!("undefined"===typeof window||!window.document||!window.document.createElement),Qi=0,Xi=function(e){function t(){var e,n;Jr(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(ui(ui(n=ci(this,(e=oi(t)).call.apply(e,[this].concat(i))))),"originalStyles",{}),ti(ui(ui(n)),"listenerOptions",{capture:!1,passive:!1}),n}return ii(t,e),ei(t,[{key:"componentDidMount",value:function(){var e=this;if(Ki){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;if(n&&Bi.forEach((function(t){var n=o&&o[t];e.originalStyles[t]=n})),n&&Qi<1){var s=parseInt(this.originalStyles.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,u=window.innerWidth-a+s||0;Object.keys(qi).forEach((function(e){var t=qi[e];o&&(o[e]=t)})),o&&(o.paddingRight="".concat(u,"px"))}i&&Gi()&&(i.addEventListener("touchmove",zi,this.listenerOptions),r&&(r.addEventListener("touchstart",Yi,this.listenerOptions),r.addEventListener("touchmove",Hi,this.listenerOptions))),Qi+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(Ki){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;Qi=Math.max(Qi-1,0),n&&Qi<1&&Bi.forEach((function(t){var n=e.originalStyles[t];o&&(o[t]=n)})),i&&Gi()&&(i.removeEventListener("touchmove",zi,this.listenerOptions),r&&(r.removeEventListener("touchstart",Yi,this.listenerOptions),r.removeEventListener("touchmove",Hi,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(e.Component);ti(Xi,"defaultProps",{accountForScrollbars:!0});var $i=function(t){function n(){var e,t;Jr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(ui(ui(t=ci(this,(e=oi(n)).call.apply(e,[this].concat(i))))),"state",{touchScrollTarget:null}),ti(ui(ui(t)),"getScrollTarget",(function(e){e!==t.state.touchScrollTarget&&t.setState({touchScrollTarget:e})})),ti(ui(ui(t)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),t}return ii(n,t),ei(n,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.isEnabled,i=this.state.touchScrollTarget;return r?e.createElement("div",null,e.createElement("div",{onClick:this.blurSelectInput,className:zr({position:"fixed",left:0,bottom:0,right:0,top:0})}),e.createElement(Wi,{innerRef:this.getScrollTarget},n),i?e.createElement(Xi,{touchScrollTarget:i}):null):n}}]),n}(e.PureComponent),Ji=function(t){function n(){var e,t;Jr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(ui(ui(t=ci(this,(e=oi(n)).call.apply(e,[this].concat(i))))),"isBottom",!1),ti(ui(ui(t)),"isTop",!1),ti(ui(ui(t)),"scrollTarget",void 0),ti(ui(ui(t)),"touchStart",void 0),ti(ui(ui(t)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),ti(ui(ui(t)),"handleEventDelta",(function(e,n){var r=t.props,i=r.onBottomArrive,o=r.onBottomLeave,s=r.onTopArrive,a=r.onTopLeave,u=t.scrollTarget,c=u.scrollTop,l=u.scrollHeight,f=u.clientHeight,h=t.scrollTarget,p=n>0,d=l-f-c,v=!1;d>n&&t.isBottom&&(o&&o(e),t.isBottom=!1),p&&t.isTop&&(a&&a(e),t.isTop=!1),p&&n>d?(i&&!t.isBottom&&i(e),h.scrollTop=l,v=!0,t.isBottom=!0):!p&&-n>c&&(s&&!t.isTop&&s(e),h.scrollTop=0,v=!0,t.isTop=!0),v&&t.cancelScroll(e)})),ti(ui(ui(t)),"onWheel",(function(e){t.handleEventDelta(e,e.deltaY)})),ti(ui(ui(t)),"onTouchStart",(function(e){t.touchStart=e.changedTouches[0].clientY})),ti(ui(ui(t)),"onTouchMove",(function(e){var n=t.touchStart-e.changedTouches[0].clientY;t.handleEventDelta(e,n)})),ti(ui(ui(t)),"getScrollTarget",(function(e){t.scrollTarget=e})),t}return ii(n,t),ei(n,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"===typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"===typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"===typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"===typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"===typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return e.createElement(Wi,{innerRef:this.getScrollTarget},this.props.children)}}]),n}(e.Component),Zi=function(t){function n(){return Jr(this,n),ci(this,oi(n).apply(this,arguments))}return ii(n,t),ei(n,[{key:"render",value:function(){var t=this.props,n=t.isEnabled,r=ai(t,["isEnabled"]);return n?e.createElement(Ji,r):this.props.children}}]),n}(e.Component);ti(Zi,"defaultProps",{isEnabled:!0});var eo=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,i=t.label,o=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(i||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},to=function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}},no=function(e){return!!e.isDisabled},ro=function(t){function n(){return Jr(this,n),ci(this,oi(n).apply(this,arguments))}return ii(n,t),ei(n,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.className,i=t.cx,o=t.isMulti,s=t.getStyles,a=t.hasValue;return e.createElement("div",{className:i(zr(s("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":a},r)},n)}}]),n}(e.Component),io=function(t){var n=t.size,r=ai(t,["size"]);return e.createElement("svg",ni({height:n,width:n,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:zr({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},r))},oo=function(t){return e.createElement(io,ni({size:20},t),e.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},so=function(t){return e.createElement(io,ni({size:20},t),e.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},ao=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},uo=ao,co=ao,lo="react-select-loading-indicator",fo=!1,ho=function(t){var n=t.color,r=t.delay,i=t.offset;return e.createElement("span",{className:zr({animationDuration:"1s",animationDelay:"".concat(r,"ms"),animationIterationCount:"infinite",animationName:lo,animationTimingFunction:"ease-in-out",backgroundColor:n,borderRadius:"1em",display:"inline-block",marginLeft:i?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},po=function(t){var n=t.className,r=t.cx,i=t.getStyles,o=t.innerProps,s=t.isFocused,a=t.isRtl,u=t.theme.colors,c=s?u.neutral80:u.neutral20;return fo||(qr("@keyframes ",lo,"{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),fo=!0),e.createElement("div",ni({},o,{className:r(zr(i("loadingIndicator",t)),{indicator:!0,"loading-indicator":!0},n)}),e.createElement(ho,{color:c,delay:0,offset:a}),e.createElement(ho,{color:c,delay:160,offset:!0}),e.createElement(ho,{color:c,delay:320,offset:!a}))};po.defaultProps={size:4};var vo=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},yo=function(t){var n=t.children,r=t.innerProps;return e.createElement("div",r,n)},mo=yo,bo=yo,go=function(t){function n(){return Jr(this,n),ci(this,oi(n).apply(this,arguments))}return ii(n,t),ei(n,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.innerProps;return e.createElement("div",r,n||e.createElement(oo,{size:14}))}}]),n}(e.Component),_o=function(t){function n(){return Jr(this,n),ci(this,oi(n).apply(this,arguments))}return ii(n,t),ei(n,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.className,i=t.components,o=t.cx,s=t.data,a=t.getStyles,u=t.innerProps,c=t.isDisabled,l=t.removeProps,f=t.selectProps,h=i.Container,p=i.Label,d=i.Remove,v=ri({className:o(zr(a("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":c},r)},u),y={className:o(zr(a("multiValueLabel",this.props)),{"multi-value__label":!0},r)},m=ri({className:o(zr(a("multiValueRemove",this.props)),{"multi-value__remove":!0},r)},l);return e.createElement(h,{data:s,innerProps:v,selectProps:f},e.createElement(p,{data:s,innerProps:y,selectProps:f},n),e.createElement(d,{data:s,innerProps:m,selectProps:f}))}}]),n}(e.Component);ti(_o,"defaultProps",{cropWithEllipsis:!0});var wo={ClearIndicator:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.innerProps;return e.createElement("div",ni({},s,{className:i(zr(o("clearIndicator",t)),{indicator:!0,"clear-indicator":!0},r)}),n||e.createElement(oo,null))},Control:function(t){var n=t.children,r=t.cx,i=t.getStyles,o=t.className,s=t.isDisabled,a=t.isFocused,u=t.innerRef,c=t.innerProps,l=t.menuIsOpen;return e.createElement("div",ni({ref:u,className:r(zr(i("control",t)),{control:!0,"control--is-disabled":s,"control--is-focused":a,"control--menu-is-open":l},o)},c),n)},DropdownIndicator:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.innerProps;return e.createElement("div",ni({},s,{className:i(zr(o("dropdownIndicator",t)),{indicator:!0,"dropdown-indicator":!0},r)}),n||e.createElement(so,null))},DownChevron:so,CrossIcon:oo,Group:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.Heading,a=t.headingProps,u=t.label,c=t.theme,l=t.selectProps;return e.createElement("div",{className:i(zr(o("group",t)),{group:!0},r)},e.createElement(s,ni({},a,{selectProps:l,theme:c,getStyles:o,cx:i}),u),e.createElement("div",null,n))},GroupHeading:function(t){var n=t.className,r=t.cx,i=t.getStyles,o=t.theme,s=(t.selectProps,ai(t,["className","cx","getStyles","theme","selectProps"]));return e.createElement("div",ni({className:r(zr(i("groupHeading",ri({theme:o},s))),{"group-heading":!0},n)},s))},IndicatorsContainer:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles;return e.createElement("div",{className:i(zr(o("indicatorsContainer",t)),{indicators:!0},r)},n)},IndicatorSeparator:function(t){var n=t.className,r=t.cx,i=t.getStyles,o=t.innerProps;return e.createElement("span",ni({},o,{className:r(zr(i("indicatorSeparator",t)),{"indicator-separator":!0},n)}))},Input:function(t){var n=t.className,r=t.cx,i=t.getStyles,o=t.innerRef,s=t.isHidden,a=t.isDisabled,u=t.theme,c=(t.selectProps,ai(t,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return e.createElement("div",{className:zr(i("input",ri({theme:u},c)))},e.createElement(Qr.Z,ni({className:r(null,{input:!0},n),inputRef:o,inputStyle:vo(s),disabled:a},c)))},LoadingIndicator:po,Menu:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.innerRef,a=t.innerProps,u=i(zr(o("menu",t)),{menu:!0},r);return e.createElement("div",ni({className:u},a,{ref:s}),n)},MenuList:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.isMulti,a=t.innerRef;return e.createElement("div",{className:i(zr(o("menuList",t)),{"menu-list":!0,"menu-list--is-multi":s},r),ref:a},n)},MenuPortal:Ii,LoadingMessage:Ti,NoOptionsMessage:Ci,MultiValue:_o,MultiValueContainer:mo,MultiValueLabel:bo,MultiValueRemove:go,Option:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.isDisabled,a=t.isFocused,u=t.isSelected,c=t.innerRef,l=t.innerProps;return e.createElement("div",ni({ref:c,className:i(zr(o("option",t)),{option:!0,"option--is-disabled":s,"option--is-focused":a,"option--is-selected":u},r)},l),n)},Placeholder:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.innerProps;return e.createElement("div",ni({className:i(zr(o("placeholder",t)),{placeholder:!0},r)},s),n)},SelectContainer:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.innerProps,a=t.isDisabled,u=t.isRtl;return e.createElement("div",ni({className:i(zr(o("container",t)),{"--is-disabled":a,"--is-rtl":u},r)},s),n)},SingleValue:function(t){var n=t.children,r=t.className,i=t.cx,o=t.getStyles,s=t.isDisabled,a=t.innerProps;return e.createElement("div",ni({className:i(zr(o("singleValue",t)),{"single-value":!0,"single-value--is-disabled":s},r)},a),n)},ValueContainer:ro},Eo=function(e){return ri({},wo,e.components)},So={clearIndicator:co,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,s=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:s.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:uo,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:ki,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,s=r.colors;return ti(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),ti(t,"backgroundColor",s.neutral0),ti(t,"borderRadius",i),ti(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),ti(t,"marginBottom",o.menuGutter),ti(t,"marginTop",o.menuGutter),ti(t,"position","absolute"),ti(t,"width","100%"),ti(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:xi,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,s=i.colors;return{label:"option",backgroundColor:r?s.primary:n?s.primary25:"transparent",color:t?s.neutral20:r?s.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?s.primary:s.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var Oo={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},xo={backspaceRemovesValue:!0,blurInputOnSelect:_i(),captureMenuScroll:!_i(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e){return function(t,n){var r=ri({ignoreCase:!0,ignoreAccents:!0,stringify:Fi,trim:!0,matchFrom:"any"},e),i=r.ignoreCase,o=r.ignoreAccents,s=r.stringify,a=r.trim,u=r.matchFrom,c=a?Li(n):n,l=a?Li(s(t)):s(t);return i&&(c=c.toLowerCase(),l=l.toLowerCase()),o&&(c=Mi(c),l=Mi(l)),"start"===u?l.substr(0,c.length)===c:l.indexOf(c)>-1}}(),formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:no,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},ko=1,Co=function(t){function n(e){var t;Jr(this,n),ti(ui(ui(t=ci(this,oi(n).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),ti(ui(ui(t)),"blockOptionHover",!1),ti(ui(ui(t)),"isComposing",!1),ti(ui(ui(t)),"clearFocusValueOnUpdate",!1),ti(ui(ui(t)),"commonProps",void 0),ti(ui(ui(t)),"components",void 0),ti(ui(ui(t)),"hasGroups",!1),ti(ui(ui(t)),"initialTouchX",0),ti(ui(ui(t)),"initialTouchY",0),ti(ui(ui(t)),"inputIsHiddenAfterUpdate",void 0),ti(ui(ui(t)),"instancePrefix",""),ti(ui(ui(t)),"openAfterFocus",!1),ti(ui(ui(t)),"scrollToFocusedOptionOnUpdate",!1),ti(ui(ui(t)),"userIsDragging",void 0),ti(ui(ui(t)),"controlRef",null),ti(ui(ui(t)),"getControlRef",(function(e){t.controlRef=e})),ti(ui(ui(t)),"focusedOptionRef",null),ti(ui(ui(t)),"getFocusedOptionRef",(function(e){t.focusedOptionRef=e})),ti(ui(ui(t)),"menuListRef",null),ti(ui(ui(t)),"getMenuListRef",(function(e){t.menuListRef=e})),ti(ui(ui(t)),"inputRef",null),ti(ui(ui(t)),"getInputRef",(function(e){t.inputRef=e})),ti(ui(ui(t)),"cacheComponents",(function(e){t.components=Eo({components:e})})),ti(ui(ui(t)),"focus",t.focusInput),ti(ui(ui(t)),"blur",t.blurInput),ti(ui(ui(t)),"onChange",(function(e,n){var r=t.props;(0,r.onChange)(e,ri({},n,{name:r.name}))})),ti(ui(ui(t)),"setValue",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,i=t.props,o=i.closeMenuOnSelect,s=i.isMulti;t.onInputChange("",{action:"set-value"}),o&&(t.inputIsHiddenAfterUpdate=!s,t.onMenuClose()),t.clearFocusValueOnUpdate=!0,t.onChange(e,{action:n,option:r})})),ti(ui(ui(t)),"selectOption",(function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,o=t.state.selectValue;if(i)if(t.isOptionSelected(e,o)){var s=t.getOptionValue(e);t.setValue(o.filter((function(e){return t.getOptionValue(e)!==s})),"deselect-option",e),t.announceAriaLiveSelection({event:"deselect-option",context:{value:t.getOptionLabel(e)}})}else t.isOptionDisabled(e,o)?t.announceAriaLiveSelection({event:"select-option",context:{value:t.getOptionLabel(e),isDisabled:!0}}):(t.setValue([].concat(li(o),[e]),"select-option",e),t.announceAriaLiveSelection({event:"select-option",context:{value:t.getOptionLabel(e)}}));else t.isOptionDisabled(e,o)?t.announceAriaLiveSelection({event:"select-option",context:{value:t.getOptionLabel(e),isDisabled:!0}}):(t.setValue(e,"select-option"),t.announceAriaLiveSelection({event:"select-option",context:{value:t.getOptionLabel(e)}}));r&&t.blurInput()})),ti(ui(ui(t)),"removeValue",(function(e){var n=t.state.selectValue,r=t.getOptionValue(e);t.onChange(n.filter((function(e){return t.getOptionValue(e)!==r})),{action:"remove-value",removedValue:e}),t.announceAriaLiveSelection({event:"remove-value",context:{value:e?t.getOptionLabel(e):""}}),t.focusInput()})),ti(ui(ui(t)),"clearValue",(function(){var e=t.props.isMulti;t.onChange(e?[]:null,{action:"clear"})})),ti(ui(ui(t)),"popValue",(function(){var e=t.state.selectValue,n=e[e.length-1];t.announceAriaLiveSelection({event:"pop-value",context:{value:n?t.getOptionLabel(n):""}}),t.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:n})})),ti(ui(ui(t)),"getOptionLabel",(function(e){return t.props.getOptionLabel(e)})),ti(ui(ui(t)),"getOptionValue",(function(e){return t.props.getOptionValue(e)})),ti(ui(ui(t)),"getStyles",(function(e,n){var r=So[e](n);r.boxSizing="border-box";var i=t.props.styles[e];return i?i(r,n):r})),ti(ui(ui(t)),"getElementId",(function(e){return"".concat(t.instancePrefix,"-").concat(e)})),ti(ui(ui(t)),"getActiveDescendentId",(function(){var e=t.props.menuIsOpen,n=t.state,r=n.menuOptions,i=n.focusedOption;if(i&&e){var o=r.focusable.indexOf(i),s=r.render[o];return s&&s.key}})),ti(ui(ui(t)),"announceAriaLiveSelection",(function(e){var n=e.event,r=e.context;t.setState({ariaLiveSelection:to(n,r)})})),ti(ui(ui(t)),"announceAriaLiveContext",(function(e){var n=e.event,r=e.context;t.setState({ariaLiveContext:eo(n,ri({},r,{label:t.props["aria-label"]}))})})),ti(ui(ui(t)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())})),ti(ui(ui(t)),"onMenuMouseMove",(function(e){t.blockOptionHover=!1})),ti(ui(ui(t)),"onControlMouseDown",(function(e){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),ti(ui(ui(t)),"onDropdownIndicatorMouseDown",(function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.inputIsHiddenAfterUpdate=!r,t.onMenuClose()):t.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),ti(ui(ui(t)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.stopPropagation(),t.openAfterFocus=!1,setTimeout((function(){return t.focusInput()})))})),ti(ui(ui(t)),"onScroll",(function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&vi(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()})),ti(ui(ui(t)),"onCompositionStart",(function(){t.isComposing=!0})),ti(ui(ui(t)),"onCompositionEnd",(function(){t.isComposing=!1})),ti(ui(ui(t)),"onTouchStart",(function(e){var n=e.touches.item(0);n&&(t.initialTouchX=n.clientX,t.initialTouchY=n.clientY,t.userIsDragging=!1)})),ti(ui(ui(t)),"onTouchMove",(function(e){var n=e.touches.item(0);if(n){var r=Math.abs(n.clientX-t.initialTouchX),i=Math.abs(n.clientY-t.initialTouchY);t.userIsDragging=r>5||i>5}})),ti(ui(ui(t)),"onTouchEnd",(function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)})),ti(ui(ui(t)),"onControlTouchEnd",(function(e){t.userIsDragging||t.onControlMouseDown(e)})),ti(ui(ui(t)),"onClearIndicatorTouchEnd",(function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)})),ti(ui(ui(t)),"onDropdownIndicatorTouchEnd",(function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)})),ti(ui(ui(t)),"handleInputChange",(function(e){var n=e.currentTarget.value;t.inputIsHiddenAfterUpdate=!1,t.onInputChange(n,{action:"input-change"}),t.onMenuOpen()})),ti(ui(ui(t)),"onInputFocus",(function(e){var n=t.props,r=n.isSearchable,i=n.isMulti;t.props.onFocus&&t.props.onFocus(e),t.inputIsHiddenAfterUpdate=!1,t.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:i}}),t.setState({isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1})),ti(ui(ui(t)),"onInputBlur",(function(e){t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur"}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))})),ti(ui(ui(t)),"onOptionHover",(function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})})),ti(ui(ui(t)),"shouldHideSelectedOptions",(function(){var e=t.props,n=e.hideSelectedOptions,r=e.isMulti;return void 0===n?r:n})),ti(ui(ui(t)),"onKeyDown",(function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,o=n.escapeClearsValue,s=n.inputValue,a=n.isClearable,u=n.isDisabled,c=n.menuIsOpen,l=n.onKeyDown,f=n.tabSelectsValue,h=n.openMenuOnFocus,p=t.state,d=p.focusedOption,v=p.focusedValue,y=p.selectValue;if(!u&&("function"!==typeof l||(l(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||s)return;t.focusValue("previous");break;case"ArrowRight":if(!r||s)return;t.focusValue("next");break;case"Delete":case"Backspace":if(s)return;if(v)t.removeValue(v);else{if(!i)return;r?t.popValue():a&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!f||!d||h&&t.isOptionSelected(d,y))return;t.selectOption(d);break;case"Enter":if(229===e.keyCode)break;if(c){if(!d)return;if(t.isComposing)return;t.selectOption(d);break}return;case"Escape":c?(t.inputIsHiddenAfterUpdate=!1,t.onInputChange("",{action:"menu-close"}),t.onMenuClose()):a&&o&&t.clearValue();break;case" ":if(s)return;if(!c){t.openMenu("first");break}if(!d)return;t.selectOption(d);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}}));var r=e.value;t.cacheComponents=Cr(t.cacheComponents,ji).bind(ui(ui(t))),t.cacheComponents(e.components),t.instancePrefix="react-select-"+(t.props.instanceId||++ko);var i=di(r),o=t.buildMenuOptions(e,i);return t.state.menuOptions=o,t.state.selectValue=i,t}return ii(n,t),ei(n,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,i=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.inputValue!==i){var o=di(e.value),s=this.buildMenuOptions(e,o),a=this.getNextFocusedValue(o),u=this.getNextFocusedOption(s.focusable);this.setState({menuOptions:s,selectValue:o,focusedOption:u,focusedValue:a})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&function(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?mi(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&mi(e,Math.max(t.offsetTop-i,0))}(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,i=t.isFocused,o=this.props.isMulti,s="first"===e?0:n.focusable.length-1;if(!o){var a=n.focusable.indexOf(r[0]);a>-1&&(s=a)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[s]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,i=this.state,o=i.selectValue,s=i.focusedValue;if(n){this.setState({focusedOption:null});var a=o.indexOf(s);s||(a=-1,this.announceAriaLiveContext({event:"value"}));var u=o.length-1,c=-1;if(o.length){switch(e){case"previous":c=0===a?0:-1===a?u:a-1;break;case"next":a>-1&&a<u&&(c=a+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions,o=i.focusable;if(o.length){var s=0,a=o.indexOf(r);r||(a=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?s=a>0?a-1:o.length-1:"down"===e?s=(a+1)%o.length:"pageup"===e?(s=a-t)<0&&(s=0):"pagedown"===e?(s=a+t)>o.length-1&&(s=o.length-1):"last"===e&&(s=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[s],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:no(o[s])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Oo):ri({},Oo,this.props.theme):Oo}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,o=i.classNamePrefix,s=i.isMulti,a=i.isRtl,u=i.options,c=this.state.selectValue,l=this.hasValue();return{cx:pi.bind(null,o),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:l,isMulti:s,isRtl:a,options:u,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"===typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"===typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===r}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.inputValue,i=void 0===r?"":r,o=e.options,s=function(e,r){var o=n.isOptionDisabled(e,t),s=n.isOptionSelected(e,t),a=n.getOptionLabel(e),u=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&s||!n.filterOption({label:a,value:u,data:e},i))){var c=o?void 0:function(){return n.onOptionHover(e)},l=o?void 0:function(){return n.selectOption(e)},f="".concat(n.getElementId("option"),"-").concat(r);return{innerProps:{id:f,onClick:l,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:o,isSelected:s,key:f,label:a,type:"option",value:u}}};return o.reduce((function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var i=t.options.map((function(t,n){var i=s(t,"".concat(r,"-").concat(n));return i&&e.focusable.push(t),i})).filter(Boolean);if(i.length){var o="".concat(n.getElementId("group"),"-").concat(r);e.render.push({type:"group",key:o,data:t,options:i})}}else{var a=s(t,"".concat(r));a&&(e.render.push(a),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,i=e.focusedOption,o=this.props,s=o.options,a=o.menuIsOpen,u=o.inputValue,c=o.screenReaderStatus,l=r?function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return"value ".concat(n(t)," focused, ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",f=i&&a?function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedOption:i,getOptionLabel:this.getOptionLabel,options:s}):"",h=function(e){var t=e.inputValue,n=e.screenReaderMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}({inputValue:u,screenReaderMessage:c({count:this.countOptions()})});return"".concat(l," ").concat(f," ").concat(h," ").concat(t)}},{key:"renderInput",value:function(){var t=this.props,n=t.isDisabled,r=t.isSearchable,i=t.inputId,o=t.inputValue,s=t.tabIndex,a=this.components.Input,u=this.state.inputIsHidden,c=i||this.getElementId("input");if(!r)return e.createElement(Vi,{id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:fi,onFocus:this.onInputFocus,readOnly:!0,disabled:n,tabIndex:s,value:""});var l={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},f=this.commonProps,h=f.cx,p=f.theme,d=f.selectProps;return e.createElement(a,ni({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:h,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:n,isHidden:u,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:d,spellCheck:"false",tabIndex:s,theme:p,type:"text",value:o},l))}},{key:"renderPlaceholderOrValue",value:function(){var t=this,n=this.components,r=n.MultiValue,i=n.MultiValueContainer,o=n.MultiValueLabel,s=n.MultiValueRemove,a=n.SingleValue,u=n.Placeholder,c=this.commonProps,l=this.props,f=l.controlShouldRenderValue,h=l.isDisabled,p=l.isMulti,d=l.inputValue,v=l.placeholder,y=this.state,m=y.selectValue,b=y.focusedValue,g=y.isFocused;if(!this.hasValue()||!f)return d?null:e.createElement(u,ni({},c,{key:"placeholder",isDisabled:h,isFocused:g}),v);if(p)return m.map((function(n){var a=n===b;return e.createElement(r,ni({},c,{components:{Container:i,Label:o,Remove:s},isFocused:a,isDisabled:h,key:t.getOptionValue(n),removeProps:{onClick:function(){return t.removeValue(n)},onTouchEnd:function(){return t.removeValue(n)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:n}),t.formatOptionLabel(n,"value"))}));if(d)return null;var _=m[0];return e.createElement(a,ni({},c,{data:_,isDisabled:h}),this.formatOptionLabel(_,"value"))}},{key:"renderClearIndicator",value:function(){var t=this.components.ClearIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,s=this.state.isFocused;if(!this.isClearable()||!t||i||!this.hasValue()||o)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,ni({},n,{innerProps:a,isFocused:s}))}},{key:"renderLoadingIndicator",value:function(){var t=this.components.LoadingIndicator,n=this.commonProps,r=this.props,i=r.isDisabled,o=r.isLoading,s=this.state.isFocused;if(!t||!o)return null;return e.createElement(t,ni({},n,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:s}))}},{key:"renderIndicatorSeparator",value:function(){var t=this.components,n=t.DropdownIndicator,r=t.IndicatorSeparator;if(!n||!r)return null;var i=this.commonProps,o=this.props.isDisabled,s=this.state.isFocused;return e.createElement(r,ni({},i,{isDisabled:o,isFocused:s}))}},{key:"renderDropdownIndicator",value:function(){var t=this.components.DropdownIndicator;if(!t)return null;var n=this.commonProps,r=this.props.isDisabled,i=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return e.createElement(t,ni({},n,{innerProps:o,isDisabled:r,isFocused:i}))}},{key:"renderMenu",value:function(){var t=this,n=this.components,r=n.Group,i=n.GroupHeading,o=n.Menu,s=n.MenuList,a=n.MenuPortal,u=n.LoadingMessage,c=n.NoOptionsMessage,l=n.Option,f=this.commonProps,h=this.state,p=h.focusedOption,d=h.menuOptions,v=this.props,y=v.captureMenuScroll,m=v.inputValue,b=v.isLoading,g=v.loadingMessage,_=v.minMenuHeight,w=v.maxMenuHeight,E=v.menuIsOpen,S=v.menuPlacement,O=v.menuPosition,x=v.menuPortalTarget,k=v.menuShouldBlockScroll,C=v.menuShouldScrollIntoView,T=v.noOptionsMessage,I=v.onMenuScrollToTop,P=v.onMenuScrollToBottom;if(!E)return null;var A,N=function(n){var r=p===n.data;return n.innerRef=r?t.getFocusedOptionRef:void 0,e.createElement(l,ni({},f,n,{isFocused:r}),t.formatOptionLabel(n.data,"menu"))};if(this.hasOptions())A=d.render.map((function(n){if("group"===n.type){n.type;var o=ai(n,["type"]),s="".concat(n.key,"-heading");return e.createElement(r,ni({},f,o,{Heading:i,headingProps:{id:s},label:t.formatGroupLabel(n.data)}),n.options.map((function(e){return N(e)})))}if("option"===n.type)return N(n)}));else if(b){var D=g({inputValue:m});if(null===D)return null;A=e.createElement(u,f,D)}else{var j=T({inputValue:m});if(null===j)return null;A=e.createElement(c,f,j)}var R={minMenuHeight:_,maxMenuHeight:w,menuPlacement:S,menuPosition:O,menuShouldScrollIntoView:C},M=e.createElement(Si,ni({},f,R),(function(n){var r=n.ref,i=n.placerProps,a=i.placement,u=i.maxHeight;return e.createElement(o,ni({},f,R,{innerRef:r,innerProps:{onMouseDown:t.onMenuMouseDown,onMouseMove:t.onMenuMouseMove},isLoading:b,placement:a}),e.createElement(Zi,{isEnabled:y,onTopArrive:I,onBottomArrive:P},e.createElement($i,{isEnabled:k},e.createElement(s,ni({},f,{innerRef:t.getMenuListRef,isLoading:b,maxHeight:u}),A))))}));return x||"fixed"===O?e.createElement(a,ni({},f,{appendTo:x,controlElement:this.controlRef,menuPlacement:S,menuPosition:O}),M):M}},{key:"renderFormField",value:function(){var t=this,n=this.props,r=n.delimiter,i=n.isDisabled,o=n.isMulti,s=n.name,a=this.state.selectValue;if(s&&!i){if(o){if(r){var u=a.map((function(e){return t.getOptionValue(e)})).join(r);return e.createElement("input",{name:s,type:"hidden",value:u})}var c=a.length>0?a.map((function(n,r){return e.createElement("input",{key:"i-".concat(r),name:s,type:"hidden",value:t.getOptionValue(n)})})):e.createElement("input",{name:s,type:"hidden"});return e.createElement("div",null,c)}var l=a[0]?this.getOptionValue(a[0]):"";return e.createElement("input",{name:s,type:"hidden",value:l})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?e.createElement(Ui,{"aria-live":"assertive"},e.createElement("p",{id:"aria-selection-event"},"\xa0",this.state.ariaLiveSelection),e.createElement("p",{id:"aria-context"},"\xa0",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var t=this.components,n=t.Control,r=t.IndicatorsContainer,i=t.SelectContainer,o=t.ValueContainer,s=this.props,a=s.className,u=s.id,c=s.isDisabled,l=s.menuIsOpen,f=this.state.isFocused,h=this.commonProps=this.getCommonProps();return e.createElement(i,ni({},h,{className:a,innerProps:{id:u,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:f}),this.renderLiveRegion(),e.createElement(n,ni({},h,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:f,menuIsOpen:l}),e.createElement(o,ni({},h,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),e.createElement(r,ni({},h,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),n}(e.Component);ti(Co,"defaultProps",xo);var To,Io={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Po=function(t){var n,r;return r=n=function(n){function r(){var e,t;Jr(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return ti(ui(ui(t=ci(this,(e=oi(r)).call.apply(e,[this].concat(i))))),"select",void 0),ti(ui(ui(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),ti(ui(ui(t)),"onChange",(function(e,n){t.callProp("onChange",e,n),t.setState({value:e})})),ti(ui(ui(t)),"onInputChange",(function(e,n){var r=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==r?r:e})})),ti(ui(ui(t)),"onMenuOpen",(function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})})),ti(ui(ui(t)),"onMenuClose",(function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})})),t}return ii(r,n),ei(r,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"===typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var n=this,r=this.props,i=(r.defaultInputValue,r.defaultMenuIsOpen,r.defaultValue,ai(r,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return e.createElement(t,ni({},i,{ref:function(e){n.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),r}(e.Component),ti(n,"defaultProps",Io),r},Ao={cacheOptions:!1,defaultOptions:!1,filterOption:null},No=function(t){var n,r;return r=n=function(n){function r(e){var t;return Jr(this,r),ti(ui(ui(t=ci(this,oi(r).call(this)))),"select",void 0),ti(ui(ui(t)),"lastRequest",void 0),ti(ui(ui(t)),"mounted",!1),ti(ui(ui(t)),"optionsCache",{}),ti(ui(ui(t)),"handleInputChange",(function(e,n){var r=t.props,i=r.cacheOptions,o=function(e,t,n){if(n){var r=n(e,t);if("string"===typeof r)return r}return e}(e,n,r.onInputChange);if(!o)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(i&&t.optionsCache[o])t.setState({inputValue:o,loadedInputValue:o,loadedOptions:t.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var s=t.lastRequest={};t.setState({inputValue:o,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(o,(function(e){t.mounted&&(e&&(t.optionsCache[o]=e),s===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:o,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return o})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:"undefined"!==typeof e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return ii(r,n),ei(r,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"===typeof r.then&&r.then(t,(function(){return t()}))}},{key:"render",value:function(){var n=this,r=this.props,i=(r.loadOptions,ai(r,["loadOptions"])),o=this.state,s=o.defaultOptions,a=o.inputValue,u=o.isLoading,c=o.loadedInputValue,l=o.loadedOptions,f=o.passEmptyOptions?[]:a&&c?l:s||[];return e.createElement(t,ni({},i,{ref:function(e){n.select=e},options:f,isLoading:u,onInputChange:this.handleInputChange}))}}]),r}(e.Component),ti(n,"defaultProps",Ao),r},Do=(No(Po(Co)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),i=String(t.label).toLowerCase();return r===n||i===n}),jo=ri({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return Do(e,t)}))||n.some((function(t){return Do(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Ro=function(t){var n,r;return r=n=function(n){function r(e){var t;Jr(this,r),ti(ui(ui(t=ci(this,oi(r).call(this,e)))),"select",void 0),ti(ui(ui(t)),"onChange",(function(e,n){var r=t.props,i=r.getNewOptionData,o=r.inputValue,s=r.isMulti,a=r.onChange,u=r.onCreateOption,c=r.value;if("select-option"!==n.action)return a(e,n);var l=t.state.newOption,f=Array.isArray(e)?e:[e];if(f[f.length-1]!==l)a(e,n);else if(u)u(o);else{var h=i(o,o),p={action:"create-option"};a(s?[].concat(li(di(c)),[h]):h,p)}}));var n=e.options||[];return t.state={newOption:void 0,options:n},t}return ii(r,n),ei(r,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,i=e.getNewOptionData,o=e.inputValue,s=e.isLoading,a=e.isValidNewOption,u=e.value,c=e.options||[],l=this.state.newOption;l=a(o,di(u),c)?i(o,r(o)):void 0,this.setState({newOption:l,options:!t&&s||!l?c:"first"===n?[l].concat(li(c)):[].concat(li(c),[l])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var n=this,r=ni({},this.props),i=this.state.options;return e.createElement(t,ni({},r,{ref:function(e){n.select=e},options:i,onChange:this.onChange}))}}]),r}(e.Component),ti(n,"defaultProps",jo),r},Mo=(Po(Ro(Co)),No(Po(Ro(Co))),function(t){return function(n){n.in,n.onExited,n.appear,n.enter,n.exit;var r=ai(n,["in","onExited","appear","enter","exit"]);return e.createElement(t,r)}}),Lo=function(t){var n=t.component,r=t.duration,i=void 0===r?1:r,o=t.in,s=(t.onExited,ai(t,["component","duration","in","onExited"])),a={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(i,"ms")},exiting:{opacity:0},exited:{opacity:0}};return e.createElement(Xr.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:o,timeout:i},(function(t){var r={style:ri({},a[t])};return e.createElement(n,ni({innerProps:r},s))}))},Fo=function(t){function n(){var e,t;Jr(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return ti(ui(ui(t=ci(this,(e=oi(n)).call.apply(e,[this].concat(i))))),"duration",260),ti(ui(ui(t)),"rafID",void 0),ti(ui(ui(t)),"state",{width:"auto"}),ti(ui(ui(t)),"transition",{exiting:{width:0,transition:"width ".concat(t.duration,"ms ease-out")},exited:{width:0}}),ti(ui(ui(t)),"getWidth",(function(e){e&&isNaN(t.state.width)&&(t.rafID=window.requestAnimationFrame((function(){var n=e.getBoundingClientRect().width;t.setState({width:n})})))})),ti(ui(ui(t)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),ti(ui(ui(t)),"getTransition",(function(e){return t.transition[e]})),t}return ii(n,t),ei(n,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var t=this,n=this.props,r=n.children,i=n.in,o=this.state.width;return e.createElement(Xr.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:i,timeout:this.duration},(function(n){var i=ri({},t.getStyle(o),t.getTransition(n));return e.createElement("div",{ref:t.getWidth,style:i},r)}))}}]),n}(e.Component),Uo=function(t){return function(n){var r=n.in,i=n.onExited,o=ai(n,["in","onExited"]);return e.createElement(Fo,{in:r,onExited:i},e.createElement(t,ni({cropWithEllipsis:r},o)))}},Vo=function(t){return function(n){return e.createElement(Lo,ni({component:t,duration:n.isMulti?260:1},n))}},Wo=function(t){return function(n){return e.createElement(Lo,ni({component:t},n))}},Bo=function(t){return function(n){return e.createElement(Xr.TransitionGroup,ni({component:t},n))}},qo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Eo({components:e}),n=t.Input,r=t.MultiValue,i=t.Placeholder,o=t.SingleValue,s=t.ValueContainer,a=ai(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return ri({Input:Mo(n),MultiValue:Uo(r),Placeholder:Vo(i),SingleValue:Wo(o),ValueContainer:Bo(s)},a)},zo=qo(),Ho=(zo.Input,zo.MultiValue,zo.Placeholder,zo.SingleValue,zo.ValueContainer,Cr(qo,ji),Po(Co)),Yo="../../assets/audio/single_tone.mp3",Go=new Audio(Yo);function Ko(){return(0,se.jsx)("audio",{autoPlay:!0,children:(0,se.jsx)("source",{src:Yo,type:"audio/mp3"})})}function Qo(){Go.play()}var Xo=$t(Ho)(To||(To=Se(["\n  width: 100%;\n  margin-top: 7px;\n  display: inline-block;\n  position: relative;\n  z-index: 1;\n"])));var $o,Jo=Array.from({length:10},(function(e,t){return t+1})),Zo=[].concat(Pn(Jo),[30]).map((function(e){return{value:60*(t=e)*1e3,label:"".concat(t," minute").concat(1===t?"":"s")};var t})),es=["eyes-closed","eyes-open","resting","erp","oddball"].map((function(e){return{value:e,label:e}})),ts={name:"Custom Recording",experimentId:"custom-recording",recordData:!0,onFinish:function(){var e=ve(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo(),e.abrupt("return",null);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),settings:function(t){var n=t.status,r=t.setInstructionsSettings,i=re((0,e.useState)(Zo[0]),2),o=i[0],s=i[1],a=re((0,e.useState)(es[0]),2),u=a[0],c=a[1];return(0,e.useEffect)((function(){r((function(e){return ee(ee({},e),{},{length:o.value,lengthLabel:o.label})}))}),[r,o]),(0,e.useEffect)((function(){r((function(e){return ee(ee({},e),{},{label:u.value})}))}),[r,u]),(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"row",children:[(0,se.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,se.jsxs)("div",{className:"form-group label-floating",children:[(0,se.jsx)("label",{className:"control-label",children:"Length"}),(0,se.jsx)(Xo,{placeholder:"Recording Length",value:o,onChange:function(e){return s(e)},isDisabled:"ready"!==n,isMulti:!1,options:Zo})]})}),(0,se.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,se.jsxs)("div",{className:"form-group label-floating",children:[(0,se.jsx)("label",{className:"control-label",children:"Label"}),(0,se.jsx)(Xo,{placeholder:"Label",value:u,onChange:function(e){return c(e)},isDisabled:"ready"!==n,isMulti:!1,options:es})]})})]}),(0,se.jsx)("hr",{})]})},instructions:function(e){return[{description:"Configure the recording and click \u201cStart\u201d. You'll hear a sound when the recording is complete.",duration:e.length,component:function(e){var t=e.instructionsSettings;return(0,se.jsxs)("div",{children:["Recording ",t.lengthLabel,' of data labeled as "',t.label,'".']})}}]}},ns=$t(Ho)($o||($o=Se(["\n  width: 100%;\n  margin-top: 7px;\n  display: inline-block;\n  position: relative;\n  z-index: 1;\n"])));var rs=Array.from({length:10},(function(e,t){return t+1})),is=[].concat(Pn(rs),[30]).map((function(e){return{value:60*(t=e)*1e3,label:"".concat(t," minute").concat(1===t?"":"s")};var t})),os=[2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27].map((function(e){return{value:e,label:e}})),ss=["falling","rising","both"].map((function(e){return{value:e,label:e}})),as=null,us={name:"Custom Recording with External Trigger",experimentId:"custom-external-trigger",recordData:!0,onFinish:function(){var e=ve(me().mark((function e(){return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qo(),as&&(as.unexport(),as=null),e.abrupt("return",null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),settings:function(t){var n=t.status,r=t.setInstructionsSettings,i=re((0,e.useState)(is[0]),2),o=i[0],s=i[1],a=re((0,e.useState)(ss[0]),2),u=a[0],c=a[1],l=re((0,e.useState)(os[0]),2),f=l[0],h=l[1];return(0,e.useEffect)((function(){r((function(e){return ee(ee({},e),{},{length:o.value,lengthLabel:o.label})}))}),[r,o]),(0,e.useEffect)((function(){r((function(e){return ee(ee({},e),{},{gpioEdgeDetectDirection:u.value})}))}),[r,u]),(0,e.useEffect)((function(){r((function(e){return ee(ee({},e),{},{gpioPin:f.value})}))}),[r,f]),(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)("div",{className:"row",children:[(0,se.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,se.jsxs)("div",{className:"form-group label-floating",children:[(0,se.jsx)("label",{className:"control-label",children:"Length"}),(0,se.jsx)(ns,{placeholder:"Recording Length",value:o,onChange:function(e){return s(e)},isDisabled:"ready"!==n,isMulti:!1,options:is})]})}),(0,se.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,se.jsxs)("div",{className:"form-group label-floating",children:[(0,se.jsx)("label",{className:"control-label",children:"Edge Detect Direction"}),(0,se.jsx)(ns,{placeholder:"Label",value:u,onChange:function(e){return c(e)},isDisabled:"ready"!==n,isMulti:!1,options:ss})]})}),(0,se.jsx)("div",{className:"col-md-12 col-lg-4",children:(0,se.jsxs)("div",{className:"form-group label-floating",children:[(0,se.jsx)("label",{className:"control-label",children:"GPIO MODE_RPI"}),(0,se.jsx)(ns,{placeholder:"GPIO",value:f,onChange:function(e){return h(e)},isDisabled:"ready"!==n,isMulti:!1,options:os})]})})]}),(0,se.jsx)("hr",{})]})},instructions:function(e){return[{description:"Configure the recording, GPIO edge detection, GPIO pin, and click \u201cStart\u201d. You'll hear a sound when the recording is complete.",duration:e.length,component:function(e){var t=e.instructionsSettings,n=t.gpioEdgeDetectDirection,r=t.gpioPin,i=new WebSocket("ws://localhost:9898/");return i.onopen=function(){console.log("WebSocket Client Connected");var e={action:"setup",command:"gpio",message:ee({},t)};i.send(JSON.stringify(e))},i.onmessage=function(e){console.log("Received: '"+e.data+"'")},(0,se.jsxs)("div",{children:["Recording ",t.lengthLabel,' of data labeled as "gpio-',n,"-",r,'".']})}}]}};var cs=function(e,t){return cs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},cs(e,t)};var ls=function(){return ls=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ls.apply(this,arguments)};function fs(t){var n=t.className,r=t.counterClockwise,i=t.dashRatio,o=t.pathRadius,s=t.strokeWidth,a=t.style;return(0,e.createElement)("path",{className:n,style:Object.assign({},a,ps({pathRadius:o,dashRatio:i,counterClockwise:r})),d:hs({pathRadius:o,counterClockwise:r}),strokeWidth:s,fillOpacity:0})}function hs(e){var t=e.pathRadius,n=e.counterClockwise?1:0;return"\n      M 50,50\n      m 0,-"+t+"\n      a "+t+","+t+" "+n+" 1 1 0,"+2*t+"\n      a "+t+","+t+" "+n+" 1 1 0,-"+2*t+"\n    "}function ps(e){var t=e.counterClockwise,n=e.dashRatio,r=e.pathRadius,i=2*Math.PI*r,o=(1-n)*i;return{strokeDasharray:i+"px "+i+"px",strokeDashoffset:(t?-o:o)+"px"}}var ds=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}cs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(n,t),n.prototype.getBackgroundPadding=function(){return this.props.background?this.props.backgroundPadding:0},n.prototype.getPathRadius=function(){return 50-this.props.strokeWidth/2-this.getBackgroundPadding()},n.prototype.getPathRatio=function(){var e=this.props,t=e.value,n=e.minValue,r=e.maxValue;return(Math.min(Math.max(t,n),r)-n)/(r-n)},n.prototype.render=function(){var t=this.props,n=t.circleRatio,r=t.className,i=t.classes,o=t.counterClockwise,s=t.styles,a=t.strokeWidth,u=t.text,c=this.getPathRadius(),l=this.getPathRatio();return(0,e.createElement)("svg",{className:i.root+" "+r,style:s.root,viewBox:"0 0 100 100","data-test-id":"CircularProgressbar"},this.props.background?(0,e.createElement)("circle",{className:i.background,style:s.background,cx:50,cy:50,r:50}):null,(0,e.createElement)(fs,{className:i.trail,counterClockwise:o,dashRatio:n,pathRadius:c,strokeWidth:a,style:s.trail}),(0,e.createElement)(fs,{className:i.path,counterClockwise:o,dashRatio:l*n,pathRadius:c,strokeWidth:a,style:s.path}),u?(0,e.createElement)("text",{className:i.text,style:s.text,x:50,y:50},u):null)},n.defaultProps={background:!1,backgroundPadding:0,circleRatio:1,classes:{root:"CircularProgressbar",trail:"CircularProgressbar-trail",path:"CircularProgressbar-path",text:"CircularProgressbar-text",background:"CircularProgressbar-background"},counterClockwise:!1,className:"",maxValue:100,minValue:0,strokeWidth:8,styles:{root:{},trail:{},path:{},text:{},background:{}},text:""},n}(e.Component);function vs(t){t.children;var n=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}(t,["children"]);return(0,e.createElement)("div",{"data-test-id":"CircularProgressbarWithChildren"},(0,e.createElement)("div",{style:{position:"relative",width:"100%",height:"100%"}},(0,e.createElement)(ds,ls({},n)),t.children?(0,e.createElement)("div",{"data-test-id":"CircularProgressbarWithChildren__children",style:{position:"absolute",width:"100%",height:"100%",marginTop:"-100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}},t.children):null))}function ys(e){var t=e.rotation,n=e.strokeLinecap,r=e.textColor,i=e.textSize,o=e.pathColor,s=e.pathTransition,a=e.pathTransitionDuration,u=e.trailColor,c=e.backgroundColor,l=null==t?void 0:"rotate("+t+"turn)",f=null==t?void 0:"center center";return{root:{},path:ms({stroke:o,strokeLinecap:n,transform:l,transformOrigin:f,transition:s,transitionDuration:null==a?void 0:a+"s"}),trail:ms({stroke:u,strokeLinecap:n,transform:l,transformOrigin:f}),text:ms({fill:r,fontSize:i}),background:ms({fill:c})}}function ms(e){return Object.keys(e).forEach((function(t){null==e[t]&&delete e[t]})),e}var bs=n(2426),gs=n.n(bs),_s=n(9092);function ws(e,t){return void 0===t&&(t=null),function(n){return n.lift(new Es(e,t))}}var Es=function(){function e(e,t){this.bufferSize=e,this.startBufferEvery=t,this.subscriberClass=t&&e!==t?Os:Ss}return e.prototype.call=function(e,t){return t.subscribe(new this.subscriberClass(e,this.bufferSize,this.startBufferEvery))},e}(),Ss=function(e){function t(t,n){var r=e.call(this,t)||this;return r.bufferSize=n,r.buffer=[],r}return Zt(t,e),t.prototype._next=function(e){var t=this.buffer;t.push(e),t.length==this.bufferSize&&(this.destination.next(t),this.buffer=[])},t.prototype._complete=function(){var t=this.buffer;t.length>0&&this.destination.next(t),e.prototype._complete.call(this)},t}(hn),Os=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return Zt(t,e),t.prototype._next=function(e){var t=this,n=t.bufferSize,r=t.startBufferEvery,i=t.buffers,o=t.count;this.count++,o%r===0&&i.push([]);for(var s=i.length;s--;){var a=i[s];a.push(e),a.length===n&&(i.splice(s,1),this.destination.next(a))}},t.prototype._complete=function(){for(var t=this.buffers,n=this.destination;t.length>0;){var r=t.shift();r.length>0&&n.next(r)}e.prototype._complete.call(this)},t}(hn);function xs(e,t){return function(n){return n.lift(new ks(e,t))}}var ks=function(){function e(e,t){this.compare=e,this.keySelector=t}return e.prototype.call=function(e,t){return t.subscribe(new Cs(e,this.compare,this.keySelector))},e}(),Cs=function(e){function t(t,n,r){var i=e.call(this,t)||this;return i.keySelector=r,i.hasKey=!1,"function"===typeof n&&(i.compare=n),i}return Zt(t,e),t.prototype.compare=function(e,t){return e===t},t.prototype._next=function(e){var t;try{var n=this.keySelector;t=n?n(e):e}catch(i){return this.destination.error(i)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))},t}(hn),Ts=15,Is=10,Ps=1.5;function As(e,t){return t>=Ts?e+.5:t>=Is?e+.85:t>=Ps?e+.95:.1}var Ns=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),Ds=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return Zt(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(cn),js=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return Zt(t,e),t}(hn),Rs=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Zt(t,e),t.prototype[fn]=function(){return new js(this)},t.prototype.lift=function(e){var t=new Ms(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new Ns;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)},t.prototype.error=function(e){if(this.closed)throw new Ns;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new Ns;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new Ns;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new Ns;return this.hasError?(e.error(this.thrownError),cn.EMPTY):this.isStopped?(e.complete(),cn.EMPTY):(this.observers.push(e),new Ds(this,e))},t.prototype.asObservable=function(){var e=new bn;return e.source=this,e},t.create=function(e,t){return new Ms(e,t)},t}(bn),Ms=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Zt(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):cn.EMPTY},t}(Rs),Ls=n(2736);new(n.n(Ls)())({lightness:.7});function Fs(){var t=le(),n=t.status,r=(t.selectedDevice,(n||{}).sleepMode),i=re((0,e.useState)({status:"ready"}),2),o=i[0],s=i[1],a=o.status,u=function(t){var n=t.observableGetter,r=t.status,i=t.dependencies,o=t.complete,s=void 0===o?function(){}:o,a=t.error,u=void 0===a?function(){}:a,c=t.next,l=void 0===c?function(){}:c,f=(0,e.useMemo)((function(){return new Rs}),[]),h=re((0,e.useState)(null),2),p=h[0],d=h[1];return(0,e.useEffect)((function(){return"started"===r&&n(f).pipe(tr(f)).subscribe({next:function(){d.apply(void 0,arguments),l.apply(void 0,arguments)},complete:s,error:u}),"ready"===r&&f.next(!0),function(){return f.next(!0)}}),[r].concat(Pn(i||[]))),[p,d]}({observableGetter:function(){return ae.signalQuality().pipe(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return yn(Rn((function(e){return Object.values(e).reduce((function(e,t){return As(e,t.standardDeviation)}),0)/Object.keys(e).length})),ws(t,e),Rn((function(e){return e.reduce((function(e,t){return e+t}),1)/e.length})),Rn((function(e){return Math.min(Number(e.toFixed(2)),1)})),xs())}())},status:a}),c=re(u,2),l=c[0],f=c[1],h=l>.75;function p(){s((function(e){return ee(ee({},e),{},{status:"ready",completedTime:gs()().diff(e.startTime),startTime:null})})),f(null)}return(0,e.useEffect)((function(){r&&p()}),[r]),(0,se.jsxs)("div",{className:"card",children:[(0,se.jsx)("div",{className:"card-header",children:(0,se.jsx)("h4",{children:"Signal Quality"})}),(0,se.jsx)(_s.kC,{className:"card-content",justifyContent:"center",mb:"10px",children:(0,se.jsx)(_s.kC,{width:"180px",height:"180px",children:(0,se.jsx)(vs,{value:l,maxValue:1,styles:ys({pathTransition:"stroke-dashoffset 1s ease 0s",pathTransitionDuration:1,trailColor:"rgba(0,0,0,0.06)",pathColor:l?h?"limegreen":"gold":"lightgray"}),children:(0,se.jsx)(Us,{score:Math.min(Number((100*l).toFixed(2)),100),label:h?"Great":"Adjust"})})})}),"started"===a&&(0,se.jsx)("div",{className:"card-footer",children:(0,se.jsx)("button",{className:"btn btn-default btn-sm",onClick:p,children:"Stop"})}),"ready"===a&&(0,se.jsx)("div",{className:"card-footer",children:(0,se.jsx)("button",{className:"btn btn-default btn-sm",disabled:r,onClick:function(){s((function(e){return ee(ee({},e),{},{status:"started",startTime:gs()(),completedTime:null})}))},children:"Start"})})]})}function Us(e){var t=e.score,n=e.label;return t?(0,se.jsxs)("div",{style:{textAlign:"center"},children:[(0,se.jsxs)("div",{style:{fontSize:"25px",fontWeight:600,marginBottom:2},children:[t,"%"]}),n]}):null}var Vs,Ws,Bs,qs={booting:"Starting OS...",shuttingOff:"Shutting off...",updating:"Updating OS...",online:"Online",offline:"Offline"},zs={booting:"darkslategrey",shuttingOff:"darkslategrey",updating:"orange",online:"limegreen",offline:"crimson"};function Hs(){var e=le(),t=e.status,n=e.selectedDevice,r=t||{},i=r.state,o=r.charging,s=r.battery,a=r.sleepMode;return t?(0,se.jsxs)("aside",{children:[n?(0,se.jsx)("h3",{className:"card-heading",children:(0,se.jsxs)(z,{to:"/devices",title:"My Devices",className:"unstyled-link",children:[(0,se.jsx)("span",{role:"img","aria-label":"My Devices",children:"\u2699\ufe0f"}),"\xa0\xa0",n.deviceNickname]})}):null,(0,se.jsxs)("div",{className:"status-item status-state",children:[(0,se.jsx)("span",{className:"status-indicator",style:{background:Ys(i)}}),i in qs?qs[i]:i]}),"offline"!==i?(0,se.jsxs)("div",{className:"status-item status-battery",children:[(0,se.jsx)(Gs,{})," \xa0",o?"Charging":"Charged","\xa0",s,"%"]}):null,a&&"offline"!==i?(0,se.jsxs)("div",{className:"status-item status-sleep-mode",children:[(0,se.jsx)(Ks,{})," \xa0Sleep mode"]}):null]}):(0,se.jsx)("div",{children:"Connecting to device..."})}function Ys(e){return e in zs?zs[e]:zs.offline}function Gs(){return(0,se.jsx)("span",{role:"img","aria-label":"Electricity",children:"\u26a1"})}function Ks(){return(0,se.jsx)("span",{role:"img","aria-label":"The Moon",children:"\ud83c\udf19"})}function Qs(){return(0,se.jsxs)("nav",{className:"card",children:[(0,se.jsx)(Hs,{}),(0,se.jsx)("button",{onClick:function(){O("/logout")},className:"card-btn",children:"Logout"}),(0,se.jsx)(_e,{})]})}var Xs=$t.div(Vs||(Vs=Se(["\n  border: 1px solid darkgray;\n  height: 300px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  font-size: 21px;\n\n  & img {\n    height: 298px !important;\n    width: auto !important;\n  }\n"]))),$s=$t.span.attrs({className:"label label-default"})(Ws||(Ws=Se(["\n  position: relative;\n  left: 10px;\n  top: -5px;\n  padding: 4px 9px;\n  border-radius: 4px;\n"]))),Js=$t.div(Bs||(Bs=Se(["\n  & .card {\n    min-height: 171px;\n    margin-bottom: 0;\n  }\n"])));function Zs(){var t=le(),n=t.status,r=t.selectedDevice,i=t.userClaims,o=t.user;(0,e.useEffect)((function(){o||O("/login")}),[o]);var s=(0,e.useMemo)((function(){return function(e){return e.userClaims,[us,ts,{name:"10 Minutes of Eyes Closed",experimentId:"eyes-closed",recordData:!0,instructions:[{description:"Close your eyes when you hear the tone in 5 seconds. Open your eyes in 10 minutes after the second tone plays.",duration:5e3,component:function(){return(0,se.jsx)("div",{children:" Get Ready."})}},{description:"Close your eyes",duration:6e5,component:function(){return ae.addMarker("eyes-closed"),(0,se.jsxs)("div",{children:[" ","Close Your Eyes.",(0,se.jsx)(Ko,{})]})}},{description:"Open your eyes",duration:5e3,component:function(){return ae.addMarker("eyes-opened"),(0,se.jsxs)("div",{children:[" ","Eyes closed test completed!",(0,se.jsx)(Ko,{})]})}}]},{name:"Alpha Resting State",experimentId:"alpha-resting-state",recordData:!0,instructions:[{description:"Complete as many of the equations in 30 seconds as possible.",duration:3e4,component:function(){return(0,se.jsx)(Or,{})}},{description:"After the tone plays breathe in time with the image and still your mind.",duration:3500,component:function(){return(0,se.jsx)("div",{})}},{description:"Breathe deeply. Focus gently on the breath.",duration:3e4,component:function(){return(0,se.jsx)("div",{children:(0,se.jsx)("img",{src:"../../assets/gifs/inhale-exhale.gif",alt:"Exhale"})})}}]},{name:"Alpha Reactive State",experimentId:"alpha-reactive-state",recordData:!0,instructions:[{description:"A tone will play every 20 seconds. At the first tone close your eyes, then alternate opening and closing your eyes.",duration:3e3,component:function(){return(0,se.jsx)("div",{children:" Get Ready."})}},{description:"Close your eyes",duration:2e4,component:function(){return(0,se.jsxs)("div",{children:[" ","Close Your Eyes.",(0,se.jsx)(Ko,{})]})}},{description:"Open your eyes",duration:2e4,component:function(){return(0,se.jsxs)("div",{children:[" ","Are you wearing socks?",(0,se.jsx)(Ko,{})]})}},{description:"Close your eyes",duration:2e4,component:function(){return(0,se.jsxs)("div",{children:[" ","Close Your Eyes",(0,se.jsx)(Ko,{})]})}},{description:"Watch the image",duration:2e4,component:function(){return(0,se.jsxs)("div",{children:[(0,se.jsx)("img",{src:"../../assets/gifs/baseline4.gif",alt:"Baseline"}),(0,se.jsx)(Ko,{})]})}},{description:"Close your eyes",duration:2e4,component:function(){return(0,se.jsxs)("div",{children:[" ","Close Your Eyes",(0,se.jsx)(Ko,{})]})}},{description:"Open your eyes",duration:3e3,component:function(){return(0,se.jsxs)("div",{children:[" ","Experiment Completed!",(0,se.jsx)(Ko,{})]})}}]},{name:"Visual Evoked Potential Spike",experimentId:"visual-evoked-potential",recordData:!0,instructions:[{description:"Neurons in visual cortex respond to visual stimuli. \n For the first 60 seconds shapes will appear randomly. \n Keep looking at the screen throughout that time. \n To start the experiment click \u201cStart\u201d",duration:6e4,component:function(){return(0,se.jsx)(_r,{sampleSize:40,baselinePeriod:5e3,minWaitPeriod:800,maxWaitPeriod:1200,onVisualStimuli:function(e){ae.addMarker(e)}})}}]},{name:"Steady State Visual Evoked Potential",experimentId:"ssvep",recordData:!0,instructions:[{description:"A light will flicker on the screen. Every 30 seconds the speed of the light will change and a cross will appear on the screen. With a relaxed gaze, watch the light flicker and refocus on the cross when it begins.\n To start the experiment, click \u201cStart\u201d.",duration:3e4,component:function(){return(0,se.jsx)(sr,{duration:3e4,frequencies:[10,15]})}}]}].filter((function(e){return!0}))}({selectedDevice:r,userClaims:i})}),[r,i]),a=(n||{}).sleepMode;return(0,se.jsx)(Js,{className:"content",children:(0,se.jsxs)("div",{className:"container-fluid",children:[(0,se.jsxs)("div",{className:"col-md-6",children:[o?(0,se.jsx)(Qs,{}):null,(0,se.jsx)(Fs,{})]}),(0,se.jsxs)("div",{className:"col-md-6",children:[(0,se.jsx)("h2",{children:"Tests"}),s.map((function(e){return(0,se.jsx)(ea,{test:e,sleepMode:a},e.name)}))]})]})})}function ea(t){var n=t.test,r=t.sleepMode,i=re((0,e.useState)(null),2),o=i[0],s=i[1],a=re((0,e.useState)("ready"),2),u=a[0],c=a[1],l=re((0,e.useState)(null),2),f=l[0],h=l[1],p=re((0,e.useState)(!1),2),d=p[0],v=p[1],y=re((0,e.useState)(null),2),m=y[0],b=y[1],g=re((0,e.useState)({}),2),_=g[0],w=g[1],E=re((0,e.useState)({}),2),S=E[0],O=E[1],x=(0,e.useMemo)((function(){var e="function"===typeof n.instructions?n.instructions(S):n.instructions,t=e.reduce((function(e,t){return e+t.duration}),0);return[e.map((function(e,t){return ee(ee({},e),{},{id:t})})),t]}),[S]),k=re(x,2),C=k[0],T=k[1],I=(0,e.useCallback)((function(){c("completed"),h(null)}),[]);(0,e.useEffect)((function(){"completed"===u&&("signal-quality"===n.experimentId?v(!0):"onFinish"in n?(v(!0),n.onFinish(_).then((function(e){v(!1),s(e)}))):s(!0))}),[u,_,n,v,s]),(0,e.useEffect)((function(){if(f){var e=f.id===C[C.length-1].id;kn(f.duration).subscribe((function(){if(e)I();else{var t=C.findIndex((function(e){return e.id===f.id}));h(C[t+1])}}))}}),[f,h,C,I]);var P=(0,e.useCallback)(ve(me().mark((function e(){var t;return me().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c("started"),h(C[0]),n.recordData){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,ae.dispatchAction({command:"brainwaves",action:"record",responseRequired:!0,responseTimeout:T+1e4,message:{name:In().create(),experimentId:n.experimentId,label:null!==(t=null===S||void 0===S?void 0:S.label)&&void 0!==t?t:n.experimentId,duration:T}});case 6:e.sent,n.experimentId;case 8:case"end":return e.stop()}}),e)}))),[c,n,h,S]),A=(0,e.useCallback)((function(){s(null),c("ready"),h(null),v(!1),b(null)}),[s,c,h,v,b]);return(0,se.jsxs)("div",{className:"card",children:[(0,se.jsx)("header",{className:"card-header",children:(0,se.jsxs)("h3",{children:[n.name,null!==n&&void 0!==n&&n.isInternal?(0,se.jsx)($s,{children:"Internal"}):null]})}),(0,se.jsxs)("div",{className:"card-content",children:[(0,se.jsxs)("div",{className:"row",children:[(0,se.jsxs)("div",{className:"col-md-6",children:[null!==n&&void 0!==n&&n.settings?(0,se.jsx)(n.settings,{status:u,setInstructionsSettings:O}):null,C.map((function(e,t){return(0,se.jsx)("p",{children:f&&e.id===f.id?(0,se.jsxs)("strong",{children:[t+1,") ",e.description]}):(0,se.jsxs)("span",{children:[t+1,") ",e.description]})},e.id)}))]}),(0,se.jsx)("div",{className:"col-md-6",children:(0,se.jsx)(Xs,{children:f?(0,se.jsx)(f.component,{setInstructionsState:w,instructionsSettings:S}):null})})]}),(0,se.jsxs)("div",{className:"row",children:[(0,se.jsxs)("div",{className:"col-md-10",children:[(0,se.jsxs)("button",{onClick:function(){return P()},className:"btn btn-default btn-md",disabled:"ready"!==u||"ready"===u&&r,children:[r?"Device in Sleep Mode":null,r||"ready"!==u?null:"Start",r||"started"!==u?null:"In progress",r||"completed"!==u?null:"Completed"]}),"\xa0","completed"===u?(0,se.jsx)("button",{onClick:function(){return A()},className:"btn btn-default btn-md",children:"Reset"}):null]}),(0,se.jsxs)("div",{className:"col-md-2",children:[d?(0,se.jsx)("span",{style:{marginTop:"20px"},className:"pull-right label label-default",children:"Testing..."}):null,null===o?null:(0,se.jsx)("span",{style:{marginTop:"20px"},className:"pull-right label label-".concat(!0===o?"info":"warning"),children:o?"Passed":"failed"})]})]}),(0,se.jsx)("div",{className:"row",children:(0,se.jsx)("div",{className:"col-md-12",children:m?(0,se.jsxs)(se.Fragment,{children:[(0,se.jsx)("br",{}),(0,se.jsx)("pre",{children:JSON.stringify(m,null,2)})]}):null})})]})]})}function ta(){return(0,se.jsx)(fe,{children:(0,se.jsx)(na,{})})}function na(){var t=le(),n=t.user,r=t.loadingUser;return(0,e.useEffect)((function(){r||n||O("/login")}),[n,r]),r?(0,se.jsx)(pe,{}):(0,se.jsxs)(R,{children:[(0,se.jsx)(Zs,{path:"/"}),(0,se.jsx)(he,{path:"/devices"}),(0,se.jsx)(we,{path:"/login"}),(0,se.jsx)(Ee,{path:"/logout"})]})}(0,t.render)((0,se.jsx)(ta,{}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.20aaf0ee.js.map